!function(t){function e(e){for(var r,i,o=e[0],s=e[1],a=0,l=[];a<o.length;a++)i=o[a],n[i]&&l.push(n[i][0]),n[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);for(u&&u(e);l.length;)l.shift()()}var r={},n={0:0};function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var o=window.webpackJsonp=window.webpackJsonp||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var a=0;a<o.length;a++)e(o[a]);var u=s;i(i.s="vvB1")}({"+0iT":function(t,e,r){var n=r("sEG9");(t.exports=r("I1BE")(!1)).push([t.i,'.cg-player_container{white-space:nowrap;user-select:none}.cg-player_container.ultraSmall .stats_box{overflow:hidden;margin-right:1%;width:24%!important;margin-bottom:0!important}.cg-player_container.ultraSmall .rankings{width:100%!important;margin-top:15px!important}.cg-player_container.ultraSmall .stats_name{text-overflow:ellipsis;width:77px;height:17px;margin-bottom:6px!important;overflow:hidden}.cg-player_container button:disabled{cursor:auto;opacity:.2}.cg-player_container .stats_panel{position:absolute;z-index:1;top:0;left:0}.cg-player_container .settings_panel.settings_panel_visible{margin-right:0;transition-duration:.2s}.cg-player_container .tooltipIcons{font-size:12px;text-transform:uppercase;font-weight:400;color:#fff;background-color:#000;position:fixed;padding:10px;opacity:.8;z-index:15;text-align:center}.cg-player_container .settings_panel{z-index:1;position:absolute;right:0;height:100%;width:256px;background-color:rgba(37,46,56,.95);overflow-y:auto;transition-duration:.2s;margin-right:-256px}.cg-player_container .settings_panel::-webkit-scrollbar{width:14px;height:14px;background-color:#252e38}.cg-player_container .settings_panel::-webkit-scrollbar-thumb{min-height:40px;border:4px solid transparent;background-clip:padding-box;-webkit-border-radius:7px;background-color:hsla(0,0%,100%,.2)}.cg-player_container .settings_panel .settings_option.disabled{opacity:.3}.cg-player_container .settings_panel .settings_option.disabled .settings_button input[type=radio]+label{cursor:auto}.cg-player_container .settings_panel .settings_option{margin:20px 15px;color:#b3b9ad}.cg-player_container .settings_panel .settings_option h3{height:auto;line-height:normal;font-size:14px;font-weight:400}.cg-player_container .settings_panel .settings_option .settings_button{margin-top:10px;border:1px dashed #b3b9ad;border-radius:2px;display:-webkit-flex;display:flex}.cg-player_container .settings_panel .settings_option .settings_button input[type=radio]{display:none}.cg-player_container .settings_panel .settings_option .settings_button input[type=radio]+label{font-size:12px;font-weight:600;cursor:pointer;-webkit-flex:1;flex:1;color:#b3b9ad;background-color:#252e38;margin:3px;height:27px;line-height:27px;text-align:center}.cg-player_container .settings_panel .settings_option .settings_button input[type=radio]:checked+label{background-color:#b3b9ad;color:#454c55}.cg-player_container .settings_panel .settings_option .settings_button.player_speed{display:block;border:none}.cg-player_container .settings_panel .settings_option .settings_button.player_speed input[type=radio]+label{margin:0;margin-right:-1px;display:inline-block;height:35px;line-height:35px;width:35px;border:1px solid #b3b9ad}.cg-player_container .player{min-width:250px;width:100%;overflow:hidden}.cg-player_container .player.tv-mode{position:relative}.cg-player_container .player.tv-mode .control-panel,.cg-player_container .player.tv-mode .share_footer{position:absolute;z-index:10;width:100%;bottom:-44px;transition:.4s ease}.cg-player_container .player.tv-mode:hover .control-panel{bottom:0;transition:bottom .4s ease}.cg-player_container .player.tv-mode .settings_panel_form{padding-bottom:35px}.cg-player_container .player:-webkit-full-screen{height:100%;display:block!important;width:100%!important;position:relative}.cg-player_container .player:-webkit-full-screen .control-panel,.cg-player_container .player:-webkit-full-screen .share_footer{position:absolute;z-index:10;width:100%;bottom:-44px;transition:.4s ease}.cg-player_container .player:-webkit-full-screen:hover .control-panel{bottom:0}.cg-player_container .player:-webkit-full-screen .settings_panel_form{padding-bottom:35px}.cg-player_container .player:-webkit-full-screen .control-panel,.cg-player_container .player:-webkit-full-screen .share_footer{transition-delay:1s}.cg-player_container .player:-webkit-full-screen .gameBoxContainer{background:#000;height:100%}.cg-player_container .player:-webkit-full-screen:hover .control-panel{bottom:-44px;transition:bottom .4s ease;transition-delay:1s}.cg-player_container .player:-webkit-full-screen .control-panel:hover{bottom:0;transition:.4s ease}.cg-player_container .player:-webkit-full-screen .settings_panel_form{padding-bottom:0}.cg-player_container .player:-moz-full-screen{height:100%;display:block!important;width:100%!important;position:relative}.cg-player_container .player:-moz-full-screen .control-panel,.cg-player_container .player:-moz-full-screen .share_footer{position:absolute;z-index:10;width:100%;bottom:-44px;transition:.4s ease}.cg-player_container .player:-moz-full-screen:hover .control-panel{bottom:0}.cg-player_container .player:-moz-full-screen .settings_panel_form{padding-bottom:35px}.cg-player_container .player:-moz-full-screen .control-panel,.cg-player_container .player:-moz-full-screen .share_footer{transition-delay:1s}.cg-player_container .player:-moz-full-screen .gameBoxContainer{background:#000;height:100%}.cg-player_container .player:-moz-full-screen:hover .control-panel{bottom:-44px;transition:bottom .4s ease;transition-delay:1s}.cg-player_container .player:-moz-full-screen .control-panel:hover{bottom:0;transition:.4s ease}.cg-player_container .player:-moz-full-screen .settings_panel_form{padding-bottom:0}.cg-player_container .player:-ms-fullscreen{height:100%;display:block!important;width:100%!important;position:relative}.cg-player_container .player:-ms-fullscreen .control-panel,.cg-player_container .player:-ms-fullscreen .share_footer{position:absolute;z-index:10;width:100%;bottom:-44px;transition:.4s ease}.cg-player_container .player:-ms-fullscreen:hover .control-panel{bottom:0}.cg-player_container .player:-ms-fullscreen .settings_panel_form{padding-bottom:35px}.cg-player_container .player:-ms-fullscreen .control-panel,.cg-player_container .player:-ms-fullscreen .share_footer{transition-delay:1s}.cg-player_container .player:-ms-fullscreen .gameBoxContainer{background:#000;height:100%}.cg-player_container .player:-ms-fullscreen:hover .control-panel{bottom:-44px;transition:bottom .4s ease;transition-delay:1s}.cg-player_container .player:-ms-fullscreen .control-panel:hover{bottom:0;transition:.4s ease}.cg-player_container .player:-ms-fullscreen .settings_panel_form{padding-bottom:0}.cg-player_container .player:full-screen{height:100%;display:block!important;width:100%!important;position:relative}.cg-player_container .player:full-screen .control-panel,.cg-player_container .player:full-screen .share_footer{position:absolute;z-index:10;width:100%;bottom:-44px;transition:.4s ease}.cg-player_container .player:full-screen:hover .control-panel{bottom:0}.cg-player_container .player:full-screen .settings_panel_form{padding-bottom:35px}.cg-player_container .player:full-screen .control-panel,.cg-player_container .player:full-screen .share_footer{transition-delay:1s}.cg-player_container .player:full-screen .gameBoxContainer{background:#000;height:100%}.cg-player_container .player:full-screen:hover .control-panel{bottom:-44px;transition:bottom .4s ease;transition-delay:1s}.cg-player_container .player:full-screen .control-panel:hover{bottom:0;transition:.4s ease}.cg-player_container .player:full-screen .settings_panel_form{padding-bottom:0}.cg-player_container .player:fullscreen{height:100%;display:block!important;width:100%!important;position:relative}.cg-player_container .player:fullscreen .control-panel,.cg-player_container .player:fullscreen .share_footer{position:absolute;z-index:10;width:100%;bottom:-44px;transition:.4s ease}.cg-player_container .player:fullscreen:hover .control-panel{bottom:0}.cg-player_container .player:fullscreen .settings_panel_form{padding-bottom:35px}.cg-player_container .player:fullscreen .control-panel,.cg-player_container .player:fullscreen .share_footer{transition-delay:1s}.cg-player_container .player:fullscreen .gameBoxContainer{background:#000;height:100%}.cg-player_container .player:fullscreen:hover .control-panel{bottom:-44px;transition:bottom .4s ease;transition-delay:1s}.cg-player_container .player:fullscreen .control-panel:hover{bottom:0;transition:.4s ease}.cg-player_container .player:fullscreen .settings_panel_form{padding-bottom:0}.cg-player_container .gameBoxContainer{position:relative;background-color:grey;width:100%}.cg-player_container .playerDummy{padding-top:50%;display:block;content:""}.cg-player_container canvas{width:100%;height:100%;position:absolute;top:0;bottom:0;right:0;left:0}.cg-player_container canvas:focus{outline:none}.cg-player_container .progress_bar{position:relative;background-color:#f2bb13;width:0;height:100%}.cg-player_container .progress_back{background-color:#3f4446;left:0;bottom:7px;position:absolute;width:100%;height:3px;transition-duration:.5s}.cg-player_container .progress_hitbox{z-index:1;position:absolute;top:-13px;height:20px;width:100%}.cg-player_container .progress_hitbox.active .progress_back,.cg-player_container .progress_hitbox.force_hover .progress_back,.cg-player_container .progress_hitbox:hover .progress_back{height:8px}.cg-player_container .progress_hitbox.force_hover .scroller,.cg-player_container .progress_hitbox:hover .scroller,.cg-player_container .scroller.active{display:block;right:-10px;top:-6px;-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}.cg-player_container .scroller.active .tooltipFrame,.cg-player_container .scroller_handle.force_hover+.scroller .tooltipFrame,.cg-player_container .scroller_handle:hover+.scroller .tooltipFrame{display:block}.cg-player_container .scroller.active .tooltipFrame .tooltip_content,.cg-player_container .scroller_handle.force_hover+.scroller .tooltipFrame .tooltip_content,.cg-player_container .scroller_handle:hover+.scroller .tooltipFrame .tooltip_content{background-color:#f2bb13}.cg-player_container .scroller{z-index:2;position:absolute;right:-10px;top:-3px;display:block;transition-duration:.5s;-webkit-transform-origin:50% 25%;-moz-transform-origin:50% 25%;-ms-transform-origin:50% 25%;-o-transform-origin:50% 25%;transform-origin:50% 25%;-webkit-transform:scale(0);-moz-transform:scale(0);-ms-transform:scale(0);-o-transform:scale(0);transform:scale(0)}.cg-player_container .scroller_handle{position:absolute;width:20px;height:20px;margin-top:-6px;margin-left:-10px;z-index:3;cursor:pointer}.cg-player_container .scroller_cursor{position:relative;float:right;background:url('+n(r("vMCt"))+');height:20px;width:20px}.cg-player_container .share_footer{background-color:#454c55;height:54px;position:relative;padding-top:12px;padding-bottom:12px;padding-right:15px}.cg-player_container .share_footer button{margin-left:15px;margin-top:2px;display:inline-block;float:right}.cg-player_container .settings{position:absolute;right:0;margin-right:15px;padding-top:2px;padding-bottom:2px}.cg-player_container .frame-position{display:inline-block;color:#fff;font-size:14px;margin:0 10px;font-weight:400}.cg-player_container .speed_options{display:inline-block;width:160px}.cg-player_container .button_text_container{float:left}.cg-player_container .button_text{color:#b3b9ad;margin-top:4px;font-weight:lighter}.cg-player_container .button_text_over{color:#fff;margin-top:4px;font-weight:lighter}.cg-player_container .multiplier{display:inline;font-size:12px}.cg-player_container .speed_number{display:inline;font-size:14px}.cg-player_container .tooltipFrame{height:28px;display:none;position:absolute;top:-38px!important;margin-left:50%}.cg-player_container .tooltipFrame .tooltipFrameTriangle{top:100%;left:0;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none;border-width:6px;margin-left:-6px}.cg-player_container .tooltipFrameTimer{width:70px;text-align:center}.cg-player_container .tooltip_content{height:100%;margin-left:-50%;margin-right:50%;padding-left:10px;padding-top:8px;padding-right:10px}.cg-player_container .tooltip_text{white-space:nowrap;overflow:hidden;color:#fff;font-size:12px;line-height:12px;font-weight:700}.cg-player_container .scroller .tooltipFrame .frame_timer_text{color:#454c55}.cg-player_container .tooltip_triangle{position:absolute;bottom:-6px;left:-6px;background:url('+n(r("VRh9"))+");height:6px;width:12px}.cg-player_container .ai_player{position:absolute;height:100%;width:10px;z-index:1;display:none;left:0}.cg-player_container .ai_player:hover .tooltipFrame{display:block}.cg-player_container .control-panel{background-color:#252e38;height:44px;position:relative;margin-top:3px}.cg-player_container .control-panel-replay{float:left}.cg-player_container .control-panel-replay,.cg-player_container .control-panel-settings{height:100%;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;padding:0 10px}.cg-player_container .control-panel-settings{float:right}.cg-player_container .control-panel-button{display:inline-block;margin:0 10px;opacity:.7;transition:opacity .2s;border:none}.cg-player_container .control-panel-button:hover{opacity:1}.cg-player_container .control-panel-button.disabled,.cg-player_container .control-panel-button:disabled{opacity:.2!important;pointer-events:none}.cg-player_container .control-panel-button.first-button{background:url("+n(r("Spd4"))+");height:12px;width:14px}.cg-player_container .control-panel-button.prior-button{background:url("+n(r("rm89"))+");height:12px;width:8px}.cg-player_container .control-panel-button.play-pause-button{background:url("+n(r("NE08"))+");height:22px;width:19px;opacity:1}.cg-player_container .control-panel-button.play-pause-button:hover{opacity:.8}.cg-player_container .control-panel-button.next-button{background:url("+n(r("AhwK"))+");height:12px;width:8px}.cg-player_container .control-panel-button.last-button{background:url("+n(r("eOGM"))+");height:12px;width:14px}.cg-player_container .control-panel-button.settings-button{background:url("+n(r("wveC"))+");height:18px;width:18px}.cg-player_container .control-panel-button.replay-button{background:url("+n(r("v+e/"))+");height:18px;width:14px}.cg-player_container .control-panel-button.fullscreen-button{background:url("+n(r("oMvK"))+");height:18px;width:25px}.cg-player_container .control-panel-button.extract-button{background:url("+n(r("14ch"))+");height:12px;width:13px}.cg-player_container .player.playing .control-panel-button.play-pause-button{background:url("+n(r("pxsY"))+");height:22px;width:19px}.cg-player_container .info_box{-webkit-user-select:initial;-moz-user-select:initial;-ms-user-select:initial;user-select:auto;white-space:normal;background-color:#252e38;padding-left:20px;padding-top:9px;padding-bottom:9px;color:#fff;overflow:auto;position:relative}.cg-player_container .info_box.console-open{height:180px}.cg-player_container .uinput{margin-top:0!important}.cg-player_container .info_game_container{display:block}.cg-player_container .info_game_label{font-size:17px;font-weight:700;margin-bottom:6px}.cg-player_container .info_stderr_container,.cg-player_container .info_stdout_container{margin-top:13px;display:none}.cg-player_container .info_parameters_container{margin-top:13px}.cg-player_container .info_parameters_label,.cg-player_container .info_stderr_label,.cg-player_container .info_stdout_label{font-size:17px;font-weight:700}.cg-player_container .info_game,.cg-player_container .info_parameters,.cg-player_container .info_stderr,.cg-player_container .info_stdout{font-size:14px;font-weight:400;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.cg-player_container .rankings{display:inline-block;vertical-align:top;margin-left:0;margin-top:20px;margin-bottom:20px}.cg-player_container .rankings.small{display:block;width:100%;margin:0;padding:15px}.cg-player_container .stats_box{display:inline-block;color:#454c55;margin-top:10px;margin-bottom:10px;width:225px}.cg-player_container .stats_box.small{width:50%;float:left}.cg-player_container .stats_rank{position:relative;display:inline-block;vertical-align:top;width:50px;height:50px;line-height:50px;text-align:center;font-weight:700;color:#fff;font-size:20px}.cg-player_container .stats_rank.small{width:40px;height:40px;line-height:40px;font-size:14px}.cg-player_container .stats_details_box{display:inline-block;vertical-align:top;line-height:12px;margin-left:10px}.cg-player_container .stats_name{-moz-user-select:initial;-khtml-user-select:initial;-webkit-user-select:initial;-o-user-select:initial;margin-bottom:22px;font-size:18px}.cg-player_container .stats_name.small{margin-bottom:14px}.cg-player_container .stats_icon{display:inline-block}.cg-player_container .stats_icon.nation{margin-left:10px}.cg-player_container .stats_nation,.cg-player_container .stats_score{display:inline-block;margin-left:4px}.cg-player_container .star{position:absolute;top:0;left:0}.cg-player_container .star path{stroke:none}.cg-player_container .star_text{position:relative;font-weight:inherit}.cg-player_container .nickname{font-size:12px;font-weight:700;padding:0 5px;display:inline;color:#454c55;background-color:grey}.cg-player_container .info_ellipsis_button{background:url("+n(r("rTiS"))+");background-repeat:no-repeat;background-position:50%;position:absolute;right:30px;width:25px;height:15px;top:16px}.cg-player_container .info_ellipsis_button .over,.cg-player_container .info_ellipsis_button .under{position:absolute;top:40%;left:0}.cg-player_container .info_ellipsis_button .over,.cg-player_container .info_ellipsis_button .under:hover{opacity:0}.cg-player_container .info_ellipsis_button .over:hover,.cg-player_container .info_ellipsis_button .under{opacity:1}.cg-player_container .info_ellipsis_button:hover{background:url("+n(r("ONr6"))+");background-repeat:no-repeat;background-position:50%}.cg-player_container .settings_close_button{display:block;position:absolute;top:12px;right:12px;height:12px;width:12px;cursor:pointer;background:url("+n(r("CFt4"))+");width:12;height:12;opacity:.8;transition:opacity .2s}.cg-player_container .settings_close_button:hover{opacity:1}.cg-player_container .replay-prompt{height:42px;position:absolute;top:-57px;right:46px;opacity:1;transition:all .2s;cursor:pointer;border:none}.cg-player_container .replay-prompt.ng-enter,.cg-player_container .replay-prompt.ng-leave.ng-leave-active{opacity:0;top:-51px}.cg-player_container .replay-prompt.ng-enter.ng-enter-active,.cg-player_container .replay-prompt.ng-leave{opacity:1;top:-57px}.cg-player_container .replay-prompt-content{display:block;height:100%;padding:0 34px;background:#f2bb13}.cg-player_container .prompt-text{white-space:nowrap;overflow:hidden;color:#454c55;font-size:13px;line-height:42px;font-weight:400;text-transform:uppercase}.cg-player_container .prompt-triangle{position:absolute;bottom:-6px;right:20px;background:url("+n(r("VRh9"))+");height:6px;width:12px}",""])},"+auO":function(t,e,r){var n=r("XKFU"),i=r("lvtm");n(n.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},"+oPb":function(t,e,r){"use strict";r("OGtf")("blink",function(t){return function(){return t(this,"blink","","")}})},"+rLv":function(t,e,r){var n=r("dyZX").document;t.exports=n&&n.documentElement},"/457":function(t,e){t.exports='<div id=cg-player class=cg-player_container ng-class="{\'ultraSmall\': ultraSmall}"> <div class=tooltipIcons ng-show=displayTooltip> <div ng-if=tooltipsMessage translate={{tooltipsMessage}}></div> </div> <div class=player ng-class="{playing: gameManager.isPlaying(), \'tv-mode\': tvMode}"> <div class=gameBoxContainer> <div class=stats_panel ng-show=settingsVisible></div> <div class=settings_panel ng-class="{settings_panel_visible: settingsVisible}"> <button class="settings_close_button player_hover_container" ng-click=setOptionsVisible(false)> </button> <form class=settings_panel_form> <div ng-repeat="option in options" class=settings_option ng-class="{disabled: option.enabled && !option.enabled()}"> <h3 ng-bind=option.title></h3> <div class=settings_button> <input ng-disabled="option.enabled && !option.enabled()" ng-model=option.value ng-change="refresh(); drawerOptionChanged(option);" ng-value=value name="{{\'player\'+uniqueId+\'SettingsOption\'+$parent.$index}}" ng-repeat-start="(key, value) in option.values" type=radio id="{{\'player\'+uniqueId+\'SettingsOption\'+$parent.$index+\'\'+$index}}"><label ng-repeat-end for="{{\'player\'+uniqueId+\'SettingsOption\'+$parent.$index+\'\'+$index}}" ng-bind=key></label> </div> </div> <div class=settings_option> <h3 translate=cgPlayer.quality></h3> <div class=settings_button> <input type=radio name=quality id=player{{uniqueId}}QualitySd ng-change="resize(); drawerQualityChanged(1);" ng-model=overSampling ng-value=1><label for=player{{uniqueId}}QualitySd>SD</label> <input type=radio name=quality id=player{{uniqueId}}QualityHd ng-change="resize(); drawerQualityChanged(2);" ng-model=overSampling ng-value=2><label for=player{{uniqueId}}QualityHd>HD</label> </div> </div> <div class=settings_option ng-class="{disabled: !gameManager}"> <h3 translate=cgPlayer.speed></h3> <div class="settings_button player_speed"> <input ng-repeat-start="speed in availableSpeeds" ng-disabled=!gameManager ng-model=gameManager.speed ng-value=speed type=radio id=player{{uniqueId}}SettingsSpeed{{speed}} name=settingsSpeed ng-change=drawerSpeedChanged(speed);><label ng-repeat-end for=player{{uniqueId}}SettingsSpeed{{speed}}>X{{speed}}</label> </div> </div> </form> </div> <div class=canvas-container> </div> <div class=playerDummy></div> </div> <div class=control-panel> <a class="replay-prompt angular-animate" ng-click="analyticsOpenReplay({from: \'prompt\', analyticsGameId: analyticsGameId, analyticsType: analyticsType})" ng-if="showReplayPrompt && atEnd()" target=_blank ng-href={{baseUrl}}/share-replay/{{currentGameId}}> <span class=replay-prompt-content> <span class=prompt-text translate=cgPlayer.share></span> </span> <span class=prompt-triangle></span> </a> <div class=progress_hitbox ng-style="{\'pointer-events\':(startScreen) ? \'none\' : \'auto\'}"> <div class=progress_back> <div class=marker_container></div> <div class=progress_bar> <div class=scroller_handle></div> <div class=scroller> <div class=scroller_cursor></div> <div class="tooltipFrame tooltipFrameTimer"> <div class=tooltip_content> <div class="tooltip_text frame_timer_text">0/0</div> </div> <div class=tooltip_triangle></div> </div> </div> </div> </div> </div> <div class=control-panel-replay> <button ng-disabled="!gameManager || !gameManager.areInteractionsEnabled() || updater.first" class="control-panel-button first-button" ng-click=gameManager.first()></button> <button ng-disabled="!gameManager || !gameManager.areInteractionsEnabled() || updater.first" ng-show="tvMode !== true" class="control-panel-button prior-button" ng-click=gameManager.prior()></button> <button ng-disabled="!gameManager || !gameManager.areInteractionsEnabled()" class="control-panel-button play-pause-button" ng-click=gameManager.togglePlay(true)></button> <button ng-disabled="!gameManager || !gameManager.areInteractionsEnabled() || updater.last" class="control-panel-button next-button" ng-click=gameManager.next()></button> <button ng-disabled="!gameManager || !gameManager.areInteractionsEnabled() || updater.last" class="control-panel-button last-button" ng-click=gameManager.last()></button> <div ng-show=gameManager class="frame_timer_text frame-position">0/0</div> </div> <div class=control-panel-settings> <button class="control-panel-button settings-button" ng-click=toggleOptions() ng-mouseenter="updateTooltipMessage(\'cgPlayer.ToolTipIcons.options\')" ng-mouseleave=hideTooltip()></button> <a ng-if="shareable !== false" ng-class={disabled:!currentGameId} class="control-panel-button replay-button" target=_blank ng-href={{baseUrl}}/share-replay/{{currentGameId}} ng-mouseenter="updateTooltipMessage(\'cgPlayer.ToolTipIcons.replay\')" ng-mouseleave=hideTooltip() ng-click="analyticsOpenReplay({from: \'icon\', analyticsGameId: analyticsGameId, analyticsType: analyticsType})"></a> <button class="control-panel-button fullscreen-button" ng-click=toggleFullScreen() ng-mouseenter="updateTooltipMessage(\'cgPlayer.ToolTipIcons.fullscreen\')" ng-mouseleave=hideTooltip()></button> <button ng-if=false class="control-panel-button extract-button" ng-mouseenter="updateTooltipMessage(\'cgPlayer.ToolTipIcons.extract\')" ng-mouseleave=hideTooltip()></button> </div> </div> <div class=info_box ng-if=getShowConsole() ng-class="{\'console-open\': expandConsole || !collapsableConsole}"> <div class=info_game_container> <button ng-if=collapsableConsole class="info_ellipsis_button hover_container" ng-click=toggleConsole()> </button> <div class=info_game_label translate=cgPlayer.gameInformation></div> <div ng-show="expandConsole || !collapsableConsole" class=info_game></div> </div> <div ng-show="expandConsole || !collapsableConsole" class=info_stdout_container> <div class=info_stdout_label translate=cgPlayer.outputStream></div> <div class=info_stdout></div> </div> <div ng-show="expandConsole || !collapsableConsole" class=info_stderr_container> <div class=info_stderr_label translate=cgPlayer.errorStream></div> <div class=info_stderr></div> </div> </div> <div class="uinput info_box" ng-if="uinput && getShowConsole()" ng-show=expandConsole> <div class=info_parameters_container> <div class=info_parameters_label translate=cgPlayer.gameParameters></div> <pre class=info_parameters data-ng-bind=uinput></pre> </div> </div> </div> <div class=rankings ng-if="getShowRankings() && rankingData.length > 1"> <div class=stats_box ng-repeat="rank in rankingData"> <div class=stats_rank ng-style="{\n\t\t\t\t\'background-color\':rank.winner ? null : rank.color, \n\t\t\t\t\'font-size\':(rank.rank >= 100) ? \'16px\' : \'20px\'\n\t\t\t\t}"> <div class=star ng-show=rank.winner> <svg width=50 height=50 viewBox="0 3 50 50"> <path ng-style="{fill: rank.color}" d="M 1.7218182,17.028213 18.477139,16.760312 26.455858,3.099611 33.2821,16.671012 l 18.439718,0 -10.283685,16.3393 2.925533,20.089299 L 26.36721,39.796012 8.81401,53.010311 11.56224,32.921012 z"/> </svg> </div> <div class=star_text ng-bind="rank.rank | number"></div> </div> <div class=stats_details_box> <div class=stats_name ng-bind=rank.name></div> <div ng-if="rank.score !== null" class=stats_extra_box> <div ng-if="rank.score !== undefined" class="stats_icon player-img_leaderboard_score"></div> <div class=stats_score ng-bind="rank.score | number:2"></div> <div style=display:inline-block ng-show=rank.nation> <div class="stats_icon nation player-img_leaderboard_country"></div> <div class=stats_nation ng-bind=rank.nation></div> </div> </div> </div> </div> </div> <div class="rankings small" ng-if="showSmallRankings && rankingData"> <div class="stats_box small" ng-repeat="rank in rankingData"> <div class="stats_rank small" ng-style="{\'background-color\':rank.color, \'font-size\':(rank.rank >= 100) ? \'10px\' : \'14px\'}"> <div class=star ng-show=rank.winner ng-class="\'player-img_player_star_color_0\'+(rank.index+1)+\'_resized\'"></div> <div class=star_text ng-bind="rank.rank | number"></div> </div> <div class=stats_details_box> <div class="stats_name small" ng-bind=rank.name></div> <div class="stats_extra_box small"> <div class="stats_icon player-img_leaderboard_score"></div> <div class=stats_score ng-bind="rank.score | number:2"></div> <div style=display:inline-block ng-show=rank.nation> <div class="stats_icon nation player-img_leaderboard_country"></div> <div class=stats_nation ng-bind=rank.nation></div> </div> </div> </div> </div> <div style=clear:both></div> </div> </div> '},"/8Fb":function(t,e,r){var n=r("XKFU"),i=r("UExd")(!0);n(n.S,"Object",{entries:function(t){return i(t)}})},"/KAi":function(t,e,r){var n=r("XKFU"),i=r("dyZX").isFinite;n(n.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},"/SS/":function(t,e,r){var n=r("XKFU");n(n.S,"Object",{setPrototypeOf:r("i5dc").set})},"/Vpf":function(t,e,r){r("0Mri"),t.exports=r("g3g5").RegExp.escape},"/XPn":function(t){t.exports={cgPlayer:{gameInformation:"Informations sur la partie :",outputStream:"Sortie standard :",errorStream:"Sortie d'erreur :",gameParameters:"Paramètres de la partie :",speed:"VITESSE",quality:"QUALITÉ",ToolTipIcons:{options:"Options",replay:"Revoir et partager",fullscreen:"Plein écran",extract:"Extraire"},share:"Partager ce replay"}}},"/e88":function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},"/uf1":function(t,e,r){"use strict";var n=r("XKFU"),i=r("S/j/"),o=r("2OiF"),s=r("hswa");r("nh4g")&&n(n.P+r("xbSm"),"Object",{__defineSetter__:function(t,e){s.f(i(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},"0/R4":function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},"0E+W":function(t,e,r){r("elZq")("Array")},"0LDn":function(t,e,r){"use strict";r("OGtf")("italics",function(t){return function(){return t(this,"i","","")}})},"0Mri":function(t,e,r){var n=r("XKFU"),i=r("q9eg")(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(t){return i(t)}})},"0YWM":function(t,e,r){var n=r("EemH"),i=r("OP3Y"),o=r("aagx"),s=r("XKFU"),a=r("0/R4"),u=r("y3w9");s(s.S,"Reflect",{get:function t(e,r){var s,l,h=arguments.length<3?e:arguments[2];return u(e)===h?e[r]:(s=n.f(e,r))?o(s,"value")?s.value:void 0!==s.get?s.get.call(h):void 0:a(l=i(e))?t(l,r,h):void 0}})},"0l/t":function(t,e,r){"use strict";var n=r("XKFU"),i=r("CkkT")(2);n(n.P+n.F*!r("LyE8")([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},"0mN4":function(t,e,r){"use strict";r("OGtf")("fixed",function(t){return function(){return t(this,"tt","","")}})},"0sh+":function(t,e,r){var n=r("quPj"),i=r("vhPU");t.exports=function(t,e,r){if(n(e))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(t))}},"11IZ":function(t,e,r){var n=r("dyZX").parseFloat,i=r("qncB").trim;t.exports=1/n(r("/e88")+"-0")!=-1/0?function(t){var e=i(String(t),3),r=n(e);return 0===r&&"-"==e.charAt(0)?-0:r}:n},"14Xm":function(t,e,r){t.exports=r("u938")},"14ch":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAMCAYAAAC5tzfZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjc5M0FFRjVDNUQxNTExRTVBMzEwQkFBQjJGMEUyM0RGIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjc5M0FFRjVENUQxNTExRTVBMzEwQkFBQjJGMEUyM0RGIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzkzQUVGNUE1RDE1MTFFNUEzMTBCQUFCMkYwRTIzREYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzkzQUVGNUI1RDE1MTFFNUEzMTBCQUFCMkYwRTIzREYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4P5XNmAAAAe0lEQVR42mL8//8/AxowAOIiIGZkwA56WbAIXgDitUBcg0MjDxMO0zYCcQsQ/8cmiUsTTOM+UjXFArEzlP2fGE0gDflQ9kQMp4JCDw3HAvEZKI5FEvcH4tNAbEOsBmSN1qRogGEmUjWAMYjwI0UDTJMQEK8iVgMIAwQYANRiBg5b26e2AAAAAElFTkSuQmCC"},"1MBn":function(t,e,r){var n=r("DVgA"),i=r("JiEa"),o=r("UqcF");t.exports=function(t){var e=n(t),r=i.f;if(r)for(var s,a=r(t),u=o.f,l=0;a.length>l;)u.call(t,s=a[l++])&&e.push(s);return e}},"1TEc":function(t,e){(function(t,e){function r(t,e,n,i){r._super_.call(this),this.reset(t,e,n,i)}function n(t,e,r,i){n._super_.call(this),this.x=t,this.y=e,this.width=r,this.height=i}function i(t,e){i._super_.call(this),this.x=t,this.y=e}function o(t,e,r){o._super_.call(this),this.x=t,this.y=e,this.radius=r,this.angle=0,this.center={x:this.x,y:this.y}}function s(t,e,r,n,i){s._super_.call(this),r-t>=0?(this.x1=t,this.y1=e,this.x2=r,this.y2=n):(this.x1=r,this.y1=n,this.x2=t,this.y2=e),this.dx=this.x2-this.x1,this.dy=this.y2-this.y1,this.minx=Math.min(this.x1,this.x2),this.miny=Math.min(this.y1,this.y2),this.maxx=Math.max(this.x1,this.x2),this.maxy=Math.max(this.y1,this.y2),this.dot=this.x2*this.y1-this.x1*this.y2,this.xxyy=this.dx*this.dx+this.dy*this.dy,this.gradient=this.getGradient(),this.length=this.getLength(),this.direction=z.Util.initValue(i,">")}function a(){this.vector=new z.Vector2D(0,0),this.random=0,this.crossType="dead",this.alert=!0}function u(t,e){u._super_.call(this,t,e),this.gl=this.element.getContext("experimental-webgl",{antialias:!0,stencil:!1,depth:!1}),this.gl||alert("Sorry your browser do not suppest WebGL!"),this.initVar(),this.setMaxRadius(),this.initShaders(),this.initBuffers(),this.gl.blendEquation(this.gl.FUNC_ADD),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.enable(this.gl.BLEND)}function l(t,e,r){l._super_.call(this,t,e),this.context=this.element.getContext("2d"),this.imageData=null,this.rectangle=null,this.rectangle=r,this.createImageData(r)}function h(t,e){h._super_.call(this,t,e),this.stroke=null,this.context=this.element.getContext("2d"),this.bufferCache={}}function c(t,e,r){c._super_.call(this,t,e),this.stroke=r}function f(t,e){f._super_.call(this,t,e),this.stroke=null}function p(t,e,r){this.proton=t,this.element=e,this.stroke=r}function d(t,e,r){this.element=r,this.type=z.Util.initValue(t,"canvas"),this.proton=e,this.renderer=this.getRenderer()}function g(e,r,n){this.mouseTarget=z.Util.initValue(e,t),this.ease=z.Util.initValue(r,.7),this._allowEmitting=!1,this.initEventHandler(),g._super_.call(this,n)}function v(t){this.selfBehaviours=[],v._super_.call(this,t)}function m(t){this.initializes=[],this.particles=[],this.behaviours=[],this.emitTime=0,this.emitTotalTimes=-1,this.damping=.006,this.bindEmitter=!0,this.rate=new z.Rate(1,.1),m._super_.call(this,t),this.id="emitter_"+m.ID++}function y(t,e,r,n){y._super_.call(this,r,n),this.distanceVec=new z.Vector2D,this.centerPoint=z.Util.initValue(t,new z.Vector2D),this.force=z.Util.initValue(this.normalizeValue(e),100),this.name="GravityWell"}function x(t,e,r,n){x._super_.call(this,r,n),this.reset(t,e),this.name="Color"}function b(t,e,r,n,i){b._super_.call(this,n,i),this.reset(t,e,r),this.name="Rotate"}function _(t,e,r,n){_._super_.call(this,r,n),this.reset(t,e),this.name="Scale"}function w(t,e,r,n){w._super_.call(this,r,n),this.reset(t,e),this.name="Alpha"}function T(t,e,r,n){T._super_.call(this,r,n),this.reset(t,e),this.name="CrossZone"}function E(t,e,r,n,i){E._super_.call(this,n,i),this.reset(t,e,r),this.name="Collision"}function S(t,e,r){S._super_.call(this,0,t,e,r),this.name="Gravity"}function A(t,e,r,n,i){A._super_.call(this,t,e,r,n,i),this.force*=-1,this.name="Repulsion"}function C(t,e,r,n,i){C._super_.call(this,n,i),this.reset(t,e,r),this.time=0,this.name="RandomDrift"}function M(t,e,r,n,i){M._super_.call(this,n,i),this.targetPosition=z.Util.initValue(t,new z.Vector2D),this.radius=z.Util.initValue(r,1e3),this.force=z.Util.initValue(this.normalizeValue(e),100),this.radiusSq=this.radius*this.radius,this.attractionForce=new z.Vector2D,this.lengthSq=0,this.name="Attraction"}function R(t,e,r,n){R._super_.call(this,r,n),this.force=this.normalizeForce(new z.Vector2D(t,e)),this.name="Force"}function O(t,e,r){O._super_.call(this),this.image=this.setSpanValue(t),this.w=z.Util.initValue(e,20),this.h=z.Util.initValue(r,this.w)}function P(t,e,r){P._super_.call(this),this.radius=z.Util.setSpanValue(t,e,r)}function D(t,e,r){D._super_.call(this),this.massPan=z.Util.setSpanValue(t,e,r)}function I(t,e,r){I._super_.call(this),this.rPan=z.Util.setSpanValue(t),this.thaPan=z.Util.setSpanValue(e),this.type=z.Util.initValue(r,"vector")}function L(t){L._super_.call(this),this.zone=z.Util.initValue(t,new z.PointZone)}function F(t,e,r){F._super_.call(this),this.lifePan=z.Util.setSpanValue(t,e,r)}function k(){}function B(t,e){this.numPan=z.Util.initValue(t,1),this.timePan=z.Util.initValue(e,1),this.numPan=z.Util.setSpanValue(this.numPan),this.timePan=z.Util.setSpanValue(this.timePan),this.startTime=0,this.nextTime=0,this.init()}function N(t,e){this.id="Behaviour_"+N.id++,this.life=z.Util.initValue(t,1/0),this.easing=z.ease.setEasingByName(e),this.age=0,this.energy=1,this.dead=!1,this.parents=[],this.name="Behaviour"}function U(t,e,r,n){this.x=t,this.y=e,this.width=r,this.height=n,this.bottom=this.y+this.height,this.right=this.x+this.width}function $(t){z.Util.isArray(t)?this.colorArr=t:this.colorArr=[t]}function j(t,e,r){this.isArray=!1,z.Util.isArray(t)?(this.isArray=!0,this.a=t):(this.a=z.Util.initValue(t,1),this.b=z.Util.initValue(e,this.a),this.center=z.Util.initValue(r,!1))}function G(t,e){this.proParticleCount=z.Util.initValue(t,0),this.releaseTime=z.Util.initValue(e,-1),this.poolList=[],this.timeoutID=0;for(var r=0;r<this.proParticleCount;r++)this.add();this.releaseTime>0&&(this.timeoutID=setTimeout(this.release,this.releaseTime/1e3))}function W(t){this.id="particle_"+W.ID++,this.reset(!0),z.Util.setPrototypeByObject(this,t)}function V(){this.mats=[],this.size=0;for(var t=0;t<20;t++)this.mats.push(z.Mat3.create([0,0,0,0,0,0,0,0,0]))}function X(){this.initialize()}function z(t,e){this.proParticleCount=z.Util.initValue(t,z.POOL_MAX),this.integrationType=z.Util.initValue(e,z.EULER),this.emitters=[],this.renderers=[],this.time=0,this.oldTime=0,z.pool=new z.ParticlePool(this.proParticleCount),z.integrator=new z.NumericalIntegration(this.integrationType)}z.POOL_MAX=1e3,z.TIME_STEP=60,z.MEASURE=100,z.EULER="euler",z.RK2="runge-kutta2",z.RK4="runge-kutta4",z.VERLET="verlet",z.PARTICLE_CREATED="partilcleCreated",z.PARTICLE_UPDATE="partilcleUpdate",z.PARTICLE_SLEEP="particleSleep",z.PARTICLE_DEAD="partilcleDead",z.PROTON_UPDATE="protonUpdate",z.PROTON_UPDATE_AFTER="protonUpdateAfter",z.EMITTER_ADDED="emitterAdded",z.EMITTER_REMOVED="emitterRemoved",z.amendChangeTabsBug=!0,z.TextureBuffer={},z.TextureCanvasBuffer={},z.prototype={addRender:function(t){t.proton=this,this.renderers.push(t.proton)},addEmitter:function(t){this.emitters.push(t),t.parent=this,this.dispatchEvent(new z.Event({type:z.EMITTER_ADDED,emitter:t}))},removeEmitter:function(t){var e=this.emitters.indexOf(t);this.emitters.splice(e,1),t.parent=null,this.dispatchEvent(new z.Event({type:z.EMITTER_REMOVED,emitter:t}))},update:function(){this.dispatchEvent(new z.Event({type:z.PROTON_UPDATE})),this.oldTime||(this.oldTime=(new Date).getTime());var t=(new Date).getTime();if(this.elapsed=(t-this.oldTime)/1e3,z.amendChangeTabsBug&&this.amendChangeTabsBug(),this.oldTime=t,this.elapsed>0)for(var e=0;e<this.emitters.length;e++)this.emitters[e].update(this.elapsed);this.dispatchEvent(new z.Event({type:z.PROTON_UPDATE_AFTER}))},amendChangeTabsBug:function(){this.elapsed>.5&&(this.oldTime=(new Date).getTime(),this.elapsed=0)},getCount:function(){for(var t=0,e=this.emitters.length,r=0;r<e;r++)t+=this.emitters[r].particles.length;return t},destory:function(){for(var t=this.emitters.length,e=0;e<t;e++)this.emitters[e].destory(),delete this.emitters[e];this.emitters=[],this.time=0,this.oldTime=0,z.pool.release()}},t.Proton=z;var Y=X.prototype;X.initialize=function(t){t.addEventListener=Y.addEventListener,t.removeEventListener=Y.removeEventListener,t.removeAllEventListeners=Y.removeAllEventListeners,t.hasEventListener=Y.hasEventListener,t.dispatchEvent=Y.dispatchEvent},Y._listeners=null,Y.initialize=function(){},Y.addEventListener=function(t,e){var r=this._listeners;r?this.removeEventListener(t,e):r=this._listeners={};var n=r[t];return n||(n=r[t]=[]),n.push(e),e},Y.removeEventListener=function(t,e){var r=this._listeners;if(r){var n=r[t];if(!n)return;for(var i=0,o=n.length;i<o;i++)if(n[i]==e){1==o?delete r[t]:n.splice(i,1);break}}},Y.removeAllEventListeners=function(t){t?this._listeners&&delete this._listeners[t]:this._listeners=null},Y.dispatchEvent=function(t){var e=!1,r=this._listeners;if(t&&r){var n=r[t.type];if(!n)return e;for(var i=0,o=(n=n.slice()).length;i<o;i++){var s=n[i];e=e||s(t)}}return!!e},Y.hasEventListener=function(t){var e=this._listeners;return!!e&&!!e[t]},z.EventDispatcher=X,z.EventDispatcher.initialize(z.prototype),z.Event=function(t){this.type=t.type,this.particle=t.particle,this.emitter=t.emitter};var H=H||{initValue:function(t,r){return t=null!=t&&t!=e?t:r},isArray:function(t){return"object"==typeof t&&t.hasOwnProperty("length")},destroyArray:function(t){t.length=0},destroyObject:function(t){for(var e in t)delete t[e]},getVector2D:function(t,e){return"object"==typeof t?t:new z.Vector2D(t,e)},judgeVector2D:function(t){var e="";return(t.hasOwnProperty("x")||t.hasOwnProperty("y")||t.hasOwnProperty("p")||t.hasOwnProperty("position"))&&(e+="p"),(t.hasOwnProperty("vx")||t.hasOwnProperty("vx")||t.hasOwnProperty("v")||t.hasOwnProperty("velocity"))&&(e+="v"),(t.hasOwnProperty("ax")||t.hasOwnProperty("ax")||t.hasOwnProperty("a")||t.hasOwnProperty("accelerate"))&&(e+="a"),e},setVector2DByObject:function(t,e){e.hasOwnProperty("x")&&(t.p.x=e.x),e.hasOwnProperty("y")&&(t.p.y=e.y),e.hasOwnProperty("vx")&&(t.v.x=e.vx),e.hasOwnProperty("vy")&&(t.v.y=e.vy),e.hasOwnProperty("ax")&&(t.a.x=e.ax),e.hasOwnProperty("ay")&&(t.a.y=e.ay),e.hasOwnProperty("p")&&particle.p.copy(e.p),e.hasOwnProperty("v")&&particle.v.copy(e.v),e.hasOwnProperty("a")&&particle.a.copy(e.a),e.hasOwnProperty("position")&&particle.p.copy(e.position),e.hasOwnProperty("velocity")&&particle.v.copy(e.velocity),e.hasOwnProperty("accelerate")&&particle.a.copy(e.accelerate)},addPrototypeByObject:function(t,e,r){for(var n in e)r?r.indexOf(n)<0&&(t[n]=z.Util.getSpanValue(e[n])):t[n]=z.Util.getSpanValue(e[n]);return t},setPrototypeByObject:function(t,e,r){for(var n in e)t.hasOwnProperty(n)&&(r?r.indexOf(n)<0&&(t[n]=z.Util.getSpanValue(e[n])):t[n]=z.Util.getSpanValue(e[n]));return t},setSpanValue:function(t,e,r){return t instanceof z.Span?t:e?r?new z.Span(t,e,r):new z.Span(t,e):new z.Span(t)},getSpanValue:function(t){return t instanceof z.Span?t.getValue():t},inherits:function(t,e){if(t._super_=e,Object.create)t.prototype=Object.create(e.prototype,{constructor:{value:e}});else{var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},getImageData:function(t,e,r){t.drawImage(e,r.x,r.y);var n=t.getImageData(r.x,r.y,r.width,r.height);return t.clearRect(r.x,r.y,r.width,r.height),n},getImage:function(t,e,r,n){"string"==typeof t?this.loadAndSetImage(t,e,r,n):"object"==typeof t?this.loadAndSetImage(t.src,e,r,n):t instanceof Image&&this.loadedImage(t.src,e,r,n,t)},loadedImage:function(t,e,r,n,i){if(e.target=i,e.transform.src=t,z.TextureBuffer[t]||(z.TextureBuffer[t]=e.target),r)if(z.TextureCanvasBuffer[t])e.transform.canvas=z.TextureCanvasBuffer[t];else{var o=z.WebGLUtil.nhpot(e.target.width),s=z.WebGLUtil.nhpot(e.target.height);e.transform.canvas=z.DomUtil.createCanvas("canvas"+t,o,s),e.transform.canvas.getContext("2d").drawImage(e.target,0,0,e.target.width,e.target.height),z.TextureCanvasBuffer[t]=e.transform.canvas}n&&n(e)},loadAndSetImage:function(t,e,r,n){if(z.TextureBuffer[t])this.loadedImage(t,e,r,n,z.TextureBuffer[t]);else{var i=this,o=new Image;o.onload=function(o){i.loadedImage(t,e,r,n,o.target)},o.src=t}},hexToRGB:function(t){var e="#"==t.charAt(0)?t.substring(1,7):t;return{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16)}},rgbToHex:function(t){return"rgb("+t.r+", "+t.g+", "+t.b+")"}};z.Util=H;var q=q||{ipot:function(t){return 0==(t&t-1)},nhpot:function(t){--t;for(var e=1;e<32;e<<=1)t|=t>>e;return t+1},makeTranslation:function(t,e){return[1,0,0,0,1,0,t,e,1]},makeRotation:function(t){var e=Math.cos(t),r=Math.sin(t);return[e,-r,0,r,e,0,0,0,1]},makeScale:function(t,e){return[t,0,0,0,e,0,0,0,1]},matrixMultiply:function(t,e){var r=t[0],n=t[1],i=t[2],o=t[3],s=t[4],a=t[5],u=t[6],l=t[7],h=t[8],c=e[0],f=e[1],p=e[2],d=e[3],g=e[4],v=e[5],m=e[6],y=e[7],x=e[8];return[r*c+n*d+i*m,r*f+n*g+i*y,r*p+n*v+i*x,o*c+s*d+a*m,o*f+s*g+a*y,o*p+s*v+a*x,u*c+l*d+h*m,u*f+l*g+h*y,u*p+l*v+h*x]}};z.WebGLUtil=q;var Z=Z||{createCanvas:function(t,e,r,n){var i=document.createElement("canvas"),o=n||"absolute";return i.id=t,i.width=e,i.height=r,i.style.position=o,i.style.opacity=0,this.transformDom(i,-500,-500,0,0),i},transformDom:function(t,e,r,n,i){t.style.WebkitTransform="translate("+e+"px, "+r+"px) scale("+n+") rotate("+i+"deg)",t.style.MozTransform="translate("+e+"px, "+r+"px) scale("+n+") rotate("+i+"deg)",t.style.OTransform="translate("+e+"px, "+r+"px) scale("+n+") rotate("+i+"deg)",t.style.msTransform="translate("+e+"px, "+r+"px) scale("+n+") rotate("+i+"deg)",t.style.transform="translate("+e+"px, "+r+"px) scale("+n+") rotate("+i+"deg)"}};z.DomUtil=Z,V.prototype.set=function(t,e){0==e?z.Mat3.set(t,this.mats[0]):z.Mat3.multiply(this.mats[e-1],t,this.mats[e]),this.size=Math.max(this.size,e+1)},V.prototype.push=function(t){0==this.size?z.Mat3.set(t,this.mats[0]):z.Mat3.multiply(this.mats[this.size-1],t,this.mats[this.size]),this.size++},V.prototype.pop=function(){this.size>0&&this.size--},V.prototype.top=function(){return this.mats[this.size-1]},z.MStack=V,W.ID=0,W.prototype={getDirection:function(){return Math.atan2(this.v.x,-this.v.y)*(180/Math.PI)},reset:function(t){return this.life=1/0,this.age=0,this.energy=1,this.dead=!1,this.sleep=!1,this.target=null,this.sprite=null,this.parent=null,this.mass=1,this.radius=10,this.alpha=1,this.scale=1,this.rotation=0,this.color=null,this.easing=z.ease.setEasingByName(z.easeLinear),t?(this.transform={},this.p=new z.Vector2D,this.v=new z.Vector2D,this.a=new z.Vector2D,this.old={p:new z.Vector2D,v:new z.Vector2D,a:new z.Vector2D},this.behaviours=[]):(z.Util.destroyObject(this.transform),this.p.set(0,0),this.v.set(0,0),this.a.set(0,0),this.old.p.set(0,0),this.old.v.set(0,0),this.old.a.set(0,0),this.removeAllBehaviours()),this.transform.rgb={r:255,g:255,b:255},this},update:function(t,e){if(!this.sleep){this.age+=t;var r,n=this.behaviours.length;for(r=0;r<n;r++)this.behaviours[r]&&this.behaviours[r].applyBehaviour(this,t,e)}if(this.age>=this.life)this.destory();else{var i=this.easing(this.age/this.life);this.energy=Math.max(1-i,0)}},addBehaviour:function(t){this.behaviours.push(t),t.hasOwnProperty("parents")&&t.parents.push(this),t.initialize(this)},addBehaviours:function(t){var e,r=t.length;for(e=0;e<r;e++)this.addBehaviour(t[e])},removeBehaviour:function(t){var e=this.behaviours.indexOf(t);e>-1&&((t=this.behaviours.splice(e,1)).parents=null)},removeAllBehaviours:function(){z.Util.destroyArray(this.behaviours)},destory:function(){this.removeAllBehaviours(),this.energy=0,this.dead=!0,this.parent=null}},z.Particle=W,G.prototype={create:function(t){return t?new newTypeParticle:new z.Particle},getCount:function(){return this.poolList.length},add:function(){return this.poolList.push(this.create())},get:function(){return 0===this.poolList.length?this.create():this.poolList.pop().reset()},set:function(t){if(this.poolList.length<z.POOL_MAX)return this.poolList.push(t)},release:function(){for(var t=0;t<this.poolList.length;t++)this.poolList[t].destory&&this.poolList[t].destory(),delete this.poolList[t];this.poolList=[]}},z.ParticlePool=G;var K={randomAToB:function(t,e,r){return r?Math.floor(Math.random()*(e-t))+t:t+Math.random()*(e-t)},randomFloating:function(t,e,r){return K.randomAToB(t-e,t+e,r)},randomZone:function(t){},degreeTransform:function(t){return t*Math.PI/180},toColor16:function(t){return"#"+t.toString(16)},randomColor:function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)}};z.MathUtils=K;var Q=function(t){this.type=z.Util.initValue(t,z.EULER)};Q.prototype={integrate:function(t,e,r){this.eulerIntegrate(t,e,r)},eulerIntegrate:function(t,e,r){t.sleep||(t.old.p.copy(t.p),t.old.v.copy(t.v),t.a.multiplyScalar(1/t.mass),t.v.add(t.a.multiplyScalar(e)),t.p.add(t.old.v.multiplyScalar(e)),r&&t.v.multiplyScalar(r),t.a.clear())}},z.NumericalIntegration=Q;var J=function(t,e){this.x=t||0,this.y=e||0};J.prototype={set:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}},getGradient:function(){return 0!=this.x?Math.atan2(this.y,this.x):this.y>0?Math.PI/2:this.y<0?-Math.PI/2:void 0},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,r){return r!==e?this.addVectors(t,r):(this.x+=t.x,this.y+=t.y,this)},addXY:function(t,e){return this.x+=t,this.y+=e,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScalar:function(t){return this.x+=t,this.y+=t,this},sub:function(t,r){return r!==e?this.subVectors(t,r):(this.x-=t.x,this.y-=t.y,this)},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divideScalar:function(t){return 0!==t?(this.x/=t,this.y/=t):this.set(0,0),this},min:function(t){return this.x>t.x&&(this.x=t.x),this.y>t.y&&(this.y=t.y),this},max:function(t){return this.x<t.x&&(this.x=t.x),this.y<t.y&&(this.y=t.y),this},clamp:function(t,e){return this.x<t.x?this.x=t.x:this.x>e.x&&(this.x=e.x),this.y<t.y?this.y=t.y:this.y>e.y&&(this.y=e.y),this},negate:function(){return this.multiplyScalar(-1)},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},rotate:function(t){var e=this.x,r=this.y;return this.x=e*Math.cos(t)+r*Math.sin(t),this.y=-e*Math.sin(t)+r*Math.cos(t),this},distanceToSquared:function(t){var e=this.x-t.x,r=this.y-t.y;return e*e+r*r},setLength:function(t){var e=this.length();return 0!==e&&t!==e&&this.multiplyScalar(t/e),this},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},equals:function(t){return t.x===this.x&&t.y===this.y},toArray:function(){return[this.x,this.y]},clear:function(){return this.x=0,this.y=0,this},clone:function(){return new z.Vector2D(this.x,this.y)}},z.Vector2D=J;var tt=function(t,e){this.r=Math.abs(t)||0,this.tha=e||0};tt.prototype={set:function(t,e){return this.r=t,this.tha=e,this},setR:function(t){return this.r=t,this},setTha:function(t){return this.tha=t,this},copy:function(t){return this.r=t.r,this.tha=t.tha,this},toVector:function(){return new z.Vector2D(this.getX(),this.getY())},getX:function(){return this.r*Math.sin(this.tha)},getY:function(){return-this.r*Math.cos(this.tha)},normalize:function(){return this.r=1,this},equals:function(t){return t.r===this.r&&t.tha===this.tha},toArray:function(){return[this.r,this.tha]},clear:function(){return this.r=0,this.tha=0,this},clone:function(){return new z.Polar2D(this.r,this.tha)}},z.Polar2D=tt,j.prototype={getValue:function(t){return this.isArray?this.a[Math.floor(this.a.length*Math.random())]:this.center?z.MathUtils.randomFloating(this.a,this.b,t):z.MathUtils.randomAToB(this.a,this.b,t)}},z.Span=j,z.getSpan=function(t,e,r){return new z.Span(t,e,r)},z.Util.inherits($,z.Span),$.prototype.getValue=function(){var t=this.colorArr[Math.floor(this.colorArr.length*Math.random())];return"random"==t||"Random"==t?z.MathUtils.randomColor():t},z.ColorSpan=$,U.prototype={contains:function(t,e){return t<=this.right&&t>=this.x&&e<=this.bottom&&e>=this.y}},z.Rectangle=U;var et=et||{create:function(t){var e=new Float32Array(9);return t&&this.set(t,e),e},set:function(t,e){for(var r=0;r<9;r++)e[r]=t[r];return e},multiply:function(t,e,r){var n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],u=t[6],l=t[7],h=e[0],c=e[1],f=e[2],p=e[3],d=e[4],g=e[6],v=e[7];return r[0]=h*n+c*s,r[1]=h*i+c*a,r[2]=o*f,r[3]=p*n+d*s,r[4]=p*i+d*a,r[6]=g*n+v*s+u,r[7]=g*i+v*a+l,r},inverse:function(t,e){var r,n=t[0],i=t[1],o=t[3],s=t[4],a=t[6],u=t[7],l=s,h=-o,c=u*o-s*a;return r=1/(n*l+i*h),e[0]=l*r,e[1]=-i*r,e[3]=h*r,e[4]=n*r,e[6]=c*r,e[7]=(-u*n+i*a)*r,e},multiplyVec2:function(t,e,r){var n=e[0],i=e[1];return r[0]=n*t[0]+i*t[3]+t[6],r[1]=n*t[1]+i*t[4]+t[7],r}};z.Mat3=et,N.id=0,N.prototype={reset:function(t,e){this.life=z.Util.initValue(t,1/0),this.easing=z.Util.initValue(e,z.ease.setEasingByName(z.easeLinear))},normalizeForce:function(t){return t.multiplyScalar(z.MEASURE)},normalizeValue:function(t){return t*z.MEASURE},initialize:function(t){},applyBehaviour:function(t,e,r){if(this.age+=e,this.age>=this.life||this.dead)this.energy=0,this.dead=!0,this.destory();else{var n=this.easing(t.age/t.life);this.energy=Math.max(1-n,0)}},destory:function(){var t,e=this.parents.length;for(t=0;t<e;t++)this.parents[t].removeBehaviour(this);this.parents=[]}},z.Behaviour=N,B.prototype={init:function(){this.startTime=0,this.nextTime=this.timePan.getValue()},getValue:function(t){return this.startTime+=t,this.startTime>=this.nextTime?(this.startTime=0,this.nextTime=this.timePan.getValue(),1==this.numPan.b?this.numPan.getValue(!1)>.5?1:0:this.numPan.getValue(!0)):0}},z.Rate=B,k.prototype.reset=function(){},k.prototype.init=function(t,e){e?this.initialize(e):this.initialize(t)},k.prototype.initialize=function(t){},z.Initialize=k;var rt={initialize:function(t,e,r){var n,i=r.length;for(n=0;n<i;n++)r[n]instanceof z.Initialize?r[n].init(t,e):z.InitializeUtil.init(t,e,r[n]);z.InitializeUtil.bindEmitter(t,e)},init:function(t,e,r){z.Util.setPrototypeByObject(e,r),z.Util.setVector2DByObject(e,r)},bindEmitter:function(t,e){t.bindEmitter&&(e.p.add(t.p),e.v.add(t.v),e.a.add(t.a),e.v.rotate(z.MathUtils.degreeTransform(t.rotation)))}};z.InitializeUtil=rt,z.Util.inherits(F,z.Initialize),F.prototype.initialize=function(t){this.lifePan.a==1/0?t.life=1/0:t.life=this.lifePan.getValue()},z.Life=F,z.Util.inherits(L,z.Initialize),L.prototype.reset=function(t){this.zone=z.Util.initValue(t,new z.PointZone)},L.prototype.initialize=function(t){this.zone.getPosition(),t.p.x=this.zone.vector.x,t.p.y=this.zone.vector.y},z.Position=L,z.P=L,z.Util.inherits(I,z.Initialize),I.prototype.reset=function(t,e,r){this.rPan=z.Util.setSpanValue(t),this.thaPan=z.Util.setSpanValue(e),this.type=z.Util.initValue(r,"vector")},I.prototype.normalizeVelocity=function(t){return t*z.MEASURE},I.prototype.initialize=function(t){if("p"==this.type||"P"==this.type||"polar"==this.type){var e=new z.Polar2D(this.normalizeVelocity(this.rPan.getValue()),this.thaPan.getValue()*Math.PI/180);t.v.x=e.getX(),t.v.y=e.getY()}else t.v.x=this.normalizeVelocity(this.rPan.getValue()),t.v.y=this.normalizeVelocity(this.thaPan.getValue())},z.Velocity=I,z.V=I,z.Util.inherits(D,z.Initialize),D.prototype.initialize=function(t){t.mass=this.massPan.getValue()},z.Mass=D,z.Util.inherits(P,z.Initialize),P.prototype.reset=function(t,e,r){this.radius=z.Util.setSpanValue(t,e,r)},P.prototype.initialize=function(t){t.radius=this.radius.getValue(),t.transform.oldRadius=t.radius},z.Radius=P,z.Util.inherits(O,z.Initialize),O.prototype.initialize=function(t){var e=this.image.getValue();t.target="string"==typeof e?{width:this.w,height:this.h,src:e}:e},O.prototype.setSpanValue=function(t){return t instanceof z.ColorSpan?t:new z.ColorSpan(t)},z.ImageTarget=O,z.Util.inherits(R,z.Behaviour),R.prototype.reset=function(t,e,r,n){this.force=this.normalizeForce(new z.Vector2D(t,e)),r&&R._super_.prototype.reset.call(this,r,n)},R.prototype.applyBehaviour=function(t,e,r){R._super_.prototype.applyBehaviour.call(this,t,e,r),t.a.add(this.force)},z.Force=R,z.F=R,z.Util.inherits(M,z.Behaviour),M.prototype.reset=function(t,e,r,n,i){this.targetPosition=z.Util.initValue(t,new z.Vector2D),this.radius=z.Util.initValue(r,1e3),this.force=z.Util.initValue(this.normalizeValue(e),100),this.radiusSq=this.radius*this.radius,this.attractionForce=new z.Vector2D,this.lengthSq=0,n&&M._super_.prototype.reset.call(this,n,i)},M.prototype.applyBehaviour=function(t,e,r){M._super_.prototype.applyBehaviour.call(this,t,e,r),this.attractionForce.copy(this.targetPosition),this.attractionForce.sub(t.p),this.lengthSq=this.attractionForce.lengthSq(),this.lengthSq>4e-6&&this.lengthSq<this.radiusSq&&(this.attractionForce.normalize(),this.attractionForce.multiplyScalar(1-this.lengthSq/this.radiusSq),this.attractionForce.multiplyScalar(this.force),t.a.add(this.attractionForce))},z.Attraction=M,z.Util.inherits(C,z.Behaviour),C.prototype.reset=function(t,e,r,n,i){this.panFoce=new z.Vector2D(t,e),this.panFoce=this.normalizeForce(this.panFoce),this.delay=r,n&&C._super_.prototype.reset.call(this,n,i)},C.prototype.applyBehaviour=function(t,e,r){C._super_.prototype.applyBehaviour.call(this,t,e,r),this.time+=e,this.time>=this.delay&&(t.a.addXY(z.MathUtils.randomAToB(-this.panFoce.x,this.panFoce.x),z.MathUtils.randomAToB(-this.panFoce.y,this.panFoce.y)),this.time=0)},z.RandomDrift=C,z.Util.inherits(A,z.Attraction),A.prototype.reset=function(t,e,r,n,i){A._super_.prototype.reset.call(this,t,e,r,n,i),this.force*=-1},z.Repulsion=A,z.Util.inherits(S,z.Force),S.prototype.reset=function(t,e,r){S._super_.prototype.reset.call(this,0,t,e,r)},z.Gravity=S,z.G=S,z.Util.inherits(E,z.Behaviour),E.prototype.reset=function(t,e,r,n,i){this.emitter=z.Util.initValue(t,null),this.mass=z.Util.initValue(e,!0),this.callback=z.Util.initValue(r,null),this.collisionPool=[],this.delta=new z.Vector2D,n&&E._super_.prototype.reset.call(this,n,i)},E.prototype.applyBehaviour=function(t,e,r){for(var n,i,o,s,a,u=this.emitter?this.emitter.particles.slice(r):this.pool.slice(r),l=u.length,h=0;h<l;h++)(n=u[h])!==t&&(this.delta.copy(n.p),this.delta.sub(t.p),i=this.delta.lengthSq(),distance=t.radius+n.radius,i<=distance*distance&&(o=distance-Math.sqrt(i),o+=.5,totalMass=t.mass+n.mass,s=this.mass?n.mass/totalMass:.5,a=this.mass?t.mass/totalMass:.5,t.p.add(this.delta.clone().normalize().multiplyScalar(o*-s)),n.p.add(this.delta.normalize().multiplyScalar(o*a)),this.callback&&this.callback(t,n)))},z.Collision=E,z.Util.inherits(T,z.Behaviour),T.prototype.reset=function(t,e,r,n){this.zone=t,this.zone.crossType=z.Util.initValue(e,"dead"),r&&T._super_.prototype.reset.call(this,r,n)},T.prototype.applyBehaviour=function(t,e,r){T._super_.prototype.applyBehaviour.call(this,t,e,r),this.zone.crossing(t)},z.CrossZone=T,z.Util.inherits(w,z.Behaviour),w.prototype.reset=function(t,r,n,i){this.same=null==r||r==e,this.a=z.Util.setSpanValue(z.Util.initValue(t,1)),this.b=z.Util.setSpanValue(r),n&&w._super_.prototype.reset.call(this,n,i)},w.prototype.initialize=function(t){t.transform.alphaA=this.a.getValue(),this.same?t.transform.alphaB=t.transform.alphaA:t.transform.alphaB=this.b.getValue()},w.prototype.applyBehaviour=function(t,e,r){w._super_.prototype.applyBehaviour.call(this,t,e,r),t.alpha=t.transform.alphaB+(t.transform.alphaA-t.transform.alphaB)*this.energy,t.alpha<.001&&(t.alpha=0)},z.Alpha=w,z.Util.inherits(_,z.Behaviour),_.prototype.reset=function(t,r,n,i){this.same=null==r||r==e,this.a=z.Util.setSpanValue(z.Util.initValue(t,1)),this.b=z.Util.setSpanValue(r),n&&_._super_.prototype.reset.call(this,n,i)},_.prototype.initialize=function(t){t.transform.scaleA=this.a.getValue(),t.transform.oldRadius=t.radius,this.same?t.transform.scaleB=t.transform.scaleA:t.transform.scaleB=this.b.getValue()},_.prototype.applyBehaviour=function(t,e,r){_._super_.prototype.applyBehaviour.call(this,t,e,r),t.scale=t.transform.scaleB+(t.transform.scaleA-t.transform.scaleB)*this.energy,t.scale<1e-4&&(t.scale=0),t.radius=t.transform.oldRadius*t.scale},z.Scale=_,z.Util.inherits(b,z.Behaviour),b.prototype.reset=function(t,r,n,i,o){this.same=null==r||r==e,this.a=z.Util.setSpanValue(z.Util.initValue(t,"Velocity")),this.b=z.Util.setSpanValue(z.Util.initValue(r,0)),this.style=z.Util.initValue(n,"to"),i&&b._super_.prototype.reset.call(this,i,o)},b.prototype.initialize=function(t){t.rotation=this.a.getValue(),t.transform.rotationA=this.a.getValue(),this.same||(t.transform.rotationB=this.b.getValue())},b.prototype.applyBehaviour=function(t,e,r){b._super_.prototype.applyBehaviour.call(this,t,e,r),this.same?"V"!=this.a.a&&"Velocity"!=this.a.a&&"v"!=this.a.a||(t.rotation=t.getDirection()):"to"==this.style||"TO"==this.style||"_"==this.style?t.rotation+=t.transform.rotationB+(t.transform.rotationA-t.transform.rotationB)*this.energy:t.rotation+=t.transform.rotationB},z.Rotate=b,z.Util.inherits(x,z.Behaviour),x.prototype.reset=function(t,e,r,n){this.color1=this.setSpanValue(t),this.color2=this.setSpanValue(e),r&&x._super_.prototype.reset.call(this,r,n)},x.prototype.initialize=function(t){t.color=this.color1.getValue(),t.transform.beginRGB=z.Util.hexToRGB(t.color),this.color2&&(t.transform.endRGB=z.Util.hexToRGB(this.color2.getValue()))},x.prototype.applyBehaviour=function(t,e,r){this.color2?(x._super_.prototype.applyBehaviour.call(this,t,e,r),t.transform.rgb.r=t.transform.endRGB.r+(t.transform.beginRGB.r-t.transform.endRGB.r)*this.energy,t.transform.rgb.g=t.transform.endRGB.g+(t.transform.beginRGB.g-t.transform.endRGB.g)*this.energy,t.transform.rgb.b=t.transform.endRGB.b+(t.transform.beginRGB.b-t.transform.endRGB.b)*this.energy,t.transform.rgb.r=parseInt(t.transform.rgb.r,10),t.transform.rgb.g=parseInt(t.transform.rgb.g,10),t.transform.rgb.b=parseInt(t.transform.rgb.b,10)):(t.transform.rgb.r=t.transform.beginRGB.r,t.transform.rgb.g=t.transform.beginRGB.g,t.transform.rgb.b=t.transform.beginRGB.b)},x.prototype.setSpanValue=function(t){return t?t instanceof z.ColorSpan?t:new z.ColorSpan(t):null},z.Color=x,z.Util.inherits(y,z.Behaviour),y.prototype.reset=function(t,e,r,n){this.distanceVec=new z.Vector2D,this.centerPoint=z.Util.initValue(t,new z.Vector2D),this.force=z.Util.initValue(this.normalizeValue(e),100),r&&y._super_.prototype.reset.call(this,r,n)},y.prototype.initialize=function(t){},y.prototype.applyBehaviour=function(t,e,r){this.distanceVec.set(this.centerPoint.x-t.p.x,this.centerPoint.y-t.p.y);var n=this.distanceVec.lengthSq();if(0!=n){var i=this.distanceVec.length(),o=this.force*e/(n*i);t.v.x+=o*this.distanceVec.x,t.v.y+=o*this.distanceVec.y}},z.GravityWell=y,m.ID=0,z.Util.inherits(m,z.Particle),z.EventDispatcher.initialize(m.prototype),m.prototype.emit=function(t,e){this.emitTime=0,this.emitTotalTimes=z.Util.initValue(t,1/0),1==e||"life"==e||"destroy"==e?this.life="once"==t?1:this.emitTotalTimes:isNaN(e)||(this.life=e),this.rate.init()},m.prototype.stopEmit=function(){this.emitTotalTimes=-1,this.emitTime=0},m.prototype.removeAllParticles=function(){for(var t=0;t<this.particles.length;t++)this.particles[t].dead=!0},m.prototype.createParticle=function(t,e){var r=z.pool.get();return this.setupParticle(r,t,e),this.dispatchEvent(new z.Event({type:z.PARTICLE_CREATED,particle:r})),r},m.prototype.addSelfInitialize=function(t){t.init?t.init(this):this.initAll()},m.prototype.addInitialize=function(){var t,e=arguments.length;for(t=0;t<e;t++)this.initializes.push(arguments[t])},m.prototype.removeInitialize=function(t){var e=this.initializes.indexOf(t);e>-1&&this.initializes.splice(e,1)},m.prototype.removeInitializers=function(){z.Util.destroyArray(this.initializes)},m.prototype.addBehaviour=function(){var t,e=arguments.length;for(t=0;t<e;t++)this.behaviours.push(arguments[t]),arguments[t].hasOwnProperty("parents")&&arguments[t].parents.push(this)},m.prototype.removeBehaviour=function(t){var e=this.behaviours.indexOf(t);e>-1&&this.behaviours.splice(e,1)},m.prototype.removeAllBehaviours=function(){z.Util.destroyArray(this.behaviours)},m.prototype.integrate=function(t){var e=1-this.damping;z.integrator.integrate(this,t,e);var r,n=this.particles.length;for(r=0;r<n;r++){var i=this.particles[r];i.update(t,r),z.integrator.integrate(i,t,e),this.dispatchEvent(new z.Event({type:z.PARTICLE_UPDATE,particle:i}))}},m.prototype.emitting=function(t){if("once"==this.emitTotalTimes){var e=this.rate.getValue(99999);for(r=0;r<e;r++)this.createParticle();this.emitTotalTimes="none"}else if(!isNaN(this.emitTotalTimes)&&(this.emitTime+=t,this.emitTime<this.emitTotalTimes)){var r;e=this.rate.getValue(t);for(r=0;r<e;r++)this.createParticle()}},m.prototype.update=function(t){var e,r;for(this.age+=t,(this.age>=this.life||this.dead)&&this.destroy(),this.emitting(t),this.integrate(t),r=this.particles.length-1;r>=0;r--)(e=this.particles[r]).dead&&(z.pool.set(e),this.particles.splice(r,1),this.dispatchEvent(new z.Event({type:z.PARTICLE_DEAD,particle:e})))},m.prototype.setupParticle=function(t,e,r){var n=this.initializes,i=this.behaviours;e&&(n=e instanceof Array?e:[e]),r&&(i=r instanceof Array?r:[r]),z.InitializeUtil.initialize(this,t,n),t.addBehaviours(i),t.parent=this,this.particles.push(t)},m.prototype.destroy=function(){this.dead=!0,this.emitTotalTimes=-1,0==this.particles.length&&(this.removeInitializers(),this.removeAllBehaviours(),this.parent&&this.parent.removeEmitter(this))},z.Emitter=m,z.Util.inherits(v,z.Emitter),v.prototype.addSelfBehaviour=function(){var t,e=arguments.length;for(t=0;t<e;t++)this.selfBehaviours.push(arguments[t])},v.prototype.removeSelfBehaviour=function(t){var e=this.selfBehaviours.indexOf(t);e>-1&&this.selfBehaviours.splice(e,1)},v.prototype.update=function(t){if(v._super_.prototype.update.call(this,t),!this.sleep){var e,r=this.selfBehaviours.length;for(e=0;e<r;e++)this.selfBehaviours[e].applyBehaviour(this,t,e)}},z.BehaviourEmitter=v,z.Util.inherits(g,z.Emitter),g.prototype.initEventHandler=function(){var t=this;this.mousemoveHandler=function(e){t.mousemove.call(t,e)},this.mousedownHandler=function(e){t.mousedown.call(t,e)},this.mouseupHandler=function(e){t.mouseup.call(t,e)},this.mouseTarget.addEventListener("mousemove",this.mousemoveHandler,!1)},g.prototype.emit=function(){this._allowEmitting=!0},g.prototype.stopEmit=function(){this._allowEmitting=!1},g.prototype.mousemove=function(t){t.layerX||0==t.layerX?(this.p.x+=(t.layerX-this.p.x)*this.ease,this.p.y+=(t.layerY-this.p.y)*this.ease):(t.offsetX||0==t.offsetX)&&(this.p.x+=(t.offsetX-this.p.x)*this.ease,this.p.y+=(t.offsetY-this.p.y)*this.ease),this._allowEmitting&&g._super_.prototype.emit.call(this,"once")},g.prototype.destroy=function(){g._super_.prototype.destroy.call(this),this.mouseTarget.removeEventListener("mousemove",this.mousemoveHandler,!1)},z.FollowEmitter=g;var nt=nt||{easeLinear:function(t){return t},easeInQuad:function(t){return Math.pow(t,2)},easeOutQuad:function(t){return-(Math.pow(t-1,2)-1)},easeInOutQuad:function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},easeInCubic:function(t){return Math.pow(t,3)},easeOutCubic:function(t){return Math.pow(t-1,3)+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},easeInQuart:function(t){return Math.pow(t,4)},easeOutQuart:function(t){return-(Math.pow(t-1,4)-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*t*t*((1+(e*=1.525))*t-e):.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},setEasingByName:function(t){switch(t){case"easeLinear":return z.ease.easeLinear;case"easeInQuad":return z.ease.easeInQuad;case"easeOutQuad":return z.ease.easeOutQuad;case"easeInOutQuad":return z.ease.easeInOutQuad;case"easeInCubic":return z.ease.easeInCubic;case"easeOutCubic":return z.ease.easeOutCubic;case"easeInOutCubic":return z.ease.easeInOutCubic;case"easeInQuart":return z.ease.easeInQuart;case"easeOutQuart":return z.ease.easeOutQuart;case"easeInOutQuart":return z.ease.easeInOutQuart;case"easeInSine":return z.ease.easeInSine;case"easeOutSine":return z.ease.easeOutSine;case"easeInOutSine":return z.ease.easeInOutSine;case"easeInExpo":return z.ease.easeInExpo;case"easeOutExpo":return z.ease.easeOutExpo;case"easeInOutExpo":return z.ease.easeInOutExpo;case"easeInCirc":return z.ease.easeInCirc;case"easeOutCirc":return z.ease.easeOutCirc;case"easeInOutCirc":return z.ease.easeInOutCirc;case"easeInBack":return z.ease.easeInBack;case"easeOutBack":return z.ease.easeOutBack;case"easeInOutBack":return z.ease.easeInOutBack;default:return z.ease.easeLinear}}};z.ease=nt,z.easeLinear="easeLinear",z.easeInQuad="easeInQuad",z.easeOutQuad="easeOutQuad",z.easeInOutQuad="easeInOutQuad",z.easeInCubic="easeInCubic",z.easeOutCubic="easeOutCubic",z.easeInOutCubic="easeInOutCubic",z.easeInQuart="easeInQuart",z.easeOutQuart="easeOutQuart",z.easeInOutQuart="easeInOutQuart",z.easeInSine="easeInSine",z.easeOutSine="easeOutSine",z.easeInOutSine="easeInOutSine",z.easeInExpo="easeInExpo",z.easeOutExpo="easeOutExpo",z.easeInOutExpo="easeInOutExpo",z.easeInCirc="easeInCirc",z.easeOutCirc="easeOutCirc",z.easeInOutCirc="easeInOutCirc",z.easeInBack="easeInBack",z.easeOutBack="easeOutBack",z.easeInOutBack="easeInOutBack",d.prototype={start:function(){this.addEventHandler(),this.renderer.start()},stop:function(){this.renderer.stop()},resize:function(t,e){this.renderer.resize(t,e)},setStroke:function(t,e){this.renderer.hasOwnProperty("stroke")?this.renderer.setStroke(t,e):alert("Sorry this renderer do not suppest stroke method!")},createImageData:function(t){this.renderer instanceof z.PixelRender&&this.renderer.createImageData(t)},setMaxRadius:function(t){this.renderer instanceof z.WebGLRender&&this.renderer.setMaxRadius(t)},blendEquation:function(t){this.renderer instanceof z.WebGLRender&&this.renderer.blendEquation(t)},blendFunc:function(t,e){this.renderer instanceof z.WebGLRender&&this.renderer.blendFunc(t,e)},setType:function(t){this.type=t,this.renderer=this.getRenderer()},getRenderer:function(){switch(this.type){case"dom":return new z.DomRender(this.proton,this.element);case"canvas":return new z.CanvasRender(this.proton,this.element);case"webgl":return new z.WebGLRender(this.proton,this.element);case"easel":case"easeljs":return new z.EaselRender(this.proton,this.element);case"pixel":return new z.PixelRender(this.proton,this.element);default:return new z.BaseRender(this.proton,this.element)}},render:function(t){this.renderer.render(t)},addEventHandler:function(){this.onProtonUpdate&&(this.renderer.onProtonUpdate=this.onProtonUpdate),this.onParticleCreated&&(this.renderer.onParticleCreated=this.onParticleCreated),this.onParticleUpdate&&(this.renderer.onParticleUpdate=this.onParticleUpdate),this.onParticleDead&&(this.renderer.onParticleDead=this.onParticleDead)}},z.Renderer=d,p.prototype={start:function(){var t=this;this.proton.addEventListener(z.PROTON_UPDATE,function(e){t.onProtonUpdate.call(t)}),this.proton.addEventListener(z.PROTON_UPDATE_AFTER,function(e){t.onProtonUpdateAfter.call(t)}),this.proton.addEventListener(z.EMITTER_ADDED,function(e){t.onEmitterAdded.call(t,e.emitter)}),this.proton.addEventListener(z.EMITTER_REMOVED,function(e){t.onEmitterRemoved.call(t,e.emitter)});var e,r=this.proton.emitters.length;for(e=0;e<r;e++){var n=this.proton.emitters[e];this.addEmitterListener(n)}},resize:function(t,e){},addEmitterListener:function(t){var e=this;t.addEventListener(z.PARTICLE_CREATED,function(t){e.onParticleCreated.call(e,t.particle)}),t.addEventListener(z.PARTICLE_UPDATE,function(t){e.onParticleUpdate.call(e,t.particle)}),t.addEventListener(z.PARTICLE_DEAD,function(t){e.onParticleDead.call(e,t.particle)})},stop:function(){var t,e=this.proton.emitters.length;for(this.proton.removeAllEventListeners(),t=0;t<e;t++){this.proton.emitters[t].removeAllEventListeners()}},onEmitterAdded:function(t){this.addEmitterListener(t)},onEmitterRemoved:function(t){t.removeAllEventListeners()},onProtonUpdate:function(){},onProtonUpdateAfter:function(){},onParticleCreated:function(t){},onParticleUpdate:function(t){},onParticleDead:function(t){}},z.BaseRender=p,z.Util.inherits(f,z.BaseRender),f.prototype.start=function(){f._super_.prototype.start.call(this)},f.prototype.setStroke=function(t,e){t=z.Util.initValue(t,"#000000"),e=z.Util.initValue(e,1),this.stroke={color:t,thinkness:e}},f.prototype.onProtonUpdate=function(){},f.prototype.onParticleCreated=function(t){if(t.target){var e=this;z.Util.getImage(t.target,t,!1,function(t){e.setImgInDIV.call(e,t)})}else t.transform.canvas=z.DomUtil.createCanvas(t.id+"_canvas",t.radius+1,t.radius+1,"absolute"),t.transform.bakOldRadius=t.radius,this.stroke?(t.transform.canvas.width=2*t.radius+2*this.stroke.thinkness,t.transform.canvas.height=2*t.radius+2*this.stroke.thinkness):(t.transform.canvas.width=2*t.radius+1,t.transform.canvas.height=2*t.radius+1),t.transform.context=t.transform.canvas.getContext("2d"),t.transform.context.fillStyle=t.color,t.transform.context.beginPath(),t.transform.context.arc(t.radius,t.radius,t.radius,0,2*Math.PI,!0),this.stroke&&(t.transform.context.strokeStyle=this.stroke.color,t.transform.context.lineWidth=this.stroke.thinkness,t.transform.context.stroke()),t.transform.context.closePath(),t.transform.context.fill(),this.element.appendChild(t.transform.canvas)},f.prototype.onParticleUpdate=function(t){t.target?t.target instanceof Image&&(t.transform.canvas.style.opacity=t.alpha,z.DomUtil.transformDom(t.transform.canvas,t.p.x-t.target.width/2,t.p.y-t.target.height/2,t.scale,t.rotation)):(t.transform.canvas.style.opacity=t.alpha,t.transform.oldRadius?z.DomUtil.transformDom(t.transform.canvas,t.p.x-t.transform.oldRadius,t.p.y-t.transform.oldRadius,t.scale,t.rotation):z.DomUtil.transformDom(t.transform.canvas,t.p.x-t.transform.bakOldRadius,t.p.y-t.transform.bakOldRadius,t.scale,t.rotation))},f.prototype.onParticleDead=function(t){t.transform.canvas&&this.element.removeChild(t.transform.canvas)},f.prototype.setImgInDIV=function(t){t.transform.canvas=z.DomUtil.createCanvas(t.id+"_canvas",t.target.width+1,t.target.height+1,"absolute",t.p.x-t.radius,t.p.y-t.radius),t.transform.context=t.transform.canvas.getContext("2d"),t.transform.context.drawImage(t.target,0,0,t.target.width,t.target.height),this.element.appendChild(t.transform.canvas)},z.DomRender=f,z.Util.inherits(c,z.BaseRender),c.prototype.resize=function(t,e){},c.prototype.start=function(){c._super_.prototype.start.call(this)},c.prototype.onProtonUpdate=function(){},c.prototype.onParticleCreated=function(t){if(t.target)t.target=t.target.clone(),t.target.parent||(!t.target.image||(t.target.regX=t.target.image.width/2,t.target.regY=t.target.image.height/2),this.element.addChild(t.target));else{var e=new createjs.Graphics;this.stroke&&(1==this.stroke?e.beginStroke("#000000"):this.stroke instanceof String&&e.beginStroke(this.stroke)),e.beginFill(t.color).drawCircle(0,0,t.radius);var r=new createjs.Shape(e);t.target=r,this.element.addChild(t.target)}},c.prototype.onParticleUpdate=function(t){t.target&&(t.target.x=t.p.x,t.target.y=t.p.y,t.target.alpha=t.alpha,t.target.scaleX=t.target.scaleY=t.scale,t.target.rotation=t.rotation)},c.prototype.onParticleDead=function(t){t.target&&t.target.parent&&t.target.parent.removeChild(t.target)},z.EaselRender=c,z.Util.inherits(h,z.BaseRender),h.prototype.resize=function(t,e){this.element.width=t,this.element.height=e},h.prototype.start=function(){h._super_.prototype.start.call(this)},h.prototype.setStroke=function(t,e){t=z.Util.initValue(t,"#000000"),e=z.Util.initValue(e,1),this.stroke={color:t,thinkness:e}},h.prototype.onProtonUpdate=function(){this.context.clearRect(0,0,this.element.width,this.element.height)},h.prototype.onParticleCreated=function(t){t.target?z.Util.getImage(t.target,t,!1):t.color=t.color?t.color:"#ff0000"},h.prototype.onParticleUpdate=function(t){if(t.target){if(t.target instanceof Image){var e=t.target.width*t.scale|0,r=t.target.height*t.scale|0,n=t.p.x-e/2,i=t.p.y-r/2;if(t.color){t.transform.buffer||(t.transform.buffer=this.getBuffer(t.target));var o=t.transform.buffer.getContext("2d");o.clearRect(0,0,t.transform.buffer.width,t.transform.buffer.height),o.globalAlpha=t.alpha,o.drawImage(t.target,0,0),o.globalCompositeOperation="source-atop",o.fillStyle=z.Util.rgbToHex(t.transform.rgb),o.fillRect(0,0,t.transform.buffer.width,t.transform.buffer.height),o.globalCompositeOperation="source-over",o.globalAlpha=1,this.context.drawImage(t.transform.buffer,0,0,t.transform.buffer.width,t.transform.buffer.height,n,i,e,r)}else this.context.save(),this.context.globalAlpha=t.alpha,this.context.translate(t.p.x,t.p.y),this.context.rotate(z.MathUtils.degreeTransform(t.rotation)),this.context.translate(-t.p.x,-t.p.y),this.context.drawImage(t.target,0,0,t.target.width,t.target.height,n,i,e,r),this.context.globalAlpha=1,this.context.restore()}}else t.transform.rgb?this.context.fillStyle="rgba("+t.transform.rgb.r+","+t.transform.rgb.g+","+t.transform.rgb.b+","+t.alpha+")":this.context.fillStyle=t.color,this.context.beginPath(),this.context.arc(t.p.x,t.p.y,t.radius,0,2*Math.PI,!0),this.stroke&&(this.context.strokeStyle=this.stroke.color,this.context.lineWidth=this.stroke.thinkness,this.context.stroke()),this.context.closePath(),this.context.fill()},h.prototype.onParticleDead=function(t){},h.prototype.getBuffer=function(t){if(t instanceof Image){var e=t.width+"_"+t.height,r=this.bufferCache[e];return r||((r=document.createElement("canvas")).width=t.width,r.height=t.height,this.bufferCache[e]=r),r}},z.CanvasRender=h,z.Util.inherits(l,z.BaseRender),l.prototype.resize=function(t,e){this.element.width=t,this.element.height=e},l.prototype.createImageData=function(t){this.rectangle=t||new z.Rectangle(0,0,this.element.width,this.element.height),this.imageData=this.context.createImageData(this.rectangle.width,this.rectangle.height),this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y)},l.prototype.start=function(){l._super_.prototype.start.call(this)},l.prototype.onProtonUpdate=function(){this.context.clearRect(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height),this.imageData=this.context.getImageData(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height)},l.prototype.onProtonUpdateAfter=function(){this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y)},l.prototype.onParticleCreated=function(t){},l.prototype.onParticleUpdate=function(t){this.imageData&&this.setPixel(this.imageData,Math.floor(t.p.x-this.rectangle.x),Math.floor(t.p.y-this.rectangle.y),t)},l.prototype.setPixel=function(t,e,r,n){var i=n.transform.rgb;if(!(e<0||e>this.element.width||r<0||r>this.elementwidth)){var o=4*((r>>0)*t.width+(e>>0));t.data[o]=i.r,t.data[o+1]=i.g,t.data[o+2]=i.b,t.data[o+3]=255*n.alpha}},l.prototype.onParticleDead=function(t){},z.PixelRender=l,z.Util.inherits(u,z.BaseRender),u.prototype.resize=function(t,e){this.umat[4]=-2,this.umat[7]=1,this.smat[0]=1/t,this.smat[4]=1/e,this.mstack.set(this.umat,0),this.mstack.set(this.smat,1),this.gl.viewport(0,0,t,e),this.element.width=t,this.element.height=e},u.prototype.setMaxRadius=function(t){this.circleCanvasURL=this.createCircle(t)},u.prototype.getVertexShader=function(){return["uniform vec2 viewport;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 tMat;","varying vec2 vTextureCoord;","varying float alpha;","void main() {","vec3 v = tMat * vec3(aVertexPosition, 1.0);","gl_Position = vec4(v.x, v.y, 0, 1);","vTextureCoord = aTextureCoord;","alpha = tMat[0][2];","}"].join("\n")},u.prototype.getFragmentShader=function(){return["precision mediump float;","varying vec2 vTextureCoord;","varying float alpha;","uniform sampler2D uSampler;","uniform vec4 color;","uniform bool useTexture;","uniform vec3 uColor;","void main() {","vec4 textureColor = texture2D(uSampler, vTextureCoord);","gl_FragColor = textureColor * vec4(uColor, 1.0);","gl_FragColor.w *= alpha;","}"].join("\n")},u.prototype.initVar=function(){this.mstack=new z.MStack,this.umat=z.Mat3.create([2,0,1,0,-2,0,-1,1,1]),this.smat=z.Mat3.create([.01,0,1,0,.01,0,0,0,1]),this.texturebuffers={}},u.prototype.start=function(){u._super_.prototype.start.call(this),this.resize(this.element.width,this.element.height)},u.prototype.blendEquation=function(t){this.gl.blendEquation(this.gl[t])},u.prototype.blendFunc=function(t,e){this.gl.blendFunc(this.gl[t],this.gl[e])},u.prototype.getShader=function(t,e,r){var n;return n=r?t.createShader(t.FRAGMENT_SHADER):t.createShader(t.VERTEX_SHADER),t.shaderSource(n,e),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(alert(t.getShaderInfoLog(n)),null)},u.prototype.initShaders=function(){var t=this.getShader(this.gl,this.getFragmentShader(),!0),e=this.getShader(this.gl,this.getVertexShader(),!1);this.sprogram=this.gl.createProgram(),this.gl.attachShader(this.sprogram,e),this.gl.attachShader(this.sprogram,t),this.gl.linkProgram(this.sprogram),this.gl.getProgramParameter(this.sprogram,this.gl.LINK_STATUS)||alert("Could not initialise shaders"),this.gl.useProgram(this.sprogram),this.sprogram.vpa=this.gl.getAttribLocation(this.sprogram,"aVertexPosition"),this.sprogram.tca=this.gl.getAttribLocation(this.sprogram,"aTextureCoord"),this.gl.enableVertexAttribArray(this.sprogram.tca),this.gl.enableVertexAttribArray(this.sprogram.vpa),this.sprogram.tMatUniform=this.gl.getUniformLocation(this.sprogram,"tMat"),this.sprogram.samplerUniform=this.gl.getUniformLocation(this.sprogram,"uSampler"),this.sprogram.useTex=this.gl.getUniformLocation(this.sprogram,"useTexture"),this.sprogram.color=this.gl.getUniformLocation(this.sprogram,"uColor"),this.gl.uniform1i(this.sprogram.useTex,1)},u.prototype.initBuffers=function(){this.unitIBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer);this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,3,1,0,2,3]),this.gl.STATIC_DRAW);for(var t=[],e=0;e<100;e++)t.push(e);for(idx=new Uint16Array(t),this.unitI33=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitI33),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,idx,this.gl.STATIC_DRAW),t=[],e=0;e<100;e++)t.push(e,e+1,e+2);idx=new Uint16Array(t),this.stripBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.stripBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,idx,this.gl.STATIC_DRAW)},u.prototype.createCircle=function(t){this.circleCanvasRadius=z.WebGLUtil.nhpot(z.Util.initValue(t,32));var e=z.DomUtil.createCanvas("circle_canvas",2*this.circleCanvasRadius,2*this.circleCanvasRadius),r=e.getContext("2d");return r.beginPath(),r.arc(this.circleCanvasRadius,this.circleCanvasRadius,this.circleCanvasRadius,0,2*Math.PI,!0),r.closePath(),r.fillStyle="#FFF",r.fill(),e.toDataURL()},u.prototype.setImgInCanvas=function(t){var e=t.target.width,r=t.target.height,n=z.WebGLUtil.nhpot(t.target.width),i=z.WebGLUtil.nhpot(t.target.height),o=t.target.width/n,s=t.target.height/i;this.texturebuffers[t.transform.src]||(this.texturebuffers[t.transform.src]=[this.gl.createTexture(),this.gl.createBuffer(),this.gl.createBuffer()]),t.transform.texture=this.texturebuffers[t.transform.src][0],t.transform.vcBuffer=this.texturebuffers[t.transform.src][1],t.transform.tcBuffer=this.texturebuffers[t.transform.src][2],this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.transform.tcBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,o,0,0,s,s,s]),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.transform.vcBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,e,0,0,r,e,r]),this.gl.STATIC_DRAW);var a=t.transform.canvas.getContext("2d").getImageData(0,0,n,i);this.gl.bindTexture(this.gl.TEXTURE_2D,t.transform.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,a),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_NEAREST),this.gl.generateMipmap(this.gl.TEXTURE_2D),t.transform.textureLoaded=!0,t.transform.textureWidth=e,t.transform.textureHeight=r},u.prototype.setStroke=function(t,e){},u.prototype.onProtonUpdate=function(){},u.prototype.onParticleCreated=function(t){var e=this;t.transform.textureLoaded=!1,t.transform.tmat=z.Mat3.create(),t.transform.tmat[8]=1,t.transform.imat=z.Mat3.create(),t.transform.imat[8]=1,t.target?z.Util.getImage(t.target,t,!0,function(t){e.setImgInCanvas.call(e,t),t.transform.oldScale=1}):z.Util.getImage(this.circleCanvasURL,t,!0,function(t){e.setImgInCanvas.call(e,t),t.transform.oldScale=t.radius/e.circleCanvasRadius})},u.prototype.onParticleUpdate=function(t){t.transform.textureLoaded&&(this.updateMatrix(t),this.gl.uniform3f(this.sprogram.color,t.transform.rgb.r/255,t.transform.rgb.g/255,t.transform.rgb.b/255),this.gl.uniformMatrix3fv(this.sprogram.tMatUniform,!1,this.mstack.top()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.transform.vcBuffer),this.gl.vertexAttribPointer(this.sprogram.vpa,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.transform.tcBuffer),this.gl.vertexAttribPointer(this.sprogram.tca,2,this.gl.FLOAT,!1,0,0),this.gl.bindTexture(this.gl.TEXTURE_2D,t.transform.texture),this.gl.uniform1i(this.sprogram.samplerUniform,0),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0),this.mstack.pop())},u.prototype.onParticleDead=function(t){},u.prototype.updateMatrix=function(t){var e=z.WebGLUtil.makeTranslation(-t.transform.textureWidth/2,-t.transform.textureHeight/2),r=z.WebGLUtil.makeTranslation(t.p.x,t.p.y),n=t.rotation*(Math.PI/180),i=z.WebGLUtil.makeRotation(n),o=t.scale*t.transform.oldScale,s=z.WebGLUtil.makeScale(o,o),a=z.WebGLUtil.matrixMultiply(e,s);a=z.WebGLUtil.matrixMultiply(a,i),a=z.WebGLUtil.matrixMultiply(a,r),z.Mat3.inverse(a,t.transform.imat),a[2]=t.alpha,this.mstack.push(a)},z.WebGLRender=u,a.prototype={getPosition:function(){},crossing:function(t){}},z.Zone=a,z.Util.inherits(s,z.Zone),s.prototype.getPosition=function(){return this.random=Math.random(),this.vector.x=this.x1+this.random*this.length*Math.cos(this.gradient),this.vector.y=this.y1+this.random*this.length*Math.sin(this.gradient),this.vector},s.prototype.getDirection=function(t,e){var r=this.dy,n=-this.dx;return(r*t+n*e+this.dot)*(0==n?1:n)>0},s.prototype.getDistance=function(t,e){return(this.dy*t+-this.dx*e+this.dot)/Math.sqrt(this.xxyy)},s.prototype.getSymmetric=function(t){var e=t.getGradient(),r=2*(this.getGradient()-e),n=t.x,i=t.y;return t.x=n*Math.cos(r)-i*Math.sin(r),t.y=n*Math.sin(r)+i*Math.cos(r),t},s.prototype.getGradient=function(){return Math.atan2(this.dy,this.dx)},s.prototype.getRange=function(t,e){Math.abs(this.getGradient())<=Math.PI/4?t.p.x<this.maxx&&t.p.x>this.minx&&e():t.p.y<this.maxy&&t.p.y>this.miny&&e()},s.prototype.getLength=function(){return Math.sqrt(this.dx*this.dx+this.dy*this.dy)},s.prototype.crossing=function(t){var e=this;"dead"==this.crossType?">"==this.direction||"R"==this.direction||"right"==this.direction||"down"==this.direction?this.getRange(t,function(){e.getDirection(t.p.x,t.p.y)&&(t.dead=!0)}):this.getRange(t,function(){e.getDirection(t.p.x,t.p.y)||(t.dead=!0)}):"bound"==this.crossType?this.getRange(t,function(){e.getDistance(t.p.x,t.p.y)<=t.radius&&(0==e.dx?t.v.x*=-1:0==e.dy?t.v.y*=-1:e.getSymmetric(t.v))}):"cross"==this.crossType&&this.alert&&(alert("Sorry lineZone does not support cross method"),this.alert=!1)},z.LineZone=s,z.Util.inherits(o,z.Zone),o.prototype.getPosition=function(){return this.random=Math.random(),this.angle=2*Math.PI*Math.random(),this.vector.x=this.x+this.random*this.radius*Math.cos(this.angle),this.vector.y=this.y+this.random*this.radius*Math.sin(this.angle),this.vector},o.prototype.setCenter=function(t,e){this.center.x=t,this.center.y=e},o.prototype.crossing=function(t){var e=t.p.distanceTo(this.center);"dead"==this.crossType?e-t.radius>this.radius&&(t.dead=!0):"bound"==this.crossType?e+t.radius>=this.radius&&this.getSymmetric(t):"cross"==this.crossType&&this.alert&&(alert("Sorry CircleZone does not support cross method"),this.alert=!1)},o.prototype.getSymmetric=function(t){var e=t.v.getGradient(),r=2*(this.getGradient(t)-e),n=t.v.x,i=t.v.y;t.v.x=n*Math.cos(r)-i*Math.sin(r),t.v.y=n*Math.sin(r)+i*Math.cos(r)},o.prototype.getGradient=function(t){return-Math.PI/2+Math.atan2(t.p.y-this.center.y,t.p.x-this.center.x)},z.CircleZone=o,z.Util.inherits(i,z.Zone),i.prototype.getPosition=function(){return this.vector.x=this.x,this.vector.y=this.y,this.vector},i.prototype.crossing=function(t){this.alert&&(alert("Sorry PointZone does not support crossing method"),this.alert=!1)},z.PointZone=i,z.Util.inherits(n,z.Zone),n.prototype.getPosition=function(){return this.vector.x=this.x+Math.random()*this.width,this.vector.y=this.y+Math.random()*this.height,this.vector},n.prototype.crossing=function(t){"dead"==this.crossType?(t.p.x+t.radius<this.x?t.dead=!0:t.p.x-t.radius>this.x+this.width&&(t.dead=!0),t.p.y+t.radius<this.y?t.dead=!0:t.p.y-t.radius>this.y+this.height&&(t.dead=!0)):"bound"==this.crossType?(t.p.x-t.radius<this.x?(t.p.x=this.x+t.radius,t.v.x*=-1):t.p.x+t.radius>this.x+this.width&&(t.p.x=this.x+this.width-t.radius,t.v.x*=-1),t.p.y-t.radius<this.y?(t.p.y=this.y+t.radius,t.v.y*=-1):t.p.y+t.radius>this.y+this.height&&(t.p.y=this.y+this.height-t.radius,t.v.y*=-1)):"cross"==this.crossType&&(t.p.x+t.radius<this.x&&t.v.x<=0?t.p.x=this.x+this.width+t.radius:t.p.x-t.radius>this.x+this.width&&t.v.x>=0&&(t.p.x=this.x-t.radius),t.p.y+t.radius<this.y&&t.v.y<=0?t.p.y=this.y+this.height+t.radius:t.p.y-t.radius>this.y+this.height&&t.v.y>=0&&(t.p.y=this.y-t.radius))},z.RectZone=n,z.Util.inherits(r,z.Zone),r.prototype.reset=function(t,e,r,n){this.imageData=t,this.x=z.Util.initValue(e,0),this.y=z.Util.initValue(r,0),this.d=z.Util.initValue(n,2),this.vectors=[],this.setVectors()},r.prototype.setVectors=function(){var t,e,r=this.imageData.width,n=this.imageData.height;for(t=0;t<r;t+=this.d)for(e=0;e<n;e+=this.d){var i=4*((e>>0)*r+(t>>0));this.imageData.data[i+3]>0&&this.vectors.push({x:t+this.x,y:e+this.y})}return this.vector},r.prototype.getBound=function(t,e){var r=4*((e>>0)*this.imageData.width+(t>>0));return this.imageData.data[r+3]>0},r.prototype.getPosition=function(){return this.vector.copy(this.vectors[Math.floor(Math.random()*this.vectors.length)])},r.prototype.getColor=function(t,e){t-=this.x;var r=4*(((e-=this.y)>>0)*this.imageData.width+(t>>0));return{r:this.imageData.data[r],g:this.imageData.data[r+1],b:this.imageData.data[r+2],a:this.imageData.data[r+3]}},r.prototype.crossing=function(t){"dead"==this.crossType?this.getBound(t.p.x-this.x,t.p.y-this.y)?t.dead=!0:t.dead=!1:"bound"==this.crossType&&(this.getBound(t.p.x-this.x,t.p.y-this.y)||t.v.negate())},z.ImageZone=r;var it=function(){if(t.console&&t.console.log){var e=arguments;if("string"==typeof arguments[0])if(0==arguments[0].indexOf("+")){var r=parseInt(arguments[0]);it.once<r&&(delete e[0],console.log(e),it.once++)}else console.log(e);else console.log(e)}};it.once=0,z.log=it;var ot=ot||{addEventListener:function(t,e){t.addEventListener(z.PROTON_UPDATE,function(t){e()})},setStyle:function(t){var e=t||"#ff0000",r=z.Util.hexToRGB(e);return"rgba("+r.r+","+r.g+","+r.b+",0.5)"},drawZone:function(t,e,r,n){var i=e.getContext("2d"),o=this.setStyle();this.addEventListener(t,function(){n&&i.clearRect(0,0,e.width,e.height),r instanceof z.PointZone?(i.beginPath(),i.fillStyle=o,i.arc(r.x,r.y,10,0,2*Math.PI,!0),i.fill(),i.closePath()):r instanceof z.LineZone?(i.beginPath(),i.strokeStyle=o,i.moveTo(r.x1,r.y1),i.lineTo(r.x2,r.y2),i.stroke(),i.closePath()):r instanceof z.RectZone?(i.beginPath(),i.strokeStyle=o,i.drawRect(r.x,r.y,r.width,r.height),i.stroke(),i.closePath()):r instanceof z.CircleZone&&(i.beginPath(),i.strokeStyle=o,i.arc(r.x,r.y,r.radius,0,2*Math.PI,!0),i.stroke(),i.closePath())})},drawEmitter:function(t,e,r,n){var i=e.getContext("2d"),o=this.setStyle();this.addEventListener(t,function(){n&&i.clearRect(0,0,e.width,e.height),i.beginPath(),i.fillStyle=o,i.arc(r.p.x,r.p.y,10,0,2*Math.PI,!0),i.fill(),i.closePath()})},test:{},setTest:function(t,e){this.test[t]=e},getTest:function(t){return!!this.test.hasOwnProperty(t)&&this.test[t]}};z.Debug=ot})(window),function(){for(var t=0,e=["ms","moz","webkit","o"],r=0;r<e.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[e[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[r]+"CancelAnimationFrame"]||window[e[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,r){var n=(new Date).getTime(),i=Math.max(0,16-(n-t)),o=window.setTimeout(function(){e(n+i)},i);return t=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},"1TsA":function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},"1sa7":function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},"201c":function(t,e,r){"use strict";(function(t){if(r("Zvmr"),r("86LW"),r("/Vpf"),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var e="defineProperty";function n(t,r,n){t[r]||Object[e](t,r,{writable:!0,configurable:!0,value:n})}n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&n(Array,t,Function.call.bind([][t]))})}).call(this,r("yLpj"))},"25dN":function(t,e,r){var n=r("XKFU");n(n.S,"Object",{is:r("g6HL")})},"25qn":function(t,e,r){var n=r("XKFU");n(n.P+n.R,"Set",{toJSON:r("RLh9")("Set")})},"29s/":function(t,e,r){var n=r("5T2Y"),i=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},"2GTP":function(t,e,r){var n=r("eaoh");t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},"2OiF":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"2Spj":function(t,e,r){var n=r("XKFU");n(n.P,"Function",{bind:r("8MEG")})},"2atp":function(t,e,r){var n=r("XKFU"),i=Math.atanh;n(n.S+n.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},"2faE":function(t,e,r){var n=r("5K7Z"),i=r("eUtF"),o=r("G8Mo"),s=Object.defineProperty;e.f=r("jmDH")?Object.defineProperty:function(t,e,r){if(n(t),e=o(e,!0),n(r),i)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},"3GJH":function(t,e,r){r("lCc8");var n=r("WEpk").Object;t.exports=function(t,e){return n.create(t,e)}},"3Lyj":function(t,e,r){var n=r("KroJ");t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},"3YpW":function(t,e,r){r("KOQb")("Set")},"3xty":function(t,e,r){var n=r("XKFU"),i=r("2OiF"),o=r("y3w9"),s=(r("dyZX").Reflect||{}).apply,a=Function.apply;n(n.S+n.F*!r("eeVq")(function(){s(function(){})}),"Reflect",{apply:function(t,e,r){var n=i(t),u=o(r);return s?s(n,e,u):a.call(n,e,u)}})},"45Tv":function(t,e,r){var n=r("N6cJ"),i=r("y3w9"),o=r("OP3Y"),s=n.has,a=n.get,u=n.key,l=function(t,e,r){if(s(t,e,r))return a(t,e,r);var n=o(e);return null!==n?l(t,n,r):void 0};n.exp({getMetadata:function(t,e){return l(t,i(e),arguments.length<3?void 0:u(arguments[2]))}})},"49D4":function(t,e,r){var n=r("N6cJ"),i=r("y3w9"),o=n.key,s=n.set;n.exp({defineMetadata:function(t,e,r,n){s(t,e,i(r),o(n))}})},"4LiD":function(t,e,r){"use strict";var n=r("dyZX"),i=r("XKFU"),o=r("KroJ"),s=r("3Lyj"),a=r("Z6vF"),u=r("SlkY"),l=r("9gX7"),h=r("0/R4"),c=r("eeVq"),f=r("XMVh"),p=r("fyDq"),d=r("Xbzi");t.exports=function(t,e,r,g,v,m){var y=n[t],x=y,b=v?"set":"add",_=x&&x.prototype,w={},T=function(t){var e=_[t];o(_,t,"delete"==t?function(t){return!(m&&!h(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!h(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!h(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,r){return e.call(this,0===t?0:t,r),this})};if("function"==typeof x&&(m||_.forEach&&!c(function(){(new x).entries().next()}))){var E=new x,S=E[b](m?{}:-0,1)!=E,A=c(function(){E.has(1)}),C=f(function(t){new x(t)}),M=!m&&c(function(){for(var t=new x,e=5;e--;)t[b](e,e);return!t.has(-0)});C||((x=e(function(e,r){l(e,x,t);var n=d(new y,e,x);return void 0!=r&&u(r,v,n[b],n),n})).prototype=_,_.constructor=x),(A||M)&&(T("delete"),T("has"),v&&T("get")),(M||S)&&T(b),m&&_.clear&&delete _.clear}else x=g.getConstructor(e,t,v,b),s(x.prototype,r),a.NEED=!0;return p(x,t),w[t]=x,i(i.G+i.W+i.F*(x!=y),w),m||g.setStrong(x,t,v),x}},"4R4u":function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"4d7F":function(t,e,r){t.exports={default:r("aW7e"),__esModule:!0}},"5K7Z":function(t,e,r){var n=r("93I4");t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},"5Pf0":function(t,e,r){var n=r("S/j/"),i=r("OP3Y");r("Xtr8")("getPrototypeOf",function(){return function(t){return i(n(t))}})},"5T2Y":function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},"5vMV":function(t,e,r){var n=r("B+OT"),i=r("NsO/"),o=r("W070")(!1),s=r("VVlx")("IE_PROTO");t.exports=function(t,e){var r,a=i(t),u=0,l=[];for(r in a)r!=s&&n(a,r)&&l.push(r);for(;e.length>u;)n(a,r=e[u++])&&(~o(l,r)||l.push(r));return l}},"694e":function(t,e,r){var n=r("EemH"),i=r("XKFU"),o=r("y3w9");i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return n.f(o(t),e)}})},"69bn":function(t,e,r){var n=r("y3w9"),i=r("2OiF"),o=r("K0xU")("species");t.exports=function(t,e){var r,s=n(t).constructor;return void 0===s||void 0==(r=n(s)[o])?e:i(r)}},"6AQ9":function(t,e,r){"use strict";var n=r("XKFU"),i=r("8a7r");n(n.S+n.F*r("eeVq")(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,r=new("function"==typeof this?this:Array)(e);e>t;)i(r,t,arguments[t++]);return r.length=e,r}})},"6FAO":function(t,e,r){(function(e){var r;(function(){
/*!
 * pixi.js - v4.4.3
 * Compiled Thu, 23 Mar 2017 12:34:27 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
t.exports=function t(e,n,i){function o(a,u){if(!n[a]){if(!e[a]){var l="function"==typeof r&&r;if(!u&&l)return r(a,!0);if(s)return s(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var r=e[a][1][t];return o(r||t)},c,c.exports,t,e,n,i)}return n[a].exports}for(var s="function"==typeof r&&r,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e,r){"use strict";"use restrict";function n(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}r.INT_BITS=32,r.INT_MAX=2147483647,r.INT_MIN=-1<<31,r.sign=function(t){return(t>0)-(t<0)},r.abs=function(t){var e=t>>31;return(t^e)-e},r.min=function(t,e){return e^(t^e)&-(t<e)},r.max=function(t,e){return t^(t^e)&-(t<e)},r.isPow2=function(t){return!(t&t-1||!t)},r.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},r.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},r.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},r.countTrailingZeros=n,r.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)},r.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},r.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(i),r.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},r.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},r.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},r.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},r.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},r.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},{}],2:[function(t,e,r){"use strict";function n(t,e,r){r=r||2;var n,o,a,u,l,h,f,p=e&&e.length,d=p?e[0]*r:t.length,g=i(t,0,d,r,!0),v=[];if(!g)return v;if(p&&(g=c(t,e,g,r)),t.length>80*r){n=a=t[0],o=u=t[1];for(var m=r;m<d;m+=r)l=t[m],h=t[m+1],l<n&&(n=l),h<o&&(o=h),l>a&&(a=l),h>u&&(u=h);f=Math.max(a-n,u-o)}return s(g,v,r,n,o,f),v}function i(t,e,r,n,i){var o,s;if(i===A(t,e,r,n)>0)for(o=e;o<r;o+=n)s=T(o,t[o],t[o+1],s);else for(o=r-n;o>=e;o-=n)s=T(o,t[o],t[o+1],s);return s&&x(s,s.next)&&(E(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!x(n,n.next)&&0!==y(n.prev,n,n.next))n=n.next;else{if(E(n),(n=e=n.prev)===n.next)return null;r=!0}}while(r||n!==e);return e}function s(t,e,r,n,i,c,f){if(t){!f&&c&&function(t,e,r,n){var i=t;do{null===i.z&&(i.z=d(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,o,s,a,u,l=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,n=r,a=0,e=0;e<l&&(a++,n=n.nextZ);e++);for(u=l;a>0||u>0&&n;)0===a?(i=n,n=n.nextZ,u--):0!==u&&n?r.z<=n.z?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--):(i=r,r=r.nextZ,a--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,l*=2}while(s>1)}(i)}(t,n,i,c);for(var p,g,v=t;t.prev!==t.next;)if(p=t.prev,g=t.next,c?u(t,n,i,c):a(t))e.push(p.i/r),e.push(t.i/r),e.push(g.i/r),E(t),t=g.next,v=g.next;else if((t=g)===v){f?1===f?s(t=l(t,e,r),e,r,n,i,c,2):2===f&&h(t,e,r,n,i,c):s(o(t),e,r,n,i,c,1);break}}}function a(t){var e=t.prev,r=t,n=t.next;if(y(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(v(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&y(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,r,n){var i=t.prev,o=t,s=t.next;if(y(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,l=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,h=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,c=d(a,u,e,r,n),f=d(l,h,e,r,n),p=t.nextZ;p&&p.z<=f;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}function l(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!x(i,o)&&b(i,n,n.next,o)&&_(i,o)&&_(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),E(n),E(n.next),n=t=o),n=n.next}while(n!==t);return n}function h(t,e,r,n,i,a){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&m(u,l)){var h=w(u,l);return u=o(u,u.next),h=o(h,h.next),s(u,e,r,n,i,a),void s(h,e,r,n,i,a)}l=l.next}u=u.next}while(u!==t)}function c(t,e,r,n){var s,a,u,l,h,c=[];for(s=0,a=e.length;s<a;s++)u=e[s]*n,l=s<a-1?e[s+1]*n:t.length,(h=i(t,u,l,n,!1))===h.next&&(h.steiner=!0),c.push(g(h));for(c.sort(f),s=0;s<c.length;s++)p(c[s],r),r=o(r,r.next);return r}function f(t,e){return t.x-e.x}function p(t,e){if(e=function(t,e){var r,n=e,i=t.x,o=t.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&a>s){if(s=a,a===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===s)return r.prev;var u,l=r,h=r.x,c=r.y,f=1/0;for(n=r.next;n!==l;)i>=n.x&&n.x>=h&&v(o<c?i:s,o,h,c,o<c?s:i,o,n.x,n.y)&&((u=Math.abs(o-n.y)/(i-n.x))<f||u===f&&n.x>r.x)&&_(n,t)&&(r=n,f=u),n=n.next;return r}(t,e)){var r=w(e,t);o(r,r.next)}}function d(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)/i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)/i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function g(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next}while(e!==t);return r}function v(t,e,r,n,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(i-s)*(n-a)>=0}function m(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&b(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&_(t,e)&&_(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)}function y(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function x(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,r,n){return!!(x(t,e)&&x(r,n)||x(t,n)&&x(r,e))||y(t,e,r)>0!=y(t,e,n)>0&&y(r,n,t)>0!=y(r,n,e)>0}function _(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function w(t,e){var r=new S(t.i,t.x,t.y),n=new S(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function T(t,e,r,n){var i=new S(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function E(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(t,e,r,n){for(var i=0,o=e,s=r-n;o<r;o+=n)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}e.exports=n,n.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,s=Math.abs(A(t,0,o,r));if(i)for(var a=0,u=e.length;a<u;a++){var l=e[a]*r,h=a<u-1?e[a+1]*r:t.length;s-=Math.abs(A(t,l,h,r))}var c=0;for(a=0;a<n.length;a+=3){var f=n[a]*r,p=n[a+1]*r,d=n[a+2]*r;c+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[i][o][s]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}},{}],3:[function(t,e,r){"use strict";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(){this._events=new n,this._eventsCount=0}var s=Object.prototype.hasOwnProperty,a="~";Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(a=!1)),o.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)s.call(t,e)&&r.push(a?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},o.prototype.listeners=function(t,e){var r=a?a+t:t,n=this._events[r];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},o.prototype.emit=function(t,e,r,n,i,o){var s=a?a+t:t;if(!this._events[s])return!1;var u,l,h=this._events[s],c=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),c){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,r),!0;case 4:return h.fn.call(h.context,e,r,n),!0;case 5:return h.fn.call(h.context,e,r,n,i),!0;case 6:return h.fn.call(h.context,e,r,n,i,o),!0}for(l=1,u=new Array(c-1);l<c;l++)u[l-1]=arguments[l];h.fn.apply(h.context,u)}else{var f,p=h.length;for(l=0;l<p;l++)switch(h[l].once&&this.removeListener(t,h[l].fn,void 0,!0),c){case 1:h[l].fn.call(h[l].context);break;case 2:h[l].fn.call(h[l].context,e);break;case 3:h[l].fn.call(h[l].context,e,r);break;case 4:h[l].fn.call(h[l].context,e,r,n);break;default:if(!u)for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];h[l].fn.apply(h[l].context,u)}}return!0},o.prototype.on=function(t,e,r){var n=new i(e,r||this),o=a?a+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},o.prototype.once=function(t,e,r){var n=new i(e,r||this,!0),o=a?a+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},o.prototype.removeListener=function(t,e,r,i){var o=a?a+t:t;if(!this._events[o])return this;if(!e)return 0==--this._eventsCount?this._events=new n:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||(0==--this._eventsCount?this._events=new n:delete this._events[o]);else{for(var u=0,l=[],h=s.length;u<h;u++)(s[u].fn!==e||i&&!s[u].once||r&&s[u].context!==r)&&l.push(s[u]);l.length?this._events[o]=1===l.length?l[0]:l:0==--this._eventsCount?this._events=new n:delete this._events[o]}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=a?a+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new n:delete this._events[e])):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=a,o.EventEmitter=o,void 0!==e&&(e.exports=o)},{}],4:[function(t,e,r){!function(t){var r=/iPhone/i,n=/iPod/i,i=/iPad/i,o=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,s=/Android/i,a=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,u=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,l=/IEMobile/i,h=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,c=/BlackBerry/i,f=/BB10/i,p=/Opera Mini/i,d=/(CriOS|Chrome)(?=.*\bMobile\b)/i,g=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,v=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),m=function(t,e){return t.test(e)},y=function(t){var e=t||navigator.userAgent,y=e.split("[FBAN");if(void 0!==y[1]&&(e=y[0]),void 0!==(y=e.split("Twitter"))[1]&&(e=y[0]),this.apple={phone:m(r,e),ipod:m(n,e),tablet:!m(r,e)&&m(i,e),device:m(r,e)||m(n,e)||m(i,e)},this.amazon={phone:m(a,e),tablet:!m(a,e)&&m(u,e),device:m(a,e)||m(u,e)},this.android={phone:m(a,e)||m(o,e),tablet:!m(a,e)&&!m(o,e)&&(m(u,e)||m(s,e)),device:m(a,e)||m(u,e)||m(o,e)||m(s,e)},this.windows={phone:m(l,e),tablet:m(h,e),device:m(l,e)||m(h,e)},this.other={blackberry:m(c,e),blackberry10:m(f,e),opera:m(p,e),firefox:m(g,e),chrome:m(d,e),device:m(c,e)||m(f,e)||m(p,e)||m(g,e)||m(d,e)},this.seven_inch=m(v,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},x=function(){var t=new y;return t.Class=y,t};void 0!==e&&e.exports&&"undefined"==typeof window?e.exports=y:void 0!==e&&e.exports&&"undefined"!=typeof window?e.exports=x():t.isMobile=x()}(this)},{}],5:[function(t,e,r){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==n.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,s,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var l in r=Object(arguments[u]))i.call(r,l)&&(a[l]=r[l]);if(n){s=n(r);for(var h=0;h<s.length;h++)o.call(r,s[h])&&(a[s[h]]=r[s[h]])}}return a}},{}],6:[function(t,e,r){var n=new ArrayBuffer(0),i=function(t,e,r,i){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=n,r&&this.upload(r)};i.prototype.upload=function(t,e,r){r||this.bind();var n=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?n.bufferSubData(this.type,e,t):n.bufferData(this.type,t,this.drawType),this.data=t},i.prototype.bind=function(){var t=this.gl;t.bindBuffer(this.type,this.buffer)},i.createVertexBuffer=function(t,e,r){return new i(t,t.ARRAY_BUFFER,e,r)},i.createIndexBuffer=function(t,e,r){return new i(t,t.ELEMENT_ARRAY_BUFFER,e,r)},i.create=function(t,e,r,n){return new i(t,e,r,n)},i.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},e.exports=i},{}],7:[function(t,e,r){var n=t("./GLTexture"),i=function(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100};i.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new n(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(t,e,r,n){this.bind();var i=this.gl;i.clearColor(t,e,r,n),i.clear(i.COLOR_BUFFER_BIT)},i.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},i.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},i.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(t,e,r,o){var s=n.fromData(t,null,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},i.createFloat32=function(t,e,r,o){var s=new n.fromData(t,o,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},e.exports=i},{"./GLTexture":9}],8:[function(t,e,r){var n=t("./shader/compileProgram"),i=t("./shader/extractAttributes"),o=t("./shader/extractUniforms"),s=t("./shader/generateUniformAccessObject"),a=function(t,e,r){this.gl=t,this.program=n(t,e,r),this.attributes=i(t,this.program);var a=o(t,this.program);this.uniforms=s(t,a)};a.prototype.bind=function(){this.gl.useProgram(this.program)},a.prototype.destroy=function(){},e.exports=a},{"./shader/compileProgram":14,"./shader/extractAttributes":16,"./shader/extractUniforms":17,"./shader/generateUniformAccessObject":18}],9:[function(t,e,r){var n=function(t,e,r,n,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=n||t.RGBA,this.type=i||t.UNSIGNED_BYTE};n.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,n=t.videoHeight||t.height;n!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=n};var i=!1;n.prototype.uploadData=function(t,e,r){this.bind();var n=this.gl;if(t instanceof Float32Array){if(!i){var o=n.getExtension("OES_texture_float");if(!o)throw new Error("floating point textures not available");i=!0}this.type=n.FLOAT}else this.type=n.UNSIGNED_BYTE;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?n.texImage2D(n.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},n.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},n.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},n.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},n.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},n.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},n.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},n.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},n.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},n.prototype.destroy=function(){var t=this.gl;t.deleteTexture(this.texture)},n.fromSource=function(t,e,r){var i=new n(t);return i.premultiplyAlpha=r||!1,i.upload(e),i},n.fromData=function(t,e,r,i){var o=new n(t);return o.uploadData(e,r,i),o},e.exports=n},{}],10:[function(t,e,r){function n(t,e){if(this.nativeVaoExtension=null,n.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}var i=t("./setVertexAttribArrays");n.prototype.constructor=n,e.exports=n,n.FORCE_NATIVE=!1,n.prototype.bind=function(){return this.nativeVao?(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty&&(this.dirty=!1,this.activate())):this.activate(),this},n.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},n.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var n=this.attributes[r];e!==n.buffer&&(n.buffer.bind(),e=n.buffer),t.vertexAttribPointer(n.attribute.location,n.attribute.size,n.type||t.FLOAT,n.normalized||!1,n.stride||0,n.start||0)}return i(t,this.attributes,this.nativeState),this.indexBuffer.bind(),this},n.prototype.addAttribute=function(t,e,r,n,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:n||!1,stride:i||0,start:o||0}),this.dirty=!0,this},n.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},n.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},n.prototype.draw=function(t,e,r){var n=this.gl;return n.drawElements(t,e,n.UNSIGNED_SHORT,r||0),this},n.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null}},{"./setVertexAttribArrays":13}],11:[function(t,e,r){e.exports=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r}},{}],12:[function(t,e,r){var n={createContext:t("./createContext"),setVertexAttribArrays:t("./setVertexAttribArrays"),GLBuffer:t("./GLBuffer"),GLFramebuffer:t("./GLFramebuffer"),GLShader:t("./GLShader"),GLTexture:t("./GLTexture"),VertexArrayObject:t("./VertexArrayObject"),shader:t("./shader")};void 0!==e&&e.exports&&(e.exports=n),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},{"./GLBuffer":6,"./GLFramebuffer":7,"./GLShader":8,"./GLTexture":9,"./VertexArrayObject":10,"./createContext":11,"./setVertexAttribArrays":13,"./shader":19}],13:[function(t,e,r){e.exports=function(t,e,r){var n;if(r){var i=r.tempAttribState,o=r.attribState;for(n=0;n<i.length;n++)i[n]=!1;for(n=0;n<e.length;n++)i[e[n].attribute.location]=!0;for(n=0;n<o.length;n++)o[n]!==i[n]&&(o[n]=i[n],r.attribState[n]?t.enableVertexAttribArray(n):t.disableVertexAttribArray(n))}else for(n=0;n<e.length;n++){var s=e[n];t.enableVertexAttribArray(s.attribute.location)}}},{}],14:[function(t,e,r){var n=function(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)};e.exports=function(t,e,r){var i=n(t,t.VERTEX_SHADER,e),o=n(t,t.FRAGMENT_SHADER,r),s=t.createProgram();return t.attachShader(s,i),t.attachShader(s,o),t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(i),t.deleteShader(o),s}},{}],15:[function(t,e,r){var n=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};e.exports=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return n(2*e);case"bvec3":return n(3*e);case"bvec4":return n(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},{}],16:[function(t,e,r){var n=t("./mapType"),i=t("./mapSize"),o=function(t,e,r,n){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,r||0,n||0)};e.exports=function(t,e){for(var r={},s=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<s;a++){var u=t.getActiveAttrib(e,a),l=n(t,u.type);r[u.name]={type:l,size:i(l),location:t.getAttribLocation(e,u.name),pointer:o}}return r}},{"./mapSize":20,"./mapType":21}],17:[function(t,e,r){var n=t("./mapType"),i=t("./defaultValue");e.exports=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),s=0;s<o;s++){var a=t.getActiveUniform(e,s),u=a.name.replace(/\[.*?\]/,""),l=n(t,a.type);r[u]={type:l,size:a.size,location:t.getUniformLocation(e,u),value:i(l,a.size)}}return r}},{"./defaultValue":15,"./mapType":21}],18:[function(t,e,r){var n=function(t){var e=s.replace("%%",t);return new Function(e)},i=function(t,e){var r,n=a.replace(/%%/g,t);return(r=1===e.size?u[e.type]:l[e.type])&&(n+="\nthis.gl."+r+";"),new Function("value",n)},o=function(t,e){for(var r=e,n=0;n<t.length-1;n++){var i=r[t[n]]||{data:{}};r[t[n]]=i,r=i}return r},s=["return this.data.%%.value;"].join("\n"),a=["this.data.%%.value = value;","var location = this.data.%%.location;"].join("\n"),u={float:"uniform1f(location, value)",vec2:"uniform2f(location, value[0], value[1])",vec3:"uniform3f(location, value[0], value[1], value[2])",vec4:"uniform4f(location, value[0], value[1], value[2], value[3])",int:"uniform1i(location, value)",ivec2:"uniform2i(location, value[0], value[1])",ivec3:"uniform3i(location, value[0], value[1], value[2])",ivec4:"uniform4i(location, value[0], value[1], value[2], value[3])",bool:"uniform1i(location, value)",bvec2:"uniform2i(location, value[0], value[1])",bvec3:"uniform3i(location, value[0], value[1], value[2])",bvec4:"uniform4i(location, value[0], value[1], value[2], value[3])",mat2:"uniformMatrix2fv(location, false, value)",mat3:"uniformMatrix3fv(location, false, value)",mat4:"uniformMatrix4fv(location, false, value)",sampler2D:"uniform1i(location, value)"},l={float:"uniform1fv(location, value)",vec2:"uniform2fv(location, value)",vec3:"uniform3fv(location, value)",vec4:"uniform4fv(location, value)",int:"uniform1iv(location, value)",ivec2:"uniform2iv(location, value)",ivec3:"uniform3iv(location, value)",ivec4:"uniform4iv(location, value)",bool:"uniform1iv(location, value)",bvec2:"uniform2iv(location, value)",bvec3:"uniform3iv(location, value)",bvec4:"uniform4iv(location, value)",sampler2D:"uniform1iv(location, value)"};e.exports=function(t,e){var r={data:{}};r.gl=t;for(var s=Object.keys(e),a=0;a<s.length;a++){var u=s[a],l=u.split("."),h=l[l.length-1],c=o(l,r),f=e[u];c.data[h]=f,c.gl=t,Object.defineProperty(c,h,{get:n(h),set:i(h,f)})}return r}},{}],19:[function(t,e,r){e.exports={compileProgram:t("./compileProgram"),defaultValue:t("./defaultValue"),extractAttributes:t("./extractAttributes"),extractUniforms:t("./extractUniforms"),generateUniformAccessObject:t("./generateUniformAccessObject"),mapSize:t("./mapSize"),mapType:t("./mapType")}},{"./compileProgram":14,"./defaultValue":15,"./extractAttributes":16,"./extractUniforms":17,"./generateUniformAccessObject":18,"./mapSize":20,"./mapType":21}],20:[function(t,e,r){var n={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.exports=function(t){return n[t]}},{}],21:[function(t,e,r){var n=null,i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};e.exports=function(t,e){if(!n){var r=Object.keys(i);n={};for(var o=0;o<r.length;++o){var s=r[o];n[t[s]]=i[s]}}return n[e]}},{}],22:[function(t,e,r){(function(t){function e(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};r.resolve=function(){for(var r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(r=s+"/"+r,i="/"===s.charAt(0))}return r=e(n(r.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+r||"."},r.normalize=function(t){var i=r.isAbsolute(t),o="/"===s(t,-1);return(t=e(n(t.split("/"),function(t){return!!t}),!i).join("/"))||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},r.isAbsolute=function(t){return"/"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(n(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},r.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=r.resolve(t).substr(1),e=r.resolve(e).substr(1);for(var i=n(t.split("/")),o=n(e.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}for(var l=[],u=a;u<i.length;u++)l.push("..");return(l=l.concat(o.slice(a))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(t){var e=o(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(t,e){var r=o(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},r.extname=function(t){return o(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,t("_process"))},{_process:23}],23:[function(t,e,r){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(h===setTimeout)return setTimeout(t,0);if((h===n||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function s(){g&&p&&(g=!1,p.length?d=p.concat(d):v=-1,d.length&&a())}function a(){if(!g){var t=o(s);g=!0;for(var e=d.length;e;){for(p=d,d=[];++v<e;)p&&p[v].run();v=-1,e=d.length}p=null,g=!1,function(t){if(c===clearTimeout)return clearTimeout(t);if((c===i||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}(t)}}function u(t,e){this.fun=t,this.array=e}function l(){}var h,c,f=e.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:n}catch(t){h=n}try{c="function"==typeof clearTimeout?clearTimeout:i}catch(t){c=i}}();var p,d=[],g=!1,v=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new u(t,e)),1!==d.length||g||o(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],24:[function(t,r,n){(function(t){!function(e){function i(t){throw new RangeError(P[t])}function o(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function s(t,e){var r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]);var i=(t=t.replace(O,".")).split("."),s=o(i,e).join(".");return n+s}function a(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function u(t){return o(t,function(t){var e="";return t>65535&&(e+=L((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=L(t)}).join("")}function l(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:b}function h(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function c(t,e,r){var n=0;for(t=r?I(t/E):t>>1,t+=I(t/e);t>D*w>>1;n+=b)t=I(t/D);return I(n+(D+1)*t/(t+T))}function f(t){var e,r,n,o,s,a,h,f,p,d,g=[],v=t.length,m=0,y=A,T=S;for((r=t.lastIndexOf(C))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&i("not-basic"),g.push(t.charCodeAt(n));for(o=r>0?r+1:0;o<v;){for(s=m,a=1,h=b;o>=v&&i("invalid-input"),((f=l(t.charCodeAt(o++)))>=b||f>I((x-m)/a))&&i("overflow"),m+=f*a,!(f<(p=h<=T?_:h>=T+w?w:h-T));h+=b)a>I(x/(d=b-p))&&i("overflow"),a*=d;e=g.length+1,T=c(m-s,e,0==s),I(m/e)>x-y&&i("overflow"),y+=I(m/e),m%=e,g.splice(m++,0,y)}return u(g)}function p(t){var e,r,n,o,s,u,l,f,p,d,g,v,m,y,T,E=[];for(t=a(t),v=t.length,e=A,r=0,s=S,u=0;u<v;++u)(g=t[u])<128&&E.push(L(g));for(n=o=E.length,o&&E.push(C);n<v;){for(l=x,u=0;u<v;++u)(g=t[u])>=e&&g<l&&(l=g);for(l-e>I((x-r)/(m=n+1))&&i("overflow"),r+=(l-e)*m,e=l,u=0;u<v;++u)if((g=t[u])<e&&++r>x&&i("overflow"),g==e){for(f=r,p=b;!(f<(d=p<=s?_:p>=s+w?w:p-s));p+=b)T=f-d,y=b-d,E.push(L(h(d+T%y,0))),f=I(T/y);E.push(L(h(f,0))),s=c(r,m,n==o),r=0,++n}++r,++e}return E.join("")}var d="object"==typeof n&&n&&!n.nodeType&&n,g="object"==typeof r&&r&&!r.nodeType&&r,v="object"==typeof t&&t;v.global!==v&&v.window!==v&&v.self!==v||(e=v);var m,y,x=2147483647,b=36,_=1,w=26,T=38,E=700,S=72,A=128,C="-",M=/^xn--/,R=/[^\x20-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=b-_,I=Math.floor,L=String.fromCharCode;if(m={version:"1.4.1",ucs2:{decode:a,encode:u},decode:f,encode:p,toASCII:function(t){return s(t,function(t){return R.test(t)?"xn--"+p(t):t})},toUnicode:function(t){return s(t,function(t){return M.test(t)?f(t.slice(4).toLowerCase()):t})}},d&&g)if(r.exports==d)g.exports=m;else for(y in m)m.hasOwnProperty(y)&&(d[y]=m[y]);else e.punycode=m}(this)}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],25:[function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=t.length;u>0&&l>u&&(l=u);for(var h=0;h<l;++h){var c,f,p,d,g=t[h].replace(a,"%20"),v=g.indexOf(r);v>=0?(c=g.substr(0,v),f=g.substr(v+1)):(c=g,f=""),p=decodeURIComponent(c),d=decodeURIComponent(f),n(s,p)?i(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],26:[function(t,e,r){"use strict";function n(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?n(s(t),function(s){var a=encodeURIComponent(i(s))+r;return o(t[s])?n(t[s],function(t){return a+encodeURIComponent(i(t))}).join(e):a+encodeURIComponent(i(t[s]))}).join(e):a?encodeURIComponent(i(a))+r+encodeURIComponent(i(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],27:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":25,"./encode":26}],28:[function(t,e,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,r){if(t&&s.isObject(t)&&t instanceof n)return t;var i=new n;return i.parse(t,e,r),i}var o=t("punycode"),s=t("./util");r.parse=i,r.resolve=function(t,e){return i(t,!1,!0).resolve(e)},r.resolveObject=function(t,e){return t?i(t,!1,!0).resolveObject(e):e},r.format=function(t){return s.isString(t)&&(t=i(t)),t instanceof n?t.format():n.prototype.format.call(t)},r.Url=n;var a=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(h),f=["%","/","?",";","#"].concat(c),p=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=t("querystring");n.prototype.parse=function(t,e,r){if(!s.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=-1!==n&&n<t.indexOf("#")?"?":"#",u=t.split(i);u[0]=u[0].replace(/\\/g,"/");var h=t=u.join(i);if(h=h.trim(),!r&&1===t.split("#").length){var b=l.exec(h);if(b)return this.path=h,this.href=h,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?x.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var _=a.exec(h);if(_){var w=(_=_[0]).toLowerCase();this.protocol=w,h=h.substr(_.length)}if(r||_||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===h.substr(0,2);!T||_&&m[_]||(h=h.substr(2),this.slashes=!0)}if(!m[_]&&(T||_&&!y[_])){for(var E=-1,S=0;S<p.length;S++){var A=h.indexOf(p[S]);-1!==A&&(-1===E||A<E)&&(E=A)}var C,M;-1!==(M=-1===E?h.lastIndexOf("@"):h.lastIndexOf("@",E))&&(C=h.slice(0,M),h=h.slice(M+1),this.auth=decodeURIComponent(C)),E=-1;for(var S=0;S<f.length;S++){var A=h.indexOf(f[S]);-1!==A&&(-1===E||A<E)&&(E=A)}-1===E&&(E=h.length),this.host=h.slice(0,E),h=h.slice(E),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var O=this.hostname.split(/\./),S=0,P=O.length;S<P;S++){var D=O[S];if(D&&!D.match(d)){for(var I="",L=0,F=D.length;L<F;L++)I+=D.charCodeAt(L)>127?"x":D[L];if(!I.match(d)){var k=O.slice(0,S),B=O.slice(S+1),N=D.match(g);N&&(k.push(N[1]),B.unshift(N[2])),B.length&&(h="/"+B.join(".")+h),this.hostname=k.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=o.toASCII(this.hostname));var U=this.port?":"+this.port:"",$=this.hostname||"";this.host=$+U,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==h[0]&&(h="/"+h))}if(!v[w])for(var S=0,P=c.length;S<P;S++){var j=c[S];if(-1!==h.indexOf(j)){var G=encodeURIComponent(j);G===j&&(G=escape(j)),h=h.split(j).join(G)}}var W=h.indexOf("#");-1!==W&&(this.hash=h.substr(W),h=h.slice(0,W));var V=h.indexOf("?");if(-1!==V?(this.search=h.substr(V),this.query=h.substr(V+1),e&&(this.query=x.parse(this.query)),h=h.slice(0,V)):e&&(this.search="",this.query={}),h&&(this.pathname=h),y[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",X=this.search||"";this.path=U+X}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(o=x.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||y[e])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+i+r+a+n},n.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(s.isString(t)){var e=new n;e.parse(t,!1,!0),t=e}for(var r=new n,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),l=0;l<u.length;l++){var h=u[l];"protocol"!==h&&(r[h]=t[h])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!y[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var p=c[f];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||m[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var g=r.pathname||"",v=r.search||"";r.path=g+v}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var x=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=b||x||r.host&&t.pathname,w=_,T=r.pathname&&r.pathname.split("/")||[],d=t.pathname&&t.pathname.split("/")||[],E=r.protocol&&!y[r.protocol];if(E&&(r.hostname="",r.port=null,r.host&&(""===T[0]?T[0]=r.host:T.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),_=_&&(""===d[0]||""===T[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,T=d;else if(d.length)T||(T=[]),T.pop(),T=T.concat(d),r.search=t.search,r.query=t.query;else if(!s.isNullOrUndefined(t.search)){if(E){r.hostname=r.host=T.shift();var S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");S&&(r.auth=S.shift(),r.host=r.hostname=S.shift())}return r.search=t.search,r.query=t.query,s.isNull(r.pathname)&&s.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!T.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var A=T.slice(-1)[0],C=(r.host||t.host||T.length>1)&&("."===A||".."===A)||""===A,M=0,R=T.length;R>=0;R--)"."===(A=T[R])?T.splice(R,1):".."===A?(T.splice(R,1),M++):M&&(T.splice(R,1),M--);if(!_&&!w)for(;M--;M)T.unshift("..");!_||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),C&&"/"!==T.join("/").substr(-1)&&T.push("");var O=""===T[0]||T[0]&&"/"===T[0].charAt(0);if(E){r.hostname=r.host=O?"":T.length?T.shift():"";var S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");S&&(r.auth=S.shift(),r.host=r.hostname=S.shift())}return(_=_||r.host&&T.length)&&!O&&T.unshift(""),T.length?r.pathname=T.join("/"):(r.pathname=null,r.path=null),s.isNull(r.pathname)&&s.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var t=this.host,e=u.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":29,punycode:24,querystring:27}],29:[function(t,e,r){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],30:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=t("mini-signals"),s=n(o),a=t("parse-uri"),u=n(a),l=t("./async"),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(l),c=t("./Resource"),f=n(c),p=/(#[\w-]+)?$/,d=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,r){return e._loadResource(t,r)},this._queue=h.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new s.default,this.onError=new s.default,this.onLoad=new s.default,this.onStart=new s.default,this.onComplete=new s.default}return t.prototype.add=function(t,e,r,n){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if("object"===(void 0===t?"undefined":i(t))&&(n=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(n=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(n=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new f.default(t,e,r),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var s=r.parentResource,a=[],u=0;u<s.children.length;++u)s.children[u].isComplete||a.push(s.children[u]);var l=s.progressChunk*(a.length+1),h=l/(a.length+2);s.children.push(this.resources[t]),s.progressChunk=h;for(var c=0;c<a.length;++c)a[c].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;return this.loading=!0,this.onStart.dispatch(this),this._queue.resume(),this},t.prototype._prepareUrl=function(t){var e=(0,u.default)(t,{strictMode:!0}),r=void 0;if(r=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var n=p.exec(r)[0];r=r.substr(0,r.length-n.length),r+=-1!==r.indexOf("?")?"&"+this.defaultQueryString:"?"+this.defaultQueryString,r+=n}return r},t.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,h.eachSeries(this._beforeMiddleware,function(e,n){e.call(r,t,function(){n(t.isComplete?{}:null)})},function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())})},t.prototype._onComplete=function(){this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,t._dequeue(),this._resourcesParsing.push(t),h.eachSeries(this._afterMiddleware,function(r,n){r.call(e,t,n)},function(){t.onAfterMiddleware.dispatch(t),e.progress+=t.progressChunk,e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&(e.progress=100,e._onComplete())})},t}();r.default=d},{"./Resource":31,"./async":32,"mini-signals":36,"parse-uri":37}],31:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(){}function o(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function s(t){return t.toString().replace("object ","")}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("parse-uri"),l=n(u),h=t("mini-signals"),c=n(h),f=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),p=null,d=function(){function t(e,r,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=i,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new c.default,this.onProgress=new c.default,this.onComplete=new c.default,this.onAfterMiddleware=new c.default}return t.setExtensionLoadType=function(e,r){o(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){o(t._xhrTypeMap,e,r)},t.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},t.prototype.load=function(e){var r=this;if(!this.isLoading){if(this.isComplete)return void(e&&setTimeout(function(){return e(r)},1));switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:f&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},t.prototype._hasFlag=function(t){return!!(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=0;e<this.url.length;++e)this.data.appendChild(this._createSource(t,this.url[e]));else this.data.appendChild(this._createSource(t,this.url));this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,r){r||(r=t+"/"+e.substr(e.lastIndexOf(".")+1));var n=document.createElement("source");return n.src=e,n.type=r,n},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(s(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnAbort=function(){this.abort(s(this.xhr)+" Request was aborted by the user.")},t.prototype._xdrOnTimeout=function(){this.abort(s(this.xhr)+" Request timed out.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r=void 0===e.status?e.status:200;if(200===r||204===r||0===r&&e.responseText.length>0){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=e.responseText,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e.responseText),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(e.responseText,"text/xml")}else{var i=document.createElement("div");i.innerHTML=e.responseText,this.data=i}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||e.responseText;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,p||(p=document.createElement("a")),p.href=t;var r=!(t=(0,l.default)(p.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&n===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var n=t.indexOf("?");-1!==n&&(t=t.substring(0,n)),e=t.substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},a(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();r.default=d,d.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},d.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},d.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},d.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},d._loadTypeMap={gif:d.LOAD_TYPE.IMAGE,png:d.LOAD_TYPE.IMAGE,bmp:d.LOAD_TYPE.IMAGE,jpg:d.LOAD_TYPE.IMAGE,jpeg:d.LOAD_TYPE.IMAGE,tif:d.LOAD_TYPE.IMAGE,tiff:d.LOAD_TYPE.IMAGE,webp:d.LOAD_TYPE.IMAGE,tga:d.LOAD_TYPE.IMAGE,svg:d.LOAD_TYPE.IMAGE,"svg+xml":d.LOAD_TYPE.IMAGE,mp3:d.LOAD_TYPE.AUDIO,ogg:d.LOAD_TYPE.AUDIO,wav:d.LOAD_TYPE.AUDIO,mp4:d.LOAD_TYPE.VIDEO,webm:d.LOAD_TYPE.VIDEO},d._xhrTypeMap={xhtml:d.XHR_RESPONSE_TYPE.DOCUMENT,html:d.XHR_RESPONSE_TYPE.DOCUMENT,htm:d.XHR_RESPONSE_TYPE.DOCUMENT,xml:d.XHR_RESPONSE_TYPE.DOCUMENT,tmx:d.XHR_RESPONSE_TYPE.DOCUMENT,svg:d.XHR_RESPONSE_TYPE.DOCUMENT,tsx:d.XHR_RESPONSE_TYPE.DOCUMENT,gif:d.XHR_RESPONSE_TYPE.BLOB,png:d.XHR_RESPONSE_TYPE.BLOB,bmp:d.XHR_RESPONSE_TYPE.BLOB,jpg:d.XHR_RESPONSE_TYPE.BLOB,jpeg:d.XHR_RESPONSE_TYPE.BLOB,tif:d.XHR_RESPONSE_TYPE.BLOB,tiff:d.XHR_RESPONSE_TYPE.BLOB,webp:d.XHR_RESPONSE_TYPE.BLOB,tga:d.XHR_RESPONSE_TYPE.BLOB,json:d.XHR_RESPONSE_TYPE.JSON,text:d.XHR_RESPONSE_TYPE.TEXT,txt:d.XHR_RESPONSE_TYPE.TEXT,ttf:d.XHR_RESPONSE_TYPE.BUFFER,otf:d.XHR_RESPONSE_TYPE.BUFFER},d.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},{"mini-signals":36,"parse-uri":37}],32:[function(t,e,r){"use strict";function n(){}function i(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}r.__esModule=!0,r.eachSeries=function(t,e,r){var n=0,i=t.length;!function o(s){return s||n===i?void(r&&r(s)):void e(t[n++],o)}()},r.queue=function(t,e){function r(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(a.started=!0,null==t&&a.idle())setTimeout(function(){return a.drain()},1);else{var i={data:t,callback:"function"==typeof r?r:n};e?a._tasks.unshift(i):a._tasks.push(i),setTimeout(function(){return a.process()},1)}}function o(t){return function(){s-=1,t.callback.apply(t,arguments),null!=arguments[0]&&a.error(arguments[0],t.data),s<=a.concurrency-a.buffer&&a.unsaturated(),a.idle()&&a.drain(),a.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var s=0,a={_tasks:[],concurrency:e,saturated:n,unsaturated:n,buffer:e/4,empty:n,drain:n,error:n,started:!1,paused:!1,push:function(t,e){r(t,!1,e)},kill:function(){s=0,a.drain=n,a.started=!1,a._tasks=[]},unshift:function(t,e){r(t,!0,e)},process:function(){for(;!a.paused&&s<a.concurrency&&a._tasks.length;){var e=a._tasks.shift();0===a._tasks.length&&a.empty(),(s+=1)===a.concurrency&&a.saturated(),t(e.data,i(o(e)))}},length:function(){return a._tasks.length},running:function(){return s},idle:function(){return a._tasks.length+s===0},pause:function(){!0!==a.paused&&(a.paused=!0)},resume:function(){if(!1!==a.paused){a.paused=!1;for(var t=1;t<=a.concurrency;t++)a.process()}}};return a}},{}],33:[function(t,e,r){"use strict";r.__esModule=!0,r.encodeBinary=function(t){for(var e="",r=0;r<t.length;){for(var i=[0,0,0],o=[0,0,0,0],s=0;s<i.length;++s)r<t.length?i[s]=255&t.charCodeAt(r++):i[s]=0;o[0]=i[0]>>2,o[1]=(3&i[0])<<4|i[1]>>4,o[2]=(15&i[1])<<2|i[2]>>6,o[3]=63&i[2];var a=r-(t.length-1);switch(a){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var u=0;u<o.length;++u)e+=n.charAt(o[u])}return e};var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},{}],34:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var o=t("./Loader"),s=i(o),a=t("./Resource"),u=i(a),l=t("./async"),h=n(l),c=t("./b64"),f=n(c);s.default.Resource=u.default,s.default.async=h,s.default.base64=f,e.exports=s.default,r.default=s.default},{"./Loader":30,"./Resource":31,"./async":32,"./b64":33}],35:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.blobMiddlewareFactory=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===s.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=function(){var r=l.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=s.default.TYPE.IMAGE,t.data.onload=function(){l.revokeObjectURL(r),t.data.onload=null,e()},{v:void 0}}();if("object"===(void 0===r?"undefined":i(r)))return r.v}}else{var n=t.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+u.default.encodeBinary(t.xhr.responseText),t.type=s.default.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}};var o=t("../../Resource"),s=n(o),a=t("../../b64"),u=n(a),l=window.URL||window.webkitURL},{"../../Resource":31,"../../b64":33}],36:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=function(){function t(e,r,i){void 0===r&&(r=!1),n(this,t),this._fn=e,this._once=r,this._thisArg=i,this._next=this._prev=this._owner=null}return o(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}(),a=function(){function t(){n(this,t),this._head=this._tail=void 0}return o(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return i(this,new s(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return i(this,new s(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=s,r.default=a,e.exports=r.default},{}],37:[function(t,e,r){"use strict";e.exports=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(t,e,n){e&&(i[r.q.name][e]=n)}),i}},{}],38:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("../core"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(i),s=t("ismobilejs"),a=n(s),u=t("./accessibleTarget"),l=n(u);o.utils.mixins.delayMixin(o.DisplayObject.prototype,l.default);var h=100,c=0,f=0,p=2,d=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),!a.default.tablet&&!a.default.phone||navigator.isCocoonJS||this.createTouchHook();var r=document.createElement("div");r.style.width=h+"px",r.style.height=h+"px",r.style.position="absolute",r.style.top=c+"px",r.style.left=f+"px",r.style.zIndex=p,this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=e.length-1;r>=0;r--)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,n=this.div;n.style.left=t.left+"px",n.style.top=t.top+"px",n.style.width=this.renderer.width+"px",n.style.height=this.renderer.height+"px";for(var i=0;i<this.children.length;i++){var s=this.children[i];if(s.renderId!==this.renderId)s._accessibleActive=!1,o.utils.removeItems(this.children,i,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,i--,0===this.children.length&&this.deactivate();else{n=s._accessibleDiv;var a=s.hitArea,u=s.worldTransform;s.hitArea?(n.style.left=(u.tx+a.x*u.a)*e+"px",n.style.top=(u.ty+a.y*u.d)*r+"px",n.style.width=a.width*u.a*e+"px",n.style.height=a.height*u.d*r+"px"):(a=s.getBounds(),this.capHitArea(a),n.style.left=a.x*e+"px",n.style.top=a.y*r+"px",n.style.width=a.width*e+"px",n.style.height=a.height*r+"px")}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width=h+"px",e.style.height=h+"px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=p,e.style.borderStyle="none",e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleTitle||t.accessibleHint||(e.title="displayObject "+this.tabIndex),t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},t.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(){this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();r.default=d,o.WebGLRenderer.registerPlugin("accessibility",d),o.CanvasRenderer.registerPlugin("accessibility",d)},{"../core":63,"./accessibleTarget":39,ismobilejs:4}],39:[function(t,e,r){"use strict";r.__esModule=!0,r.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],40:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./accessibleTarget");Object.defineProperty(r,"accessibleTarget",{enumerable:!0,get:function(){return n(i).default}});var o=t("./AccessibilityManager");Object.defineProperty(r,"AccessibilityManager",{enumerable:!0,get:function(){return n(o).default}})},{"./AccessibilityManager":38,"./accessibleTarget":39}],41:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("./autoDetectRenderer"),o=t("./display/Container"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=t("./ticker"),u=function(){function t(e,r,n,o){var u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.renderer=(0,i.autoDetectRenderer)(e,r,n,o),this.stage=new s.default,this._ticker=null,this.ticker=u?a.shared:new a.Ticker,this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t){this.stop(),this.ticker=null,this.stage.destroy(),this.stage=null,this.renderer.destroy(t),this.renderer=null},n(t,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),t}();r.default=u},{"./autoDetectRenderer":43,"./display/Container":46,"./ticker":116}],42:[function(t,e,r){"use strict";function n(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var r=t.slice(0);return r.unshift("precision "+e+" float;"),r}}else if("precision"!==t.substring(0,9))return"precision "+e+" float;\n"+t;return t}r.__esModule=!0;var i=t("pixi-gl-core"),o=t("./settings"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(t){function e(r,i,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,n(i,s.default.PRECISION_VERTEX),n(o,s.default.PRECISION_FRAGMENT)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.GLShader);r.default=a},{"./settings":99,"pixi-gl-core":12}],43:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0,r.autoDetectRenderer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:800,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,r=arguments[2];return!arguments[3]&&o.isWebGLSupported()?new l.default(t,e,r):new a.default(t,e,r)};var i=t("./utils"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(i),s=t("./renderers/canvas/CanvasRenderer"),a=n(s),u=t("./renderers/webgl/WebGLRenderer"),l=n(u)},{"./renderers/canvas/CanvasRenderer":75,"./renderers/webgl/WebGLRenderer":82,"./utils":120}],44:[function(t,e,r){"use strict";r.__esModule=!0,r.VERSION="4.4.3",r.PI_2=2*Math.PI,r.RAD_TO_DEG=180/Math.PI,r.DEG_TO_RAD=Math.PI/180,r.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},r.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},r.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},r.SCALE_MODES={LINEAR:0,NEAREST:1},r.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},r.GC_MODES={AUTO:0,MANUAL:1},r.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,r.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,r.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,r.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},r.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},r.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},r.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1}},{}],45:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../math"),i=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?n.Rectangle.EMPTY:((t=t||new n.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[2],s=t[3],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[4],s=t[5],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[6],s=t[7],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.addFrame=function(t,e,r,n,i){var o=t.worldTransform,s=o.a,a=o.b,u=o.c,l=o.d,h=o.tx,c=o.ty,f=this.minX,p=this.minY,d=this.maxX,g=this.maxY,v=s*e+u*r+h,m=a*e+l*r+c;f=v<f?v:f,p=m<p?m:p,d=v>d?v:d,g=m>g?m:g,m=a*n+l*r+c,f=(v=s*n+u*r+h)<f?v:f,p=m<p?m:p,d=v>d?v:d,g=m>g?m:g,m=a*e+l*i+c,f=(v=s*e+u*i+h)<f?v:f,p=m<p?m:p,d=v>d?v:d,g=m>g?m:g,m=a*n+l*i+c,f=(v=s*n+u*i+h)<f?v:f,p=m<p?m:p,d=v>d?v:d,g=m>g?m:g,this.minX=f,this.minY=p,this.maxX=d,this.maxY=g},t.prototype.addVertices=function(t,e,r,n){for(var i=t.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,l=i.tx,h=i.ty,c=this.minX,f=this.minY,p=this.maxX,d=this.maxY,g=r;g<n;g+=2){var v=e[g],m=e[g+1],y=o*v+a*m+l,x=u*m+s*v+h;c=y<c?y:c,f=x<f?x:f,p=y>p?y:p,d=x>d?x:d}this.minX=c,this.minY=f,this.maxX=p,this.maxY=d},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,l=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,l=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t}();r.default=i},{"../math":68}],46:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("../utils"),o=t("./DisplayObject"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.children=[],r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.addChild(arguments[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The supplied index is out of bounds");var r=this.getChildIndex(t);(0,i.removeItems)(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.removeChild(arguments[r]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,(0,i.removeItems)(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,i.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=t,n="number"==typeof e?e:this.children.length,i=n-r,o=void 0;if(i>0&&i<=n){o=this.children.splice(r,i);for(var s=0;s<o.length;++s)o[s].parent=null,o[s].transform&&(o[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<o.length;++a)o[a].emit("removed",this);return o}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}r&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(t);t.flush(),r&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var r="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(r)for(var i=0;i<n.length;++i)n[i].destroy(e)},n(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),e}(s.default);r.default=a,a.prototype.containerUpdateTransform=a.prototype.updateTransform},{"../utils":120,"./DisplayObject":47}],47:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("eventemitter3"),s=n(o),a=t("../const"),u=t("../settings"),l=n(u),h=t("./TransformStatic"),c=n(h),f=t("./Transform"),p=n(f),d=t("./Bounds"),g=n(d),v=t("../math"),m=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this)),n=l.default.TRANSFORM_MODE===a.TRANSFORM_MODE.STATIC?c.default:p.default;return r.tempDisplayObjectParent=null,r.transform=new n,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r.filterArea=null,r._filters=null,r._enabledFilters=null,r._bounds=new g.default,r._boundsID=0,r._lastBoundsID=-1,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._destroyed=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new v.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new v.Rectangle),t=this._localBoundsRect);var n=this.getBounds(!1,t);return this.parent=r,this.transform=e,n},e.prototype.toGlobal=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=u,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},i(e,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0),this._mask=t,this._mask&&(this._mask.renderable=!1)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(s.default);r.default=m,m.prototype.displayObjectUpdateTransform=m.prototype.updateTransform},{"../const":44,"../math":68,"../settings":99,"./Bounds":45,"./Transform":48,"./TransformStatic":50,eventemitter3:3}],48:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("../math"),o=t("./TransformBase"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.position=new i.Point(0,0),r.scale=new i.Point(1,1),r.skew=new i.ObservablePoint(r.updateSkew,r,0,0),r.pivot=new i.Point(0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},n(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(s.default);r.default=a},{"../math":68,"./TransformBase":49}],49:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../math"),i=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.worldTransform=new n.Matrix,this.localTransform=new n.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,r=this.worldTransform,n=this.localTransform;r.a=n.a*e.a+n.b*e.c,r.b=n.a*e.b+n.b*e.d,r.c=n.c*e.a+n.d*e.c,r.d=n.c*e.b+n.d*e.d,r.tx=n.tx*e.a+n.ty*e.c+e.tx,r.ty=n.tx*e.b+n.ty*e.d+e.ty,this._worldID++},t}();r.default=i,i.prototype.updateWorldTransform=i.prototype.updateTransform,i.IDENTITY=new i},{"../math":68}],50:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("../math"),o=t("./TransformBase"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.position=new i.ObservablePoint(r.onChange,r,0,0),r.scale=new i.ObservablePoint(r.onChange,r,1,1),r.pivot=new i.ObservablePoint(r.onChange,r,0,0),r.skew=new i.ObservablePoint(r.updateSkew,r,0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r._localID=0,r._currentLocalID=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},n(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(s.default);r.default=a},{"../math":68,"./TransformBase":49}],51:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("../display/Container"),o=n(i),s=t("../textures/RenderTexture"),a=n(s),u=t("../textures/Texture"),l=n(u),h=t("./GraphicsData"),c=n(h),f=t("../sprites/Sprite"),p=n(f),d=t("../math"),g=t("../utils"),v=t("../const"),m=t("../display/Bounds"),y=n(m),x=t("./utils/bezierCurveTo"),b=n(x),_=t("../renderers/canvas/CanvasRenderer"),w=n(_),T=void 0,E=new d.Matrix,S=new d.Point,A=new Float32Array(4),C=new Float32Array(4),M=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n.fillAlpha=1,n.lineWidth=0,n.nativeLines=r,n.lineColor=0,n.graphicsData=[],n.tint=16777215,n._prevTint=16777215,n.blendMode=v.BLEND_MODES.NORMAL,n.currentPath=null,n._webGL={},n.isMask=!1,n.boundsPadding=0,n._localBounds=new y.default,n.dirty=0,n.fastRectDirty=-1,n.clearDirty=0,n.boundsDirty=-1,n.cachedSpriteDirty=!1,n._spriteRect=null,n._fastRect=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var r=0;r<this.graphicsData.length;++r)t.graphicsData.push(this.graphicsData[r].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=r,this.currentPath)if(this.currentPath.shape.points.length){var n=new d.Polygon(this.currentPath.shape.points.slice(-2));n.closed=!1,this.drawShape(n)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},e.prototype.moveTo=function(t,e){var r=new d.Polygon([t,e]);return r.closed=!1,this.drawShape(r),this},e.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty++,this},e.prototype.quadraticCurveTo=function(t,e,r,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var i=this.currentPath.shape.points,o=0,s=0;0===i.length&&this.moveTo(0,0);for(var a=i[i.length-2],u=i[i.length-1],l=1;l<=20;++l){var h=l/20;o=a+(t-a)*h,s=u+(e-u)*h,i.push(o+(t+(r-t)*h-o)*h,s+(e+(n-e)*h-s)*h)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,e,r,n,i,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,a=s[s.length-2],u=s[s.length-1];return s.length-=2,(0,b.default)(a,u,t,e,r,n,i,o,s),this.dirty++,this},e.prototype.arcTo=function(t,e,r,n,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1],u=a-e,l=s-t,h=n-e,c=r-t,f=Math.abs(u*c-l*h);if(f<1e-8||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var p=u*u+l*l,d=h*h+c*c,g=u*h+l*c,v=i*Math.sqrt(p)/f,m=i*Math.sqrt(d)/f,y=v*g/p,x=m*g/d,b=v*c+m*l,_=v*h+m*u,w=l*(m+y),T=u*(m+y),E=c*(v+x),S=h*(v+x),A=Math.atan2(T-_,w-b),C=Math.atan2(S-_,E-b);this.arc(b+t,_+e,i,A,C,l*h>c*u)}return this.dirty++,this},e.prototype.arc=function(t,e,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(n===i)return this;!o&&i<=n?i+=2*Math.PI:o&&n<=i&&(n+=2*Math.PI);var s=i-n,a=40*Math.ceil(Math.abs(s)/(2*Math.PI));if(0===s)return this;var u=t+Math.cos(n)*r,l=e+Math.sin(n)*r,h=this.currentPath?this.currentPath.shape.points:null;h?h[h.length-2]===u&&h[h.length-1]===l||h.push(u,l):(this.moveTo(u,l),h=this.currentPath.shape.points);for(var c=s/(2*a),f=2*c,p=Math.cos(c),d=Math.sin(c),g=a-1,v=g%1/g,m=0;m<=g;++m){var y=m+v*m,x=c+n+f*y,b=Math.cos(x),_=-Math.sin(x);h.push((p*b+d*_)*r+t,(p*-_+d*b)*r+e)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,r,n){return this.drawShape(new d.Rectangle(t,e,r,n)),this},e.prototype.drawRoundedRect=function(t,e,r,n,i){return this.drawShape(new d.RoundedRectangle(t,e,r,n,i)),this},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new d.Circle(t,e,r)),this},e.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new d.Ellipse(t,e,r,n)),this},e.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof d.Polygon&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}var i=new d.Polygon(e);return i.closed=r,this.drawShape(i),this},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===v.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new p.default(new l.default(l.default.WHITE)));var r=this._spriteRect;if(16777215===this.tint)r.tint=this.graphicsData[0].fillColor;else{var n=A,i=C;(0,g.hex2rgb)(this.graphicsData[0].fillColor,n),(0,g.hex2rgb)(this.tint,i),n[0]*=i[0],n[1]*=i[1],n[2]*=i[2],r.tint=(0,g.rgb2hex)(n)}r.alpha=this.graphicsData[0].fillAlpha,r.worldAlpha=this.worldAlpha*r.alpha,r.blendMode=this.blendMode,r.texture._frame.width=e.width,r.texture._frame.height=e.height,r.transform.worldTransform=this.transform.worldTransform,r.anchor.set(-e.x/e.width,-e.y/e.height),r._onAnchorUpdate(),r._renderWebGL(t)},e.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,S);for(var e=this.graphicsData,r=0;r<e.length;++r){var n=e[r];if(n.fill&&n.shape&&n.shape.contains(S.x,S.y))return!0}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,r=1/0,n=-1/0;if(this.graphicsData.length)for(var i=0,o=0,s=0,a=0,u=0,l=0;l<this.graphicsData.length;l++){var h=this.graphicsData[l],c=h.type,f=h.lineWidth;if(i=h.shape,c===v.SHAPES.RECT||c===v.SHAPES.RREC)o=i.x-f/2,s=i.y-f/2,a=i.width+f,u=i.height+f,t=o<t?o:t,e=o+a>e?o+a:e,r=s<r?s:r,n=s+u>n?s+u:n;else if(c===v.SHAPES.CIRC)o=i.x,s=i.y,a=i.radius+f/2,u=i.radius+f/2,t=o-a<t?o-a:t,e=o+a>e?o+a:e,r=s-u<r?s-u:r,n=s+u>n?s+u:n;else if(c===v.SHAPES.ELIP)o=i.x,s=i.y,a=i.width+f/2,u=i.height+f/2,t=o-a<t?o-a:t,e=o+a>e?o+a:e,r=s-u<r?s-u:r,n=s+u>n?s+u:n;else for(var p=i.points,d=0,g=0,m=0,y=0,x=0,b=0,_=0,w=0,T=0;T+2<p.length;T+=2)o=p[T],s=p[T+1],d=p[T+2],g=p[T+3],m=Math.abs(d-o),y=Math.abs(g-s),u=f,(a=Math.sqrt(m*m+y*y))<1e-9||(b=(u/a*m+y)/2,w=(g+s)/2,t=(_=(d+o)/2)-(x=(u/a*y+m)/2)<t?_-x:t,e=_+x>e?_+x:e,r=w-b<r?w-b:r,n=w+b>n?w+b:n)}else t=0,e=0,r=0,n=0;var E=this.boundsPadding;this._localBounds.minX=t-E,this._localBounds.maxX=e+2*E,this._localBounds.minY=r-E,this._localBounds.maxY=n+2*E},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new c.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t);return this.graphicsData.push(e),e.type===v.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.getLocalBounds(),n=a.default.create(r.width,r.height,t,e);T||(T=new w.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(E),E.invert(),E.tx-=r.x,E.ty-=r.y,T.render(this,n,!0,E);var i=l.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas,t);return i.baseTexture.resolution=e,i.baseTexture.update(),i},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();for(var n in this._webgl)for(var i=0;i<this._webgl[n].data.length;++i)this._webgl[n].data[i].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},e}(o.default);r.default=M,M._SPRITE_TEXTURE=null},{"../const":44,"../display/Bounds":45,"../display/Container":46,"../math":68,"../renderers/canvas/CanvasRenderer":75,"../sprites/Sprite":100,"../textures/RenderTexture":110,"../textures/Texture":112,"../utils":120,"./GraphicsData":52,"./utils/bezierCurveTo":54}],52:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(e,r,n,i,o,s,a,u){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.lineWidth=e,this.nativeLines=a,this.lineColor=r,this.lineAlpha=n,this._lineTint=r,this.fillColor=i,this.fillAlpha=o,this._fillTint=i,this.fill=s,this.holes=[],this.shape=u,this.type=u.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();r.default=n},{}],53:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../../renderers/canvas/CanvasRenderer"),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=t("../../const"),s=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldAlpha,i=t.transform.worldTransform,s=e.resolution;this._prevTint!==this.tint&&(this.dirty=!0),r.setTransform(i.a*s,i.b*s,i.c*s,i.d*s,i.tx*s,i.ty*s),t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1),e.setBlendMode(t.blendMode);for(var a=0;a<t.graphicsData.length;a++){var u=t.graphicsData[a],l=u.shape,h=u._fillTint,c=u._lineTint;if(r.lineWidth=u.lineWidth,u.type===o.SHAPES.POLY){r.beginPath(),this.renderPolygon(l.points,l.closed,r);for(var f=0;f<u.holes.length;f++)this.renderPolygon(u.holes[f].points,!0,r);u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(u.type===o.SHAPES.RECT)(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.fillRect(l.x,l.y,l.width,l.height)),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.strokeRect(l.x,l.y,l.width,l.height));else if(u.type===o.SHAPES.CIRC)r.beginPath(),r.arc(l.x,l.y,l.radius,0,2*Math.PI),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke());else if(u.type===o.SHAPES.ELIP){var p=2*l.width,d=2*l.height,g=l.x-p/2,v=l.y-d/2;r.beginPath();var m=.5522848,y=p/2*m,x=d/2*m,b=g+p,_=v+d,w=g+p/2,T=v+d/2;r.moveTo(g,T),r.bezierCurveTo(g,T-x,w-y,v,w,v),r.bezierCurveTo(w+y,v,b,T-x,b,T),r.bezierCurveTo(b,T+x,w+y,_,w,_),r.bezierCurveTo(w-y,_,g,T+x,g,T),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(u.type===o.SHAPES.RREC){var E=l.x,S=l.y,A=l.width,C=l.height,M=l.radius,R=Math.min(A,C)/2|0;M=M>R?R:M,r.beginPath(),r.moveTo(E,S+M),r.lineTo(E,S+C-M),r.quadraticCurveTo(E,S+C,E+M,S+C),r.lineTo(E+A-M,S+C),r.quadraticCurveTo(E+A,S+C,E+A,S+C-M),r.lineTo(E+A,S+M),r.quadraticCurveTo(E+A,S,E+A-M,S),r.lineTo(E+M,S),r.quadraticCurveTo(E,S,E,S+M),r.closePath(),(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,n=(255&t.tint)/255,i=0;i<t.graphicsData.length;++i){var o=t.graphicsData[i],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*r*255<<8)+(255&s)/255*n*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*n*255}},t.prototype.renderPolygon=function(t,e,r){r.moveTo(t[0],t[1]);for(var n=1;n<t.length/2;++n)r.lineTo(t[2*n],t[2*n+1]);e&&r.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();r.default=s,i.default.registerPlugin("graphics",s)},{"../../const":44,"../../renderers/canvas/CanvasRenderer":75}],54:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t,e,r,n,i,o,s,a){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],l=0,h=0,c=0,f=0,p=0;u.push(t,e);for(var d=1,g=0;d<=20;++d)c=(h=(l=1-(g=d/20))*l)*l,p=(f=g*g)*g,u.push(c*t+3*h*g*r+3*l*f*i+p*s,c*e+3*h*g*n+3*l*f*o+p*a);return u}},{}],55:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("../../utils"),o=t("../../const"),s=t("../../renderers/webgl/utils/ObjectRenderer"),a=n(s),u=t("../../renderers/webgl/WebGLRenderer"),l=n(u),h=t("./WebGLGraphicsData"),c=n(h),f=t("./shaders/PrimitiveShader"),p=n(f),d=t("./utils/buildPoly"),g=n(d),v=t("./utils/buildRectangle"),m=n(v),y=t("./utils/buildRoundedRectangle"),x=n(y),b=t("./utils/buildCircle"),_=n(b),w=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.graphicsDataPool=[],n.primitiveShader=null,n.gl=r.gl,n.CONTEXT_UID=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new p.default(this.gl)},e.prototype.destroy=function(){a.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e=this.renderer,r=e.gl,n=void 0,o=t._webGL[this.CONTEXT_UID];o&&t.dirty===o.dirty||(this.updateGraphics(t),o=t._webGL[this.CONTEXT_UID]);var s=this.primitiveShader;e.bindShader(s),e.state.setBlendMode(t.blendMode);for(var a=0,u=o.data.length;a<u;a++){var l=(n=o.data[a]).shader;e.bindShader(l),l.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),l.uniforms.tint=(0,i.hex2rgb)(t.tint),l.uniforms.alpha=t.worldAlpha,e.bindVao(n.vao),t.nativeLines?r.drawArrays(r.LINES,0,n.points.length/6):n.vao.draw(r.TRIANGLE_STRIP,n.indices.length)}},e.prototype.updateGraphics=function(t){var e=this.renderer.gl,r=t._webGL[this.CONTEXT_UID];if(r||(r=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),r.dirty=t.dirty,t.clearDirty!==r.clearDirty){r.clearDirty=t.clearDirty;for(var n=0;n<r.data.length;n++)this.graphicsDataPool.push(r.data[n]);r.data.length=0,r.lastIndex=0}for(var i=void 0,s=r.lastIndex;s<t.graphicsData.length;s++){var a=t.graphicsData[s];i=this.getWebGLData(r,0),a.type===o.SHAPES.POLY&&(0,g.default)(a,i),a.type===o.SHAPES.RECT?(0,m.default)(a,i):a.type===o.SHAPES.CIRC||a.type===o.SHAPES.ELIP?(0,_.default)(a,i):a.type===o.SHAPES.RREC&&(0,x.default)(a,i),r.lastIndex++}this.renderer.bindVao(null);for(var u=0;u<r.data.length;u++)(i=r.data[u]).dirty&&i.upload()},e.prototype.getWebGLData=function(t,e){var r=t.data[t.data.length-1];return(!r||r.points.length>32e4)&&((r=this.graphicsDataPool.pop()||new c.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).reset(e),t.data.push(r)),r.dirty=!0,r},e}(a.default);r.default=w,l.default.registerPlugin("graphics",w)},{"../../const":44,"../../renderers/webgl/WebGLRenderer":82,"../../renderers/webgl/utils/ObjectRenderer":92,"../../utils":120,"./WebGLGraphicsData":56,"./shaders/PrimitiveShader":57,"./utils/buildCircle":58,"./utils/buildPoly":60,"./utils/buildRectangle":61,"./utils/buildRoundedRectangle":62}],56:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("pixi-gl-core"),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=function(){function t(e,r,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=i.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=i.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.glPoints=null,this.glIndices=null,this.shader=r,this.vao=new i.default.VertexArrayObject(e,n).addIndex(this.indexBuffer).addAttribute(this.buffer,r.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,r.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();r.default=o},{"pixi-gl-core":12}],57:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../../../Shader"),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=function(t){function e(r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.default);r.default=o},{"../../../Shader":42}],58:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t,e){var r=t.shape,n=r.x,a=r.y,u=void 0,l=void 0;if(t.type===o.SHAPES.CIRC?(u=r.radius,l=r.radius):(u=r.width,l=r.height),0!==u&&0!==l){var h=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(r.width+r.height)),c=2*Math.PI/h;if(t.fill){var f=(0,s.hex2rgb)(t.fillColor),p=t.fillAlpha,d=f[0]*p,g=f[1]*p,v=f[2]*p,m=e.points,y=e.indices,x=m.length/6;y.push(x);for(var b=0;b<h+1;b++)m.push(n,a,d,g,v,p),m.push(n+Math.sin(c*b)*u,a+Math.cos(c*b)*l,d,g,v,p),y.push(x++,x++);y.push(x-1)}if(t.lineWidth){var _=t.points;t.points=[];for(var w=0;w<h+1;w++)t.points.push(n+Math.sin(c*w)*u,a+Math.cos(c*w)*l);(0,i.default)(t,e),t.points=_}}};var n=t("./buildLine"),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=t("../../../const"),s=t("../../../utils")},{"../../../const":44,"../../../utils":120,"./buildLine":59}],59:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t,e){t.nativeLines?function(t,e){var r=0,n=t.points;if(0!==n.length){var o=e.points,s=n.length/2,a=(0,i.hex2rgb)(t.lineColor),u=t.lineAlpha,l=a[0]*u,h=a[1]*u,c=a[2]*u;for(r=1;r<s;r++){var f=n[2*(r-1)],p=n[2*(r-1)+1],d=n[2*r],g=n[2*r+1];o.push(f,p),o.push(l,h,c,u),o.push(d,g),o.push(l,h,c,u)}}}(t,e):function(t,e){var r=t.points;if(0!==r.length){var o=new n.Point(r[0],r[1]),s=new n.Point(r[r.length-2],r[r.length-1]);if(o.x===s.x&&o.y===s.y){(r=r.slice()).pop(),r.pop();var a=(s=new n.Point(r[r.length-2],r[r.length-1])).x+.5*(o.x-s.x),u=s.y+.5*(o.y-s.y);r.unshift(a,u),r.push(a,u)}var l=e.points,h=e.indices,c=r.length/2,f=r.length,p=l.length/6,d=t.lineWidth/2,g=(0,i.hex2rgb)(t.lineColor),v=t.lineAlpha,m=g[0]*v,y=g[1]*v,x=g[2]*v,b=r[0],_=r[1],w=r[2],T=r[3],E=0,S=0,A=-(_-T),C=b-w,M=0,R=0,O=0,P=0,D=Math.sqrt(A*A+C*C);A/=D,C/=D,A*=d,C*=d,l.push(b-A,_-C,m,y,x,v),l.push(b+A,_+C,m,y,x,v);for(var I=1;I<c-1;++I){b=r[2*(I-1)],_=r[2*(I-1)+1],w=r[2*I],T=r[2*I+1],E=r[2*(I+1)],S=r[2*(I+1)+1],A=-(_-T),C=b-w,D=Math.sqrt(A*A+C*C),A/=D,C/=D,A*=d,C*=d,M=-(T-S),R=w-E,D=Math.sqrt(M*M+R*R),M/=D,R/=D;var L=-C+_-(-C+T),F=-A+w-(-A+b),k=(-A+b)*(-C+T)-(-A+w)*(-C+_),B=-(R*=d)+S-(-R+T),N=-(M*=d)+w-(-M+E),U=(-M+E)*(-R+T)-(-M+w)*(-R+S),$=L*N-B*F;if(Math.abs($)<.1)$+=10.1,l.push(w-A,T-C,m,y,x,v),l.push(w+A,T+C,m,y,x,v);else{var j=(F*U-N*k)/$,G=(B*k-L*U)/$,W=(j-w)*(j-w)+(G-T)*(G-T);W>196*d*d?(O=A-M,P=C-R,D=Math.sqrt(O*O+P*P),O/=D,P/=D,O*=d,P*=d,l.push(w-O,T-P),l.push(m,y,x,v),l.push(w+O,T+P),l.push(m,y,x,v),l.push(w-O,T-P),l.push(m,y,x,v),f++):(l.push(j,G),l.push(m,y,x,v),l.push(w-(j-w),T-(G-T)),l.push(m,y,x,v))}}b=r[2*(c-2)],_=r[2*(c-2)+1],w=r[2*(c-1)],T=r[2*(c-1)+1],A=-(_-T),C=b-w,D=Math.sqrt(A*A+C*C),A/=D,C/=D,A*=d,C*=d,l.push(w-A,T-C),l.push(m,y,x,v),l.push(w+A,T+C),l.push(m,y,x,v),h.push(p);for(var V=0;V<f;++V)h.push(p++);h.push(p-1)}}(t,e)};var n=t("../../../math"),i=t("../../../utils")},{"../../../math":68,"../../../utils":120}],60:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0,r.default=function(t,e){t.points=t.shape.points.slice();var r=t.points;if(t.fill&&r.length>=6){for(var n=[],i=t.holes,a=0;a<i.length;a++){var l=i[a];n.push(r.length/2),r=r.concat(l.points)}var h=e.points,c=e.indices,f=r.length/2,p=(0,s.hex2rgb)(t.fillColor),d=t.fillAlpha,g=p[0]*d,v=p[1]*d,m=p[2]*d,y=(0,u.default)(r,n,2);if(!y)return;for(var x=h.length/6,b=0;b<y.length;b+=3)c.push(y[b]+x),c.push(y[b]+x),c.push(y[b+1]+x),c.push(y[b+2]+x),c.push(y[b+2]+x);for(var _=0;_<f;_++)h.push(r[2*_],r[2*_+1],g,v,m,d)}t.lineWidth>0&&(0,o.default)(t,e)};var i=t("./buildLine"),o=n(i),s=t("../../../utils"),a=t("earcut"),u=n(a)},{"../../../utils":120,"./buildLine":59,earcut:2}],61:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t,e){var r=t.shape,n=r.x,s=r.y,a=r.width,u=r.height;if(t.fill){var l=(0,o.hex2rgb)(t.fillColor),h=t.fillAlpha,c=l[0]*h,f=l[1]*h,p=l[2]*h,d=e.points,g=e.indices,v=d.length/6;d.push(n,s),d.push(c,f,p,h),d.push(n+a,s),d.push(c,f,p,h),d.push(n,s+u),d.push(c,f,p,h),d.push(n+a,s+u),d.push(c,f,p,h),g.push(v,v,v+1,v+2,v+3,v+3)}if(t.lineWidth){var m=t.points;t.points=[n,s,n+a,s,n+a,s+u,n,s+u,n,s],(0,i.default)(t,e),t.points=m}};var n=t("./buildLine"),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=t("../../../utils")},{"../../../utils":120,"./buildLine":59}],62:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e,r){var n=e-t;return t+n*r}function o(t,e,r,n,o,s){for(var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=a,l=0,h=0,c=0,f=0,p=0,d=0,g=0,v=0;g<=20;++g)l=i(t,r,v=g/20),h=i(e,n,v),c=i(r,o,v),f=i(n,s,v),p=i(l,c,v),d=i(h,f,v),u.push(p,d);return u}r.__esModule=!0,r.default=function(t,e){var r=t.shape,n=r.x,i=r.y,s=r.width,u=r.height,c=r.radius,f=[];if(f.push(n,i+c),o(n,i+u-c,n,i+u,n+c,i+u,f),o(n+s-c,i+u,n+s,i+u,n+s,i+u-c,f),o(n+s,i+c,n+s,i,n+s-c,i,f),o(n+c,i,n,i,n,i+c+1e-10,f),t.fill){for(var p=(0,h.hex2rgb)(t.fillColor),d=t.fillAlpha,g=p[0]*d,v=p[1]*d,m=p[2]*d,y=e.points,x=e.indices,b=y.length/6,_=(0,a.default)(f,null,2),w=0,T=_.length;w<T;w+=3)x.push(_[w]+b),x.push(_[w]+b),x.push(_[w+1]+b),x.push(_[w+2]+b),x.push(_[w+2]+b);for(var E=0,S=f.length;E<S;E++)y.push(f[E],f[++E],g,v,m,d)}if(t.lineWidth){var A=t.points;t.points=f,(0,l.default)(t,e),t.points=A}};var s=t("earcut"),a=n(s),u=t("./buildLine"),l=n(u),h=t("../../../utils")},{"../../../utils":120,"./buildLine":59,earcut:2}],63:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0,r.autoDetectRenderer=r.Application=r.Filter=r.SpriteMaskFilter=r.Quad=r.RenderTarget=r.ObjectRenderer=r.WebGLManager=r.Shader=r.CanvasRenderTarget=r.TextureUvs=r.VideoBaseTexture=r.BaseRenderTexture=r.RenderTexture=r.BaseTexture=r.Texture=r.Spritesheet=r.CanvasGraphicsRenderer=r.GraphicsRenderer=r.GraphicsData=r.Graphics=r.TextStyle=r.Text=r.SpriteRenderer=r.CanvasTinter=r.CanvasSpriteRenderer=r.Sprite=r.TransformBase=r.TransformStatic=r.Transform=r.Container=r.DisplayObject=r.Bounds=r.glCore=r.WebGLRenderer=r.CanvasRenderer=r.ticker=r.utils=r.settings=void 0;var o=t("./const");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(r,t,{enumerable:!0,get:function(){return o[t]}})});var s=t("./math");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(r,t,{enumerable:!0,get:function(){return s[t]}})});var a=t("pixi-gl-core");Object.defineProperty(r,"glCore",{enumerable:!0,get:function(){return i(a).default}});var u=t("./display/Bounds");Object.defineProperty(r,"Bounds",{enumerable:!0,get:function(){return i(u).default}});var l=t("./display/DisplayObject");Object.defineProperty(r,"DisplayObject",{enumerable:!0,get:function(){return i(l).default}});var h=t("./display/Container");Object.defineProperty(r,"Container",{enumerable:!0,get:function(){return i(h).default}});var c=t("./display/Transform");Object.defineProperty(r,"Transform",{enumerable:!0,get:function(){return i(c).default}});var f=t("./display/TransformStatic");Object.defineProperty(r,"TransformStatic",{enumerable:!0,get:function(){return i(f).default}});var p=t("./display/TransformBase");Object.defineProperty(r,"TransformBase",{enumerable:!0,get:function(){return i(p).default}});var d=t("./sprites/Sprite");Object.defineProperty(r,"Sprite",{enumerable:!0,get:function(){return i(d).default}});var g=t("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(r,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return i(g).default}});var v=t("./sprites/canvas/CanvasTinter");Object.defineProperty(r,"CanvasTinter",{enumerable:!0,get:function(){return i(v).default}});var m=t("./sprites/webgl/SpriteRenderer");Object.defineProperty(r,"SpriteRenderer",{enumerable:!0,get:function(){return i(m).default}});var y=t("./text/Text");Object.defineProperty(r,"Text",{enumerable:!0,get:function(){return i(y).default}});var x=t("./text/TextStyle");Object.defineProperty(r,"TextStyle",{enumerable:!0,get:function(){return i(x).default}});var b=t("./graphics/Graphics");Object.defineProperty(r,"Graphics",{enumerable:!0,get:function(){return i(b).default}});var _=t("./graphics/GraphicsData");Object.defineProperty(r,"GraphicsData",{enumerable:!0,get:function(){return i(_).default}});var w=t("./graphics/webgl/GraphicsRenderer");Object.defineProperty(r,"GraphicsRenderer",{enumerable:!0,get:function(){return i(w).default}});var T=t("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(r,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return i(T).default}});var E=t("./textures/Spritesheet");Object.defineProperty(r,"Spritesheet",{enumerable:!0,get:function(){return i(E).default}});var S=t("./textures/Texture");Object.defineProperty(r,"Texture",{enumerable:!0,get:function(){return i(S).default}});var A=t("./textures/BaseTexture");Object.defineProperty(r,"BaseTexture",{enumerable:!0,get:function(){return i(A).default}});var C=t("./textures/RenderTexture");Object.defineProperty(r,"RenderTexture",{enumerable:!0,get:function(){return i(C).default}});var M=t("./textures/BaseRenderTexture");Object.defineProperty(r,"BaseRenderTexture",{enumerable:!0,get:function(){return i(M).default}});var R=t("./textures/VideoBaseTexture");Object.defineProperty(r,"VideoBaseTexture",{enumerable:!0,get:function(){return i(R).default}});var O=t("./textures/TextureUvs");Object.defineProperty(r,"TextureUvs",{enumerable:!0,get:function(){return i(O).default}});var P=t("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(r,"CanvasRenderTarget",{enumerable:!0,get:function(){return i(P).default}});var D=t("./Shader");Object.defineProperty(r,"Shader",{enumerable:!0,get:function(){return i(D).default}});var I=t("./renderers/webgl/managers/WebGLManager");Object.defineProperty(r,"WebGLManager",{enumerable:!0,get:function(){return i(I).default}});var L=t("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(r,"ObjectRenderer",{enumerable:!0,get:function(){return i(L).default}});var F=t("./renderers/webgl/utils/RenderTarget");Object.defineProperty(r,"RenderTarget",{enumerable:!0,get:function(){return i(F).default}});var k=t("./renderers/webgl/utils/Quad");Object.defineProperty(r,"Quad",{enumerable:!0,get:function(){return i(k).default}});var B=t("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(r,"SpriteMaskFilter",{enumerable:!0,get:function(){return i(B).default}});var N=t("./renderers/webgl/filters/Filter");Object.defineProperty(r,"Filter",{enumerable:!0,get:function(){return i(N).default}});var U=t("./Application");Object.defineProperty(r,"Application",{enumerable:!0,get:function(){return i(U).default}});var $=t("./autoDetectRenderer");Object.defineProperty(r,"autoDetectRenderer",{enumerable:!0,get:function(){return $.autoDetectRenderer}});var j=t("./utils"),G=n(j),W=t("./ticker"),V=n(W),X=t("./settings"),z=i(X),Y=t("./renderers/canvas/CanvasRenderer"),H=i(Y),q=t("./renderers/webgl/WebGLRenderer"),Z=i(q);r.settings=z.default,r.utils=G,r.ticker=V,r.CanvasRenderer=H.default,r.WebGLRenderer=Z.default},{"./Application":41,"./Shader":42,"./autoDetectRenderer":43,"./const":44,"./display/Bounds":45,"./display/Container":46,"./display/DisplayObject":47,"./display/Transform":48,"./display/TransformBase":49,"./display/TransformStatic":50,"./graphics/Graphics":51,"./graphics/GraphicsData":52,"./graphics/canvas/CanvasGraphicsRenderer":53,"./graphics/webgl/GraphicsRenderer":55,"./math":68,"./renderers/canvas/CanvasRenderer":75,"./renderers/canvas/utils/CanvasRenderTarget":77,"./renderers/webgl/WebGLRenderer":82,"./renderers/webgl/filters/Filter":84,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":87,"./renderers/webgl/managers/WebGLManager":91,"./renderers/webgl/utils/ObjectRenderer":92,"./renderers/webgl/utils/Quad":93,"./renderers/webgl/utils/RenderTarget":94,"./settings":99,"./sprites/Sprite":100,"./sprites/canvas/CanvasSpriteRenderer":101,"./sprites/canvas/CanvasTinter":102,"./sprites/webgl/SpriteRenderer":104,"./text/Text":106,"./text/TextStyle":107,"./textures/BaseRenderTexture":108,"./textures/BaseTexture":109,"./textures/RenderTexture":110,"./textures/Spritesheet":111,"./textures/Texture":112,"./textures/TextureUvs":113,"./textures/VideoBaseTexture":114,"./ticker":116,"./utils":120,"pixi-gl-core":12}],64:[function(t,e,r){"use strict";function n(t){return t<0?-1:t>0?1:0}r.__esModule=!0;var i=t("./Matrix"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],a=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],u=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],l=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],h=[],c=[];!function(){for(var t=0;t<16;t++){var e=[];c.push(e);for(var r=0;r<16;r++)for(var i=n(s[t]*s[r]+u[t]*a[r]),f=n(a[t]*s[r]+l[t]*a[r]),p=n(s[t]*u[r]+u[t]*l[r]),d=n(a[t]*u[r]+l[t]*l[r]),g=0;g<16;g++)if(s[g]===i&&a[g]===f&&u[g]===p&&l[g]===d){e.push(g);break}}for(var v=0;v<16;v++){var m=new o.default;m.set(s[v],a[v],u[v],l[v],0,0),h.push(m)}}();var f={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return s[t]},uY:function(t){return a[t]},vX:function(t){return u[t]},vY:function(t){return l[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return c[t][e]},sub:function(t,e){return c[t][f.inv(e)]},rotate180:function(t){return 4^t},isSwapWidthHeight:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?f.S:f.N:2*Math.abs(e)<=Math.abs(t)?t>0?f.E:f.W:e>0?t>0?f.SE:f.SW:t>0?f.NE:f.NW},matrixAppendRotationInv:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=h[f.inv(e)];i.tx=r,i.ty=n,t.append(i)}};r.default=f},{"./Matrix":65}],65:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("./Point"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.a=e,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=s,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new o.default;var r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new o.default;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,i=t.y;return e.x=this.d*r*n+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*i+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),n=this.a,i=this.c,o=this.tx;return this.a=n*e-this.b*r,this.b=n*r+this.b*e,this.c=i*e-this.d*r,this.d=i*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,r,n,i,o,s,a,u){var l=Math.sin(s),h=Math.cos(s),c=Math.cos(u),f=Math.sin(u),p=-Math.sin(a),d=Math.cos(a),g=h*i,v=l*i,m=-l*o,y=h*o;return this.a=c*g+f*m,this.b=c*v+f*y,this.c=p*g+d*m,this.d=p*v+d*y,this.tx=t+(r*g+n*m),this.ty=e+(r*v+n*y),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,n=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,n=this.c,i=this.d,o=-Math.atan2(-n,i),s=Math.atan2(r,e),a=Math.abs(o+s);return a<1e-5?(t.rotation=s,e<0&&i>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+i*i),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,o=t*n-e*r;return this.a=n/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n(t,null,[{key:"IDENTITY",get:function(){return new t}},{key:"TEMP_MATRIX",get:function(){return new t}}]),t}();r.default=s},{"./Point":67}],66:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.set=function(t,e){var r=t||0,n=e||(0!==e?r:0);this._x===r&&this._y===n||(this._x=r,this._y=n,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},n(t,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();r.default=i},{}],67:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();r.default=n},{}],68:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./Point");Object.defineProperty(r,"Point",{enumerable:!0,get:function(){return n(i).default}});var o=t("./ObservablePoint");Object.defineProperty(r,"ObservablePoint",{enumerable:!0,get:function(){return n(o).default}});var s=t("./Matrix");Object.defineProperty(r,"Matrix",{enumerable:!0,get:function(){return n(s).default}});var a=t("./GroupD8");Object.defineProperty(r,"GroupD8",{enumerable:!0,get:function(){return n(a).default}});var u=t("./shapes/Circle");Object.defineProperty(r,"Circle",{enumerable:!0,get:function(){return n(u).default}});var l=t("./shapes/Ellipse");Object.defineProperty(r,"Ellipse",{enumerable:!0,get:function(){return n(l).default}});var h=t("./shapes/Polygon");Object.defineProperty(r,"Polygon",{enumerable:!0,get:function(){return n(h).default}});var c=t("./shapes/Rectangle");Object.defineProperty(r,"Rectangle",{enumerable:!0,get:function(){return n(c).default}});var f=t("./shapes/RoundedRectangle");Object.defineProperty(r,"RoundedRectangle",{enumerable:!0,get:function(){return n(f).default}})},{"./GroupD8":64,"./Matrix":65,"./ObservablePoint":66,"./Point":67,"./shapes/Circle":69,"./shapes/Ellipse":70,"./shapes/Polygon":71,"./shapes/Rectangle":72,"./shapes/RoundedRectangle":73}],69:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./Rectangle"),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=t("../../const"),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.x=e,this.y=r,this.radius=n,this.type=o.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-t,i=this.y-e;return(n*=n)+(i*=i)<=r},t.prototype.getBounds=function(){return new i.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();r.default=s},{"../../const":44,"./Rectangle":72}],70:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./Rectangle"),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=t("../../const"),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.x=e,this.y=r,this.width=n,this.height=i,this.type=o.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,n=(e-this.y)/this.height;return(r*=r)+(n*=n)<=1},t.prototype.getBounds=function(){return new i.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();r.default=s},{"../../const":44,"./Rectangle":72}],71:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../Point"),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=t("../../const"),s=function(){function t(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Array.isArray(r[0])&&(r=r[0]),r[0]instanceof i.default){for(var s=[],a=0,u=r.length;a<u;a++)s.push(r[a].x,r[a].y);r=s}this.closed=!0,this.points=r,this.type=o.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){for(var r=!1,n=this.points.length/2,i=0,o=n-1;i<n;o=i++){var s=this.points[2*i],a=this.points[2*i+1],u=this.points[2*o],l=this.points[2*o+1],h=a>e!=l>e&&t<(e-a)/(l-a)*(u-s)+s;h&&(r=!r)}return r},t}();r.default=s},{"../../const":44,"../Point":67}],72:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("../../const"),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.x=e,this.y=r,this.width=n,this.height=o,this.type=i.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){this.x<t.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=t.x),this.y<t.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=t.y),this.x+this.width>t.x+t.width&&(this.width=t.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>t.y+t.height&&(this.height=t.height-this.y,this.height<0&&(this.height=0))},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=r-e,this.y=n,this.height=i-n},n(t,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new t(0,0,0,0)}}]),t}();r.default=o},{"../../const":44}],73:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../../const"),i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.x=e,this.y=r,this.width=i,this.height=o,this.radius=s,this.type=n.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),n=e-(this.y+this.radius),i=this.radius*this.radius;if(r*r+n*n<=i)return!0;if((r=t-(this.x+this.width-this.radius))*r+n*n<=i)return!0;if(n=e-(this.y+this.height-this.radius),r*r+n*n<=i)return!0;if((r=t-(this.x+this.radius))*r+n*n<=i)return!0}return!1},t}();r.default=i},{"../../const":44}],74:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("../utils"),s=t("../math"),a=t("../const"),u=t("../settings"),l=n(u),h=t("../display/Container"),c=n(h),f=t("../textures/RenderTexture"),p=n(f),d=t("eventemitter3"),g=n(d),v=new s.Matrix,m=function(t){function e(r,n,i,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));if((0,o.sayHello)(r),u)for(var f in l.default.RENDER_OPTIONS)void 0===u[f]&&(u[f]=l.default.RENDER_OPTIONS[f]);else u=l.default.RENDER_OPTIONS;return h.type=a.RENDERER_TYPE.UNKNOWN,h.screen=new s.Rectangle(0,0,n||800,i||600),h.view=u.view||document.createElement("canvas"),h.resolution=u.resolution||l.default.RESOLUTION,h.transparent=u.transparent,h.autoResize=u.autoResize||!1,h.blendModes=null,h.preserveDrawingBuffer=u.preserveDrawingBuffer,h.clearBeforeRender=u.clearBeforeRender,h.roundPixels=u.roundPixels,h._backgroundColor=0,h._backgroundColorRgba=[0,0,0,0],h._backgroundColorString="#000000",h.backgroundColor=u.backgroundColor||h._backgroundColor,h._tempDisplayObjectParent=new c.default,h._lastObjectRendered=h._tempDisplayObjectParent,h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,r){var n=t.getLocalBounds(),i=p.default.create(0|n.width,0|n.height,e,r);return v.tx=-n.x,v.ty=-n.y,this.render(t,i,!1,v,!0),i},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=a.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this.backgroundColor=0,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},i(e,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,o.hex2string)(t),(0,o.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(g.default);r.default=m},{"../const":44,"../display/Container":46,"../math":68,"../settings":99,"../textures/RenderTexture":110,"../utils":120,eventemitter3:3}],75:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("../SystemRenderer"),o=n(i),s=t("./utils/CanvasMaskManager"),a=n(s),u=t("./utils/CanvasRenderTarget"),l=n(u),h=t("./utils/mapCanvasBlendModesToPixi"),c=n(h),f=t("../../utils"),p=t("../../const"),d=t("../../settings"),g=n(d),v=function(t){function e(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"Canvas",r,n,i));return o.type=p.RENDERER_TYPE.CANVAS,o.rootContext=o.view.getContext("2d",{alpha:o.transparent}),o.refresh=!0,o.maskManager=new a.default(o),o.smoothProperty="imageSmoothingEnabled",o.rootContext.imageSmoothingEnabled||(o.rootContext.webkitImageSmoothingEnabled?o.smoothProperty="webkitImageSmoothingEnabled":o.rootContext.mozImageSmoothingEnabled?o.smoothProperty="mozImageSmoothingEnabled":o.rootContext.oImageSmoothingEnabled?o.smoothProperty="oImageSmoothingEnabled":o.rootContext.msImageSmoothingEnabled&&(o.smoothProperty="msImageSmoothingEnabled")),o.initPlugins(),o.blendModes=(0,c.default)(),o._activeBlendMode=null,o.context=null,o.renderingToScreen=!1,o.resize(r,n),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(t,e,r,n,i){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var o=this.resolution;e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new l.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var s=this.context;if(e||(this._lastObjectRendered=t),!i){var a=t.parent,u=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copy(u),this._tempDisplayObjectParent.transform._worldID=-1):u.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=a}s.setTransform(1,0,0,1,0,0),s.globalAlpha=1,s.globalCompositeOperation=this.blendModes[p.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(s.fillStyle="black",s.clear()),(void 0!==r?r:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?s.clearRect(0,0,this.width,this.height):(s.fillStyle=this._backgroundColorString,s.fillRect(0,0,this.width,this.height)));var h=this.context;this.context=s,t.renderCanvas(this),this.context=h,this.resolution=o,this.emit("postrender")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.smoothProperty&&(this.rootContext[this.smoothProperty]=g.default.SCALE_MODE===p.SCALE_MODES.LINEAR)},e}(o.default);r.default=v,f.pluginTarget.mixin(v)},{"../../const":44,"../../settings":99,"../../utils":120,"../SystemRenderer":74,"./utils/CanvasMaskManager":76,"./utils/CanvasRenderTarget":77,"./utils/mapCanvasBlendModesToPixi":79}],76:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../../../const"),i=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var r=t.alpha,n=t.transform.worldTransform,i=e.resolution;e.context.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=r},t.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,r=t.graphicsData.length;if(0!==r){e.beginPath();for(var i=0;i<r;i++){var o=t.graphicsData[i],s=o.shape;if(o.type===n.SHAPES.POLY){var a=s.points;e.moveTo(a[0],a[1]);for(var u=1;u<a.length/2;u++)e.lineTo(a[2*u],a[2*u+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===n.SHAPES.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===n.SHAPES.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===n.SHAPES.ELIP){var l=2*s.width,h=2*s.height,c=s.x-l/2,f=s.y-h/2,p=.5522848,d=l/2*p,g=h/2*p,v=c+l,m=f+h,y=c+l/2,x=f+h/2;e.moveTo(c,x),e.bezierCurveTo(c,x-g,y-d,f,y,f),e.bezierCurveTo(y+d,f,v,x-g,v,x),e.bezierCurveTo(v,x+g,y+d,m,y,m),e.bezierCurveTo(y-d,m,c,x+g,c,x),e.closePath()}else if(o.type===n.SHAPES.RREC){var b=s.x,_=s.y,w=s.width,T=s.height,E=s.radius,S=Math.min(w,T)/2|0;E=E>S?S:E,e.moveTo(b,_+E),e.lineTo(b,_+T-E),e.quadraticCurveTo(b,_+T,b+E,_+T),e.lineTo(b+w-E,_+T),e.quadraticCurveTo(b+w,_+T,b+w,_+T-E),e.lineTo(b+w,_+E),e.quadraticCurveTo(b+w,_,b+w-E,_),e.lineTo(b+E,_),e.quadraticCurveTo(b,_,b,_+E),e.closePath()}}}},t.prototype.popMask=function(t){t.context.restore()},t.prototype.destroy=function(){},t}();r.default=i},{"../../../const":44}],77:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("../../../settings"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=function(){function t(e,r,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||o.default.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},n(t,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();r.default=s},{"../../../settings":99}],78:[function(t,e,r){"use strict";function n(t){var e=document.createElement("canvas");e.width=6,e.height=1;var r=e.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,6,1),e}r.__esModule=!0,r.default=function(){if("undefined"==typeof document)return!1;var t=n("#ff00ff"),e=n("#ffff00"),r=document.createElement("canvas");r.width=6,r.height=1;var i=r.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(t,0,0),i.drawImage(e,2,0);var o=i.getImageData(2,0,1,1);if(!o)return!1;var s=o.data;return 255===s[0]&&0===s[1]&&0===s[2]}},{}],79:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,o.default)()?(t[n.BLEND_MODES.NORMAL]="source-over",t[n.BLEND_MODES.ADD]="lighter",t[n.BLEND_MODES.MULTIPLY]="multiply",t[n.BLEND_MODES.SCREEN]="screen",t[n.BLEND_MODES.OVERLAY]="overlay",t[n.BLEND_MODES.DARKEN]="darken",t[n.BLEND_MODES.LIGHTEN]="lighten",t[n.BLEND_MODES.COLOR_DODGE]="color-dodge",t[n.BLEND_MODES.COLOR_BURN]="color-burn",t[n.BLEND_MODES.HARD_LIGHT]="hard-light",t[n.BLEND_MODES.SOFT_LIGHT]="soft-light",t[n.BLEND_MODES.DIFFERENCE]="difference",t[n.BLEND_MODES.EXCLUSION]="exclusion",t[n.BLEND_MODES.HUE]="hue",t[n.BLEND_MODES.SATURATION]="saturate",t[n.BLEND_MODES.COLOR]="color",t[n.BLEND_MODES.LUMINOSITY]="luminosity"):(t[n.BLEND_MODES.NORMAL]="source-over",t[n.BLEND_MODES.ADD]="lighter",t[n.BLEND_MODES.MULTIPLY]="source-over",t[n.BLEND_MODES.SCREEN]="source-over",t[n.BLEND_MODES.OVERLAY]="source-over",t[n.BLEND_MODES.DARKEN]="source-over",t[n.BLEND_MODES.LIGHTEN]="source-over",t[n.BLEND_MODES.COLOR_DODGE]="source-over",t[n.BLEND_MODES.COLOR_BURN]="source-over",t[n.BLEND_MODES.HARD_LIGHT]="source-over",t[n.BLEND_MODES.SOFT_LIGHT]="source-over",t[n.BLEND_MODES.DIFFERENCE]="source-over",t[n.BLEND_MODES.EXCLUSION]="source-over",t[n.BLEND_MODES.HUE]="source-over",t[n.BLEND_MODES.SATURATION]="source-over",t[n.BLEND_MODES.COLOR]="source-over",t[n.BLEND_MODES.LUMINOSITY]="source-over"),t};var n=t("../../../const"),i=t("./canUseNewCanvasBlendModes"),o=function(t){return t&&t.__esModule?t:{default:t}}(i)},{"../../../const":44,"./canUseNewCanvasBlendModes":78}],80:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../../const"),i=t("../../settings"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=o.default.GC_MAX_IDLE,this.checkCountMax=o.default.GC_MAX_CHECK_COUNT,this.mode=o.default.GC_MODE}return t.prototype.update=function(){this.count++,this.mode!==n.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},t}();r.default=s},{"../../const":44,"../../settings":99}],81:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("pixi-gl-core"),i=t("../../const"),o=t("./utils/RenderTarget"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=t("../../utils"),u=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var r=this.gl,o=!!t._glRenderTargets;if(!t.hasLoaded)return null;var a=this.renderer.boundTextures;if(void 0===e){e=0;for(var u=0;u<a.length;++u)if(a[u]===t){e=u;break}}a[e]=t,r.activeTexture(r.TEXTURE0+e);var l=t._glTextures[this.renderer.CONTEXT_UID];if(l)o?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):l.upload(t.source);else{if(o){var h=new s.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);h.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=h,l=h.texture}else(l=new n.GLTexture(this.gl,null,null,null,null)).bind(e),l.premultiplyAlpha=!0,l.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=l,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&l.enableMipmap(),t.wrapMode===i.WRAP_MODES.CLAMP?l.enableWrapClamp():t.wrapMode===i.WRAP_MODES.REPEAT?l.enableWrapRepeat():l.enableWrapMirrorRepeat()):l.enableWrapClamp(),t.scaleMode===i.SCALE_MODES.NEAREST?l.enableNearestScaling():l.enableLinearScaling()}return l},t.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded&&t._glTextures[this.renderer.CONTEXT_UID]&&(this.renderer.unbindTexture(t),t._glTextures[this.renderer.CONTEXT_UID].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.renderer.CONTEXT_UID],!e)){var r=this._managedTextures.indexOf(t);-1!==r&&(0,a.removeItems)(this._managedTextures,r,1)}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},t}();r.default=u},{"../../const":44,"../../utils":120,"./utils/RenderTarget":94,"pixi-gl-core":12}],82:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("../SystemRenderer"),o=n(i),s=t("./managers/MaskManager"),a=n(s),u=t("./managers/StencilManager"),l=n(u),h=t("./managers/FilterManager"),c=n(h),f=t("./utils/RenderTarget"),p=n(f),d=t("./utils/ObjectRenderer"),g=n(d),v=t("./TextureManager"),m=n(v),y=t("../../textures/BaseTexture"),x=n(y),b=t("./TextureGarbageCollector"),_=n(b),w=t("./WebGLState"),T=n(w),E=t("./utils/mapWebGLDrawModesToPixi"),S=n(E),A=t("./utils/validateContext"),C=n(A),M=t("../../utils"),R=t("pixi-gl-core"),O=n(R),P=t("../../const"),D=0,I=function(t){function e(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"WebGL",r,n,i));return o.legacy=!!i.legacy,o.legacy&&(O.default.VertexArrayObject.FORCE_NATIVE=!0),o.type=P.RENDERER_TYPE.WEBGL,o.handleContextLost=o.handleContextLost.bind(o),o.handleContextRestored=o.handleContextRestored.bind(o),o.view.addEventListener("webglcontextlost",o.handleContextLost,!1),o.view.addEventListener("webglcontextrestored",o.handleContextRestored,!1),o._contextOptions={alpha:o.transparent,antialias:i.antialias,premultipliedAlpha:o.transparent&&"notMultiplied"!==o.transparent,stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer},o._backgroundColorRgba[3]=o.transparent?0:1,o.maskManager=new a.default(o),o.stencilManager=new l.default(o),o.emptyRenderer=new g.default(o),o.currentRenderer=o.emptyRenderer,o.initPlugins(),i.context&&(0,C.default)(i.context),o.gl=i.context||O.default.createContext(o.view,o._contextOptions),o.CONTEXT_UID=D++,o.state=new T.default(o.gl),o.renderingToScreen=!0,o.boundTextures=null,o._activeShader=null,o._activeVao=null,o._activeRenderTarget=null,o._initContext(),o.filterManager=new c.default(o),o.drawModes=(0,S.default)(o.gl),o._nextTextureLocation=0,o.setBlendMode(0),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this.textureManager=new m.default(this),this.textureGC=new _.default(this),this.state.resetToDefault(),this.rootRenderTarget=new p.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var r=new O.default.GLTexture.fromData(t,null,1,1),n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var i=0;i<e;i++){var o=new x.default;o._glTextures[this.CONTEXT_UID]=r,this.boundTextures[i]=n,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,r,n,i){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!i){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,n),this.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){o.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var r=t.baseTexture,n=r._glRenderTargets[this.CONTEXT_UID];return n&&n.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var r=void 0;if(t){var n=t.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),(r=n._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else r=this.rootRenderTarget;return r.transform=e,this.bindRenderTarget(r),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,r){if((t=(t=t||this.emptyTextures[e]).baseTexture||t).touched=this.textureGC.count,r)e=e||0;else{for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===t)return n;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===t&&(this.boundTextures[r]=this.emptyTextures[r],e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new O.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){return this.setObjectRenderer(this.emptyRenderer),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this._initContext(),this.textureManager.removeAll()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},e}(o.default);r.default=I,M.pluginTarget.mixin(I)},{"../../const":44,"../../textures/BaseTexture":109,"../../utils":120,"../SystemRenderer":74,"./TextureGarbageCollector":80,"./TextureManager":81,"./WebGLState":83,"./managers/FilterManager":88,"./managers/MaskManager":89,"./managers/StencilManager":90,"./utils/ObjectRenderer":92,"./utils/RenderTarget":94,"./utils/mapWebGLDrawModesToPixi":97,"./utils/validateContext":98,"pixi-gl-core":12}],83:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./utils/mapWebGLBlendModesToPixi"),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,i.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){t!==this.activeState[4]&&(this.activeState[4]=t,this.gl.blendFunc(this.blendModes[t][0],this.blendModes[t][1]))},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var r=1;r<this.maxAttribs;r++)this.gl.disableVertexAttribArray(r)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();r.default=o},{"./utils/mapWebGLBlendModesToPixi":96}],84:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("./extractUniformsFromSrc"),s=n(o),a=t("../../../utils"),u=t("../../../const"),l=t("../../../settings"),h=n(l),c={},f=function(){function t(e,r,n){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.blendMode=u.BLEND_MODES.NORMAL,this.uniformData=n||(0,s.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[i]=this.uniformData[i].value;this.glShaders={},c[this.vertexSrc+this.fragmentSrc]||(c[this.vertexSrc+this.fragmentSrc]=(0,a.uid)()),this.glShaderKey=c[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=h.default.RESOLUTION,this.enabled=!0}return t.prototype.apply=function(t,e,r,n,i){t.applyFilter(this,e,r,n)},i(t,null,[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),t}();r.default=f},{"../../../const":44,"../../../settings":99,"../../../utils":120,"./extractUniformsFromSrc":85}],85:[function(t,e,r){"use strict";function n(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),r={},n=void 0,i=t.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<i.length;o++){var a=i[o].trim();if(a.indexOf("uniform")>-1){var u=a.split(" "),l=u[1],h=u[2],c=1;h.indexOf("[")>-1&&(n=h.split(/\[|]/),h=n[0],c*=Number(n[1])),h.match(e)||(r[h]={value:s(l,c),name:h,type:l})}}return r}r.__esModule=!0,r.default=function(t,e,r){var i=n(t),o=n(e);return Object.assign(i,o)};var i=t("pixi-gl-core"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=o.default.shader.defaultValue},{"pixi-gl-core":12}],86:[function(t,e,r){"use strict";r.__esModule=!0,r.calculateScreenSpaceMatrix=function(t,e,r){var n=t.identity();return n.translate(e.x/r.width,e.y/r.height),n.scale(r.width,r.height),n},r.calculateNormalizedScreenSpaceMatrix=function(t,e,r){var n=t.identity();n.translate(e.x/r.width,e.y/r.height);var i=r.width/e.width,o=r.height/e.height;return n.scale(i,o),n},r.calculateSpriteMatrix=function(t,e,r,i){var o=i.worldTransform.copy(n.Matrix.TEMP_MATRIX),s=i._texture.baseTexture,a=t.identity(),u=r.height/r.width;a.translate(e.x/r.width,e.y/r.height),a.scale(1,u);var l=r.width/s.width,h=r.height/s.height;return o.tx/=s.width*l,o.ty/=s.width*l,o.invert(),a.prepend(o),a.scale(1,1/u),a.scale(l,h),a.translate(i.anchor.x,i.anchor.y),a};var n=t("../../../math")},{"../../../math":68}],87:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../Filter"),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=t("../../../../math"),s=(t("path"),function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new o.Matrix,i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return r.renderable=!1,i.maskSprite=r,i.maskMatrix=n,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){var n=this.maskSprite;this.uniforms.mask=n._texture,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n),this.uniforms.alpha=n.worldAlpha,t.applyFilter(this,e,r)},e}(i.default));r.default=s},{"../../../../math":68,"../Filter":84,path:22}],88:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("./WebGLManager"),s=n(o),a=t("../utils/RenderTarget"),u=n(a),l=t("../utils/Quad"),h=n(l),c=t("../../../math"),f=t("../../../Shader"),p=n(f),d=t("../filters/filterTransforms"),g=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(d),v=t("bit-twiddle"),m=n(v),y=function t(){i(this,t),this.renderTarget=null,this.sourceFrame=new c.Rectangle,this.destinationFrame=new c.Rectangle,this.filters=[],this.target=null,this.resolution=1},x=function(t){function e(r){i(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.gl=n.renderer.gl,n.quad=new h.default(n.gl,r.state.attribState),n.shaderCache={},n.pool={},n.filterData=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushFilter=function(t,e){var r=this.renderer,n=this.filterData;if(!n){n=this.renderer._activeRenderTarget.filterStack;var i=new y;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[i]},this.filterData=n}var o=n.stack[++n.index];o||(o=n.stack[n.index]=new y);var s=e[0].resolution,a=0|e[0].padding,u=t.filterArea||t.getBounds(!0),l=o.sourceFrame,h=o.destinationFrame;l.x=(u.x*s|0)/s,l.y=(u.y*s|0)/s,l.width=(u.width*s|0)/s,l.height=(u.height*s|0)/s,n.stack[0].renderTarget.transform||l.fit(n.stack[0].destinationFrame),l.pad(a),h.width=l.width,h.height=l.height;var c=this.getPotRenderTarget(r.gl,l.width,l.height,s);o.target=t,o.filters=e,o.resolution=s,o.renderTarget=c,c.setFrame(h,l),r.bindRenderTarget(c),c.clear()},e.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],r=t.stack[t.index];this.quad.map(r.renderTarget.size,r.sourceFrame).upload();var n=r.filters;if(1===n.length)n[0].apply(this,r.renderTarget,e.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{var i=r.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution);o.setFrame(r.destinationFrame,r.sourceFrame),o.clear();var s=0;for(s=0;s<n.length-1;++s){n[s].apply(this,i,o,!0,r);var a=i;i=o,o=a}n[s].apply(this,i,e.renderTarget,!1,r),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}t.index--,0===t.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,r,n){var i=this.renderer,o=i.gl,s=t.glShaders[i.CONTEXT_UID];s||(t.glShaderKey?(s=this.shaderCache[t.glShaderKey])||(s=new p.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=s):s=t.glShaders[i.CONTEXT_UID]=new p.default(this.gl,t.vertexSrc,t.fragmentSrc),i.bindVao(null),this.quad.initVao(s)),i.bindVao(this.quad.vao),i.bindRenderTarget(r),n&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),r===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(s);var a=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=a,this.syncUniforms(s,t),i.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var r=e.uniformData,n=e.uniforms,i=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var s=t.uniforms.filterArea;s[0]=o.renderTarget.size.width,s[1]=o.renderTarget.size.height,s[2]=o.sourceFrame.x,s[3]=o.sourceFrame.y,t.uniforms.filterArea=s}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var a=t.uniforms.filterClamp;a[0]=0,a[1]=0,a[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,a[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=a}for(var u in r)if("sampler2D"===r[u].type&&0!==n[u]){if(n[u].baseTexture)t.uniforms[u]=this.renderer.bindTexture(n[u].baseTexture,i);else{t.uniforms[u]=i;var l=this.renderer.gl;this.renderer.boundTextures[i]=this.renderer.emptyTextures[i],l.activeTexture(l.TEXTURE0+i),n[u].texture.bind()}i++}else if("mat3"===r[u].type)void 0!==n[u].a?t.uniforms[u]=n[u].toArray(!0):t.uniforms[u]=n[u];else if("vec2"===r[u].type)if(void 0!==n[u].x){var h=t.uniforms[u]||new Float32Array(2);h[0]=n[u].x,h[1]=n[u].y,t.uniforms[u]=h}else t.uniforms[u]=n[u];else"float"===r[u].type?t.uniforms.data[u].value!==r[u]&&(t.uniforms[u]=n[u]):t.uniforms[u]=n[u]},e.prototype.getRenderTarget=function(t,e){var r=this.filterData.stack[this.filterData.index],n=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,e||r.resolution);return n.setFrame(r.destinationFrame,r.sourceFrame),n},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return g.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return g.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.filterData.stack[this.filterData.index];return g.calculateSpriteMatrix(t,r.sourceFrame,r.renderTarget.size,e)},e.prototype.destroy=function(){this.shaderCache={},this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,r,n){e=m.default.nextPow2(e*n),r=m.default.nextPow2(r*n);var i=(65535&e)<<16|65535&r;this.pool[i]||(this.pool[i]=[]);var o=this.pool[i].pop();if(!o){var s=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),o=new u.default(t,e,r,null,1),t.bindTexture(t.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)}return o.resolution=n,o.defaultFrame.width=o.size.width=e/n,o.defaultFrame.height=o.size.height=r/n,o},e.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function(t){var e=t.size.width*t.resolution,r=t.size.height*t.resolution,n=(65535&e)<<16|65535&r;this.pool[n].push(t)},e}(s.default);r.default=x},{"../../../Shader":42,"../../../math":68,"../filters/filterTransforms":86,"../utils/Quad":93,"../utils/RenderTarget":94,"./WebGLManager":91,"bit-twiddle":1}],89:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./WebGLManager"),o=n(i),s=t("../filters/spriteMask/SpriteMaskFilter"),a=n(s),u=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.scissor=!1,n.scissorData=null,n.scissorRenderTarget=null,n.enableScissor=!0,n.alphaMaskPool=[],n.alphaMaskIndex=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var r=e.worldTransform,n=Math.atan2(r.b,r.a);(n=Math.round(n*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new a.default(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e,t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,r),this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,n=e.getBounds();n.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(n.x*i,(r.root?r.size.height-n.y-n.height:n.y)*i,n.width*i,n.height*i),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(o.default);r.default=u},{"../filters/spriteMask/SpriteMaskFilter":87,"./WebGLManager":91}],90:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./WebGLManager"),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.stencilMaskStack=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,r=this.stencilMaskStack;0===r.length&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.stencilFunc(e.ALWAYS,1,1)),r.push(t),e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.NOTEQUAL,0,r.length),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack,r=e.pop();0===e.length?t.disable(t.STENCIL_TEST):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(r),t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.NOTEQUAL,0,e.length),t.stencilOp(t.KEEP,t.KEEP,t.KEEP))},e.prototype.destroy=function(){i.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(i.default);r.default=o},{"./WebGLManager":91}],91:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();r.default=n},{}],92:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../managers/WebGLManager"),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(i.default);r.default=o},{"../managers/WebGLManager":91}],93:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("pixi-gl-core"),o=n(i),s=t("../../../utils/createIndicesForQuads"),a=n(s),u=function(){function t(e,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var n=0;n<4;n++)this.interleaved[4*n]=this.vertices[2*n],this.interleaved[4*n+1]=this.vertices[2*n+1],this.interleaved[4*n+2]=this.uvs[2*n],this.interleaved[4*n+3]=this.uvs[2*n+1];this.indices=(0,a.default)(1),this.vertexBuffer=o.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new o.default.VertexArrayObject(e,r)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();r.default=u},{"../../../utils/createIndicesForQuads":118,"pixi-gl-core":12}],94:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../../../math"),i=t("../../../const"),o=t("../../../settings"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=t("pixi-gl-core"),u=function(){function t(e,r,o,u,l,h){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new n.Rectangle(0,0,1,1),this.resolution=l||s.default.RESOLUTION,this.projectionMatrix=new n.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new n.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.scaleMode=void 0!==u?u:s.default.SCALE_MODE,this.root=h,this.root?(this.frameBuffer=new a.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=a.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===i.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(r,o)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var r=this.projectionMatrix;e=e||t,r.identity(),this.root?(r.a=1/t.width*2,r.d=-1/t.height*2,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2,r.d=1/t.height*2,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var r=this.frame||this.size;this.calculateProjection(r)}},t.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();r.default=u},{"../../../const":44,"../../../math":68,"../../../settings":99,"pixi-gl-core":12}],95:[function(t,e,r){"use strict";function n(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}r.__esModule=!0,r.default=function(t,e){var r=!e;if(r){var i=document.createElement("canvas");i.width=1,i.height=1,e=o.default.createContext(i)}for(var a=e.createShader(e.FRAGMENT_SHADER);;){var u=s.replace(/%forloop%/gi,n(t));if(e.shaderSource(a,u),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS))break;t=t/2|0}return r&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext(),t};var i=t("pixi-gl-core"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n")},{"pixi-gl-core":12}],96:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[n.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[n.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[n.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e};var n=t("../../../const")},{"../../../const":44}],97:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[n.DRAW_MODES.POINTS]=t.POINTS,e[n.DRAW_MODES.LINES]=t.LINES,e[n.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[n.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[n.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[n.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[n.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e};var n=t("../../../const")},{"../../../const":44}],98:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},{}],99:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./utils/maxRecommendedTextures"),o=n(i),s=t("./utils/canUploadSameBuffer"),a=n(s);r.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,o.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,a.default)()}},{"./utils/canUploadSameBuffer":117,"./utils/maxRecommendedTextures":121}],100:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("../math"),s=t("../utils"),a=t("../const"),u=t("../textures/Texture"),l=n(u),h=t("../display/Container"),c=n(h),f=new o.Point,p=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n._anchor=new o.ObservablePoint(n._onAnchorUpdate,n),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=a.BLEND_MODES.NORMAL,n.shader=null,n.cachedTint=16777215,n.texture=r||l.default.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.pluginName="sprite",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._width&&(this.scale.x=(0,s.sign)(this.scale.x)*this._width/this.texture.orig.width),this._height&&(this.scale.y=(0,s.sign)(this.scale.y)*this._height/this.texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,s=e.tx,a=e.ty,u=this.vertexData,l=t.trim,h=t.orig,c=this._anchor,f=0,p=0,d=0,g=0;l?(p=l.x-c._x*h.width,f=p+l.width,g=l.y-c._y*h.height,d=g+l.height):(p=-c._x*h.width,f=p+h.width,g=-c._y*h.height,d=g+h.height),u[0]=r*p+i*g+s,u[1]=o*g+n*p+a,u[2]=r*f+i*g+s,u[3]=o*g+n*f+a,u[4]=r*f+i*d+s,u[5]=o*d+n*f+a,u[6]=r*p+i*d+s,u[7]=o*d+n*p+a}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,l=i.tx,h=i.ty,c=-n._x*r.width,f=c+r.width,p=-n._y*r.height,d=p+r.height;e[0]=o*c+a*p+l,e[1]=u*p+s*c+h,e[2]=o*f+a*p+l,e[3]=u*p+s*f+h,e[4]=o*f+a*d+l,e[5]=u*d+s*f+h,e[6]=o*c+a*d+l,e[7]=u*d+s*c+h},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._x),e||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,f);var e=this._texture.orig.width,r=this._texture.orig.height,n=-e*this.anchor.x,i=0;return f.x>n&&f.x<n+e&&(i=-r*this.anchor.y,f.y>i&&f.y<i+r)},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._anchor=null;var r="boolean"==typeof e?e:e&&e.texture;if(r){var n="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!n)}this._texture=null,this.shader=null},e.from=function(t){return new e(l.default.from(t))},e.fromFrame=function(t){var r=s.TextureCache[t];if(!r)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new e(r)},e.fromImage=function(t,r,n){return new e(l.default.fromImage(t,r,n))},i(e,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,s.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,s.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),e}(c.default);r.default=p},{"../const":44,"../display/Container":46,"../math":68,"../textures/Texture":112,"../utils":120}],101:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("../../renderers/canvas/CanvasRenderer"),o=n(i),s=t("../../const"),a=t("../../math"),u=t("./CanvasTinter"),l=n(u),h=new a.Matrix,c=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,r=this.renderer,n=e._frame.width,i=e._frame.height,o=t.transform.worldTransform,u=0,c=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(r.setBlendMode(t.blendMode),e.valid)){r.context.globalAlpha=t.worldAlpha;var f=e.baseTexture.scaleMode===s.SCALE_MODES.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==f&&(r.context[r.smoothProperty]=f),e.trim?(u=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,c=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(u=(.5-t.anchor.x)*e.orig.width,c=(.5-t.anchor.y)*e.orig.height),e.rotate&&(o.copy(h),o=h,a.GroupD8.matrixAppendRotationInv(o,e.rotate,u,c),u=0,c=0),u-=n/2,c-=i/2,r.roundPixels?(r.context.setTransform(o.a,o.b,o.c,o.d,o.tx*r.resolution|0,o.ty*r.resolution|0),u|=0,c|=0):r.context.setTransform(o.a,o.b,o.c,o.d,o.tx*r.resolution,o.ty*r.resolution);var p=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint!==t.tint&&(t.cachedTint=t.tint,t.tintedTexture=l.default.getTintedTexture(t,t.tint)),r.context.drawImage(t.tintedTexture,0,0,n*p,i*p,u*r.resolution,c*r.resolution,n*r.resolution,i*r.resolution)):r.context.drawImage(e.baseTexture.source,e._frame.x*p,e._frame.y*p,n*p,i*p,u*r.resolution,c*r.resolution,n*r.resolution,i*r.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();r.default=c,o.default.registerPlugin("sprite",c)},{"../../const":44,"../../math":68,"../../renderers/canvas/CanvasRenderer":75,"./CanvasTinter":102}],102:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../../utils"),i=t("../../renderers/canvas/utils/canUseNewCanvasBlendModes"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s={getTintedTexture:function(t,e){var r=t.texture,n="#"+("00000"+(0|(e=s.roundColor(e))).toString(16)).substr(-6);if(r.tintCache=r.tintCache||{},r.tintCache[n])return r.tintCache[n];var i=s.canvas||document.createElement("canvas");if(s.tintMethod(r,e,i),s.convertTintToImage){var o=new Image;o.src=i.toDataURL(),r.tintCache[n]=o}else r.tintCache[n]=i,s.canvas=null;return i},tintWithMultiply:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height)},tintWithOverlay:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height)},tintWithPerPixel:function(t,e,r){var i=r.getContext("2d"),o=t._frame.clone(),s=t.baseTexture.resolution;o.x*=s,o.y*=s,o.width*=s,o.height*=s,r.width=Math.ceil(o.width),r.height=Math.ceil(o.height),i.globalCompositeOperation="copy",i.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height);for(var a=(0,n.hex2rgb)(e),u=a[0],l=a[1],h=a[2],c=i.getImageData(0,0,o.width,o.height),f=c.data,p=0;p<f.length;p+=4)f[p+0]*=u,f[p+1]*=l,f[p+2]*=h;i.putImageData(c,0,0)},roundColor:function(t){var e=s.cacheStepsPerColorChannel,r=(0,n.hex2rgb)(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),(0,n.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,o.default)(),tintMethod:0};s.tintMethod=s.canUseMultiply?s.tintWithMultiply:s.tintWithPerPixel,r.default=s},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":78,"../../utils":120}],103:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();r.default=n},{}],104:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("../../renderers/webgl/utils/ObjectRenderer"),o=n(i),s=t("../../renderers/webgl/WebGLRenderer"),a=n(s),u=t("../../utils/createIndicesForQuads"),l=n(u),h=t("./generateMultiTextureShader"),c=n(h),f=t("../../renderers/webgl/utils/checkMaxIfStatmentsInShader"),p=n(f),d=t("./BatchBuffer"),g=n(d),v=t("../../settings"),m=n(v),y=t("pixi-gl-core"),x=n(y),b=t("bit-twiddle"),_=n(b),w=0,T=0,E=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));n.vertSize=5,n.vertByteSize=4*n.vertSize,n.size=m.default.SPRITE_BATCH_SIZE,n.buffers=[];for(var i=1;i<=_.default.nextPow2(n.size);i*=2)n.buffers.push(new g.default(4*i*n.vertByteSize));n.indices=(0,l.default)(n.size),n.shader=null,n.currentIndex=0,n.groups=[];for(var o=0;o<n.size;o++)n.groups[o]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return n.sprites=[],n.vertexBuffers=[],n.vaos=[],n.vaoMax=2,n.vertexCount=0,n.renderer.on("prerender",n.onPrerender,n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),m.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,p.default)(this.MAX_TEXTURES,t));var e=this.shader=(0,c.default)(t,this.MAX_TEXTURES);this.indexBuffer=x.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var r=0;r<this.vaoMax;r++)this.vertexBuffers[r]=x.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),this.vaos[r]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[r],e.attributes.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(this.vertexBuffers[r],e.attributes.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(this.vertexBuffers[r],e.attributes.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12),e.attributes.aTextureId&&this.vaos[r].addAttribute(this.vertexBuffers[r],e.attributes.aTextureId,t.FLOAT,!1,this.vertByteSize,16);this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,r=_.default.nextPow2(this.currentIndex),n=_.default.log2(r),i=this.buffers[n],o=this.sprites,s=this.groups,a=i.float32View,u=i.uint32View,l=this.boundTextures,h=this.renderer.boundTextures,c=this.renderer.textureGC.count,f=0,p=void 0,d=void 0,g=1,v=0,y=s[0],b=void 0,E=void 0,S=o[0].blendMode;y.textureCount=0,y.start=0,y.blend=S,w++;var A=void 0;for(A=0;A<e;++A)l[A]=h[A],l[A]._virtalBoundId=A;for(A=0;A<this.currentIndex;++A){var C=o[A];if(p=C._texture.baseTexture,S!==C.blendMode&&(S=C.blendMode,d=null,v=e,w++),d!==p&&(d=p,p._enabled!==w)){if(v===e&&(w++,y.size=A-y.start,v=0,(y=s[g++]).blend=S,y.textureCount=0,y.start=A),p.touched=c,-1===p._virtalBoundId)for(var M=0;M<e;++M){var R=(M+T)%e,O=l[R];if(O._enabled!==w){T++,O._virtalBoundId=-1,p._virtalBoundId=R,l[R]=p;break}}p._enabled=w,y.textureCount++,y.ids[v]=p._virtalBoundId,y.textures[v++]=p}if(b=C.vertexData,E=C._texture._uvs.uvsUint32,this.renderer.roundPixels){var P=this.renderer.resolution;a[f]=(b[0]*P|0)/P,a[f+1]=(b[1]*P|0)/P,a[f+5]=(b[2]*P|0)/P,a[f+6]=(b[3]*P|0)/P,a[f+10]=(b[4]*P|0)/P,a[f+11]=(b[5]*P|0)/P,a[f+15]=(b[6]*P|0)/P,a[f+16]=(b[7]*P|0)/P}else a[f]=b[0],a[f+1]=b[1],a[f+5]=b[2],a[f+6]=b[3],a[f+10]=b[4],a[f+11]=b[5],a[f+15]=b[6],a[f+16]=b[7];u[f+2]=E[0],u[f+7]=E[1],u[f+12]=E[2],u[f+17]=E[3],u[f+3]=u[f+8]=u[f+13]=u[f+18]=C._tintRGB+(255*Math.min(C.worldAlpha,1)<<24),a[f+4]=a[f+9]=a[f+14]=a[f+19]=p._virtalBoundId,f+=20}for(y.size=A-y.start,m.default.CAN_UPLOAD_SAME_BUFFER?this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!0):(this.vaoMax<=this.vertexCount&&(this.vaoMax++,this.vertexBuffers[this.vertexCount]=x.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),this.vaos[this.vertexCount]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12),this.shader.attributes.aTextureId&&this.vaos[this.vertexCount].addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aTextureId,t.FLOAT,!1,this.vertByteSize,16)),this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!1),this.vertexCount++),A=0;A<e;++A)h[A]._virtalBoundId=-1;for(A=0;A<g;++A){for(var D=s[A],I=D.textureCount,L=0;L<I;L++)d=D.textures[L],h[D.ids[L]]!==d&&this.renderer.bindTexture(d,D.ids[L],!0),d._virtalBoundId=-1;this.renderer.state.setBlendMode(D.blend),t.drawElements(t.TRIANGLES,6*D.size,t.UNSIGNED_SHORT,6*D.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),m.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var r=0;r<this.buffers.length;++r)this.buffers[r].destroy()},e}(o.default);r.default=E,a.default.registerPlugin("sprite",E)},{"../../renderers/webgl/WebGLRenderer":82,"../../renderers/webgl/utils/ObjectRenderer":92,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":95,"../../settings":99,"../../utils/createIndicesForQuads":118,"./BatchBuffer":103,"./generateMultiTextureShader":105,"bit-twiddle":1,"pixi-gl-core":12}],105:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t,e){var r=o;r=(r=r.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(textureId == "+r+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}(e));for(var n=new i.default(t,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",r),s=[],a=0;a<e;a++)s[a]=a;return n.bind(),n.uniforms.uSamplers=s,n};var n=t("../../Shader"),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=(t("path"),["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n"))},{"../../Shader":42,path:22}],106:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("../sprites/Sprite"),s=n(o),a=t("../textures/Texture"),u=n(a),l=t("../math"),h=t("../utils"),c=t("../const"),f=t("../settings"),p=n(f),d=t("./TextStyle"),g=n(d),v=t("../utils/trimCanvas"),m=n(v),y={texture:!0,children:!1,baseTexture:!0},x=function(t){function e(r,n,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),(i=i||document.createElement("canvas")).width=3,i.height=3;var o=u.default.fromCanvas(i);o.orig=new l.Rectangle,o.trim=new l.Rectangle;var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,o));return s.canvas=i,s.context=s.canvas.getContext("2d"),s.resolution=p.default.RESOLUTION,s._text=null,s._style=null,s._styleListener=null,s._font="",s.text=r,s.style=n,s.localStyleID=-1,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(t){var r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),this.dirty||!t){this._font=e.getFontStyle(r),this.context.font=this._font;for(var n=r.wordWrap?this.wordWrap(this._text):this._text,i=n.split(/(?:\r\n|\r|\n)/),o=new Array(i.length),s=0,a=e.calculateFontProperties(this._font),u=0;u<i.length;u++){var l=this.context.measureText(i[u]).width+(i[u].length-1)*r.letterSpacing;o[u]=l,s=Math.max(s,l)}var h=s+r.strokeThickness;r.dropShadow&&(h+=r.dropShadowDistance),this.canvas.width=Math.ceil((h+2*r.padding)*this.resolution);var c=r.lineHeight||a.fontSize+r.strokeThickness,f=Math.max(c,a.fontSize+r.strokeThickness)+(i.length-1)*c;r.dropShadow&&(f+=r.dropShadowDistance),this.canvas.height=Math.ceil((f+2*r.padding)*this.resolution),this.context.scale(this.resolution,this.resolution),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=this._font,this.context.strokeStyle=r.stroke,this.context.lineWidth=r.strokeThickness,this.context.textBaseline=r.textBaseline,this.context.lineJoin=r.lineJoin,this.context.miterLimit=r.miterLimit;var p=void 0,d=void 0;if(r.dropShadow){this.context.shadowBlur=r.dropShadowBlur,this.context.globalAlpha=r.dropShadowAlpha,r.dropShadowBlur>0?this.context.shadowColor=r.dropShadowColor:this.context.fillStyle=r.dropShadowColor;for(var g=Math.cos(r.dropShadowAngle)*r.dropShadowDistance,v=Math.sin(r.dropShadowAngle)*r.dropShadowDistance,m=0;m<i.length;m++)p=r.strokeThickness/2,d=r.strokeThickness/2+m*c+a.ascent,"right"===r.align?p+=s-o[m]:"center"===r.align&&(p+=(s-o[m])/2),r.fill&&(this.drawLetterSpacing(i[m],p+g+r.padding,d+v+r.padding),r.stroke&&r.strokeThickness&&(this.context.strokeStyle=r.dropShadowColor,this.drawLetterSpacing(i[m],p+g+r.padding,d+v+r.padding,!0),this.context.strokeStyle=r.stroke))}this.context.shadowBlur=0,this.context.globalAlpha=1,this.context.fillStyle=this._generateFillStyle(r,i);for(var y=0;y<i.length;y++)p=r.strokeThickness/2,d=r.strokeThickness/2+y*c+a.ascent,"right"===r.align?p+=s-o[y]:"center"===r.align&&(p+=(s-o[y])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(i[y],p+r.padding,d+r.padding,!0),r.fill&&this.drawLetterSpacing(i[y],p+r.padding,d+r.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._style,o=i.letterSpacing;if(0!==o)for(var s=String.prototype.split.call(t,""),a=e,u=0,l="";u<t.length;)l=s[u++],n?this.context.strokeText(l,a,r):this.context.fillText(l,a,r),a+=this.context.measureText(l).width+o;else n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},e.prototype.updateTexture=function(){if(this._style.trim){var t=(0,m.default)(this.canvas);this.canvas.width=t.width,this.canvas.height=t.height,this.context.putImageData(t.data,0,0)}var e=this._texture,r=this._style;e.baseTexture.hasLoaded=!0,e.baseTexture.resolution=this.resolution,e.baseTexture.realWidth=this.canvas.width,e.baseTexture.realHeight=this.canvas.height,e.baseTexture.width=this.canvas.width/this.resolution,e.baseTexture.height=this.canvas.height/this.resolution,e.trim.width=e._frame.width=this.canvas.width/this.resolution,e.trim.height=e._frame.height=this.canvas.height/this.resolution,e.trim.x=-r.padding,e.trim.y=-r.padding,e.orig.width=e._frame.width-2*r.padding,e.orig.height=e._frame.height-2*r.padding,this._onTextureUpdate(),e.baseTexture.emit("update",e.baseTexture),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.wordWrap=function(t){for(var e="",r=this._style,n=t.split("\n"),i=r.wordWrapWidth,o=0;o<n.length;o++){for(var s=i,a=n[o].split(" "),u=0;u<a.length;u++){var l=this.context.measureText(a[u]).width;if(r.breakWords&&l>i)for(var h=a[u].split(""),c=0;c<h.length;c++){var f=this.context.measureText(h[c]).width;f>s?(e+="\n"+h[c],s=i-f):(0===c&&(e+=" "),e+=h[c],s-=f)}else{var p=l+this.context.measureText(" ").width;0===u||p>s?(u>0&&(e+="\n"),e+=a[u],s=i-l):(s-=p,e+=" "+a[u])}}o<n.length-1&&(e+="\n")}return e},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var r=void 0,n=void 0,i=void 0,o=void 0,s=this.canvas.width/this.resolution,a=this.canvas.height/this.resolution,u=t.fill.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var h=u.length+1,f=1;f<h;++f)l.push(f/h);if(u.unshift(t.fill[0]),l.unshift(0),u.push(t.fill[t.fill.length-1]),l.push(1),t.fillGradientType===c.TEXT_GRADIENT.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,0,s/2,a),n=(u.length+1)*e.length,i=0;for(var p=0;p<e.length;p++){i+=1;for(var d=0;d<u.length;d++)o=l[d]?l[d]/e.length+p/e.length:i/n,r.addColorStop(o,u[d]),i++}}else{r=this.context.createLinearGradient(0,a/2,s,a/2),n=u.length+1,i=1;for(var g=0;g<u.length;g++)o=l[g]?l[g]:i/n,r.addColorStop(o,u[g]),i++}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},y,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},e.getFontStyle=function(t){(t=t||{})instanceof g.default||(t=new g.default(t));var e="number"==typeof t.fontSize?t.fontSize+"px":t.fontSize,r=t.fontFamily;Array.isArray(t.fontFamily)||(r=t.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();/([\"\'])[^\'\"]+\1/.test(i)||(i='"'+i+'"'),r[n]=i}return t.fontStyle+" "+t.fontVariant+" "+t.fontWeight+" "+e+" "+r.join(",")},e.calculateFontProperties=function(t){if(e.fontPropertiesCache[t])return e.fontPropertiesCache[t];var r={},n=e.fontPropertiesCanvas,i=e.fontPropertiesContext;i.font=t;var o=Math.ceil(i.measureText("|MÉq").width),s=Math.ceil(i.measureText("M").width),a=2*s;s=1.4*s|0,n.width=o,n.height=a,i.fillStyle="#f00",i.fillRect(0,0,o,a),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText("|MÉq",0,s);var u=i.getImageData(0,0,o,a).data,l=u.length,h=4*o,c=0,f=0,p=!1;for(c=0;c<s;++c){for(var d=0;d<h;d+=4)if(255!==u[f+d]){p=!0;break}if(p)break;f+=h}for(r.ascent=s-c,f=l-h,p=!1,c=a;c>s;--c){for(var g=0;g<h;g+=4)if(255!==u[f+g]){p=!0;break}if(p)break;f-=h}return r.descent=c-s,r.fontSize=r.ascent+r.descent,e.fontPropertiesCache[t]=r,r},i(e,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,h.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,h.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){(t=t||{})instanceof g.default?this._style=t:this._style=new g.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null===t||void 0===t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(s.default);r.default=x,x.fontPropertiesCache={},x.fontPropertiesCanvas=document.createElement("canvas"),x.fontPropertiesContext=x.fontPropertiesCanvas.getContext("2d")},{"../const":44,"../math":68,"../settings":99,"../sprites/Sprite":100,"../textures/Texture":112,"../utils":120,"../utils/trimCanvas":124,"./TextStyle":107}],107:[function(t,e,r){"use strict";function n(t){return"number"==typeof t?(0,a.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function i(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=n(t[e]);return t}return n(t)}r.__esModule=!0;var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=t("../const"),a=t("../utils"),u={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"#000000",dropShadowDistance:5,fill:"black",fillGradientType:s.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,wordWrap:!1,wordWrapWidth:100},l=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.styleID=0,Object.assign(this,u,e)}return t.prototype.clone=function(){var e={};for(var r in u)e[r]=this[r];return new t(e)},t.prototype.reset=function(){Object.assign(this,u)},o(t,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=i(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=i(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=i(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();r.default=l},{"../const":44,"../utils":120}],108:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./BaseTexture"),o=n(i),s=t("../settings"),a=n(s),u=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments[2],o=arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,null,i));return s.resolution=o||a.default.RESOLUTION,s.width=r,s.height=n,s.realWidth=s.width*s.resolution,s.realHeight=s.height*s.resolution,s.scaleMode=void 0!==i?i:a.default.SCALE_MODE,s.hasLoaded=!0,s._glRenderTargets={},s._canvasRenderTarget=null,s.valid=!1,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(o.default);r.default=u},{"../settings":99,"./BaseTexture":109}],109:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=t("../utils"),s=t("../settings"),a=n(s),u=t("eventemitter3"),l=n(u),h=t("../utils/determineCrossOrigin"),c=n(h),f=t("bit-twiddle"),p=n(f),d=function(t){function e(r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return s.uid=(0,o.uid)(),s.touched=0,s.resolution=i||a.default.RESOLUTION,s.width=100,s.height=100,s.realWidth=100,s.realHeight=100,s.scaleMode=void 0!==n?n:a.default.SCALE_MODE,s.hasLoaded=!1,s.isLoading=!1,s.source=null,s.origSource=null,s.imageType=null,s.sourceScale=1,s.premultipliedAlpha=!0,s.imageUrl=null,s.isPowerOfTwo=!1,s.mipmap=a.default.MIPMAP_TEXTURES,s.wrapMode=a.default.WRAP_MODE,s._glTextures={},s._enabled=0,s._virtalBoundId=-1,r&&s.loadSource(r),s._destroyed=!1,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=p.default.isPow2(this.realWidth)&&p.default.isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e=this,r=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,r&&this.source&&(this.source.onload=null,this.source.onerror=null);var n=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),n&&this.emit("loaded",this);else if(!t.getContext){var o=function(){e.isLoading=!0;var n=e;if(t.onload=function(){if(n._updateImageType(),t.onload=null,t.onerror=null,n.isLoading)return n.isLoading=!1,n._sourceLoaded(),"svg"===n.imageType?void n._loadSvgSource():void n.emit("loaded",n)},t.onerror=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===n.imageType)return n._loadSvgSource(),{v:void 0};e.isLoading=!1,t.width&&t.height?(e._sourceLoaded(),r&&e.emit("loaded",e)):r&&e.emit("error",e)}}();if("object"===(void 0===o?"undefined":i(o)))return o.v}},e.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,o.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){var r=t.subType.split("+")[0];if(!(e=(0,o.getUrlFileExtension)("."+r)))throw new Error("Invalid image type in data URI.")}else(e=(0,o.getUrlFileExtension)(this.imageUrl))||(e="png");this.imageType=e}},e.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,o.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var e=(0,o.getSvgSize)(t),r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(r*this.sourceScale),this.realHeight=Math.round(n*this.sourceScale),this._updateDimensions();var i=document.createElement("canvas");i.width=this.realWidth,i.height=this.realHeight,i._pixiId="canvas_"+(0,o.uid)(),i.getContext("2d").drawImage(this.source,0,0,r,n,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=i,o.BaseTextureCache[i._pixiId]=this,this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete o.BaseTextureCache[this.imageUrl],delete o.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source&&this.source._pixiId&&delete o.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose(),this._destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,r,n,i){var s=o.BaseTextureCache[t];if(!s){var a=new Image;void 0===r&&0!==t.indexOf("data:")&&(a.crossOrigin=(0,c.default)(t)),(s=new e(a,n)).imageUrl=t,i&&(s.sourceScale=i),s.resolution=(0,o.getResolutionOfUrl)(t),a.src=t,o.BaseTextureCache[t]=s}return s},e.fromCanvas=function(t,r){t._pixiId||(t._pixiId="canvas_"+(0,o.uid)());var n=o.BaseTextureCache[t._pixiId];return n||(n=new e(t,r),o.BaseTextureCache[t._pixiId]=n),n},e.from=function(t,r,n){if("string"==typeof t)return e.fromImage(t,void 0,r,n);if(t instanceof HTMLImageElement){var i=t.src,s=o.BaseTextureCache[i];return s||((s=new e(t,r)).imageUrl=i,n&&(s.sourceScale=n),s.resolution=(0,o.getResolutionOfUrl)(i),o.BaseTextureCache[i]=s),s}return t instanceof HTMLCanvasElement?e.fromCanvas(t,r):t},e}(l.default);r.default=d},{"../settings":99,"../utils":120,"../utils/determineCrossOrigin":119,"bit-twiddle":1,eventemitter3:3}],110:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./BaseRenderTexture"),o=n(i),s=t("./Texture"),a=n(s),u=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=null;if(!(r instanceof o.default)){var s=arguments[1],a=arguments[2],u=arguments[3],l=arguments[4];console.warn("Please use RenderTexture.create("+s+", "+a+") instead of the ctor directly."),i=arguments[0],n=null,r=new o.default(s,a,u,l)}var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,n));return h.legacyRenderer=i,h.valid=!0,h._updateUvs(),h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e,r){this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,r,n,i){return new e(new o.default(t,r,n,i))},e}(a.default);r.default=u},{"./BaseRenderTexture":108,"./Texture":112}],111:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("../"),o=t("../utils"),s=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.baseTexture=e,this.textures={},this.data=r,this.resolution=this._updateResolution(n||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return n(t,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,r=(0,o.getResolutionOfUrl)(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&(this.baseTexture.resolution=r,this.baseTexture.update()),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var s=this._frameKeys[r],a=this._frames[s].frame;if(a){var u=null,l=null,h=new i.Rectangle(0,0,this._frames[s].sourceSize.w/this.resolution,this._frames[s].sourceSize.h/this.resolution);u=this._frames[s].rotated?new i.Rectangle(a.x/this.resolution,a.y/this.resolution,a.h/this.resolution,a.w/this.resolution):new i.Rectangle(a.x/this.resolution,a.y/this.resolution,a.w/this.resolution,a.h/this.resolution),this._frames[s].trimmed&&(l=new i.Rectangle(this._frames[s].spriteSourceSize.x/this.resolution,this._frames[s].spriteSourceSize.y/this.resolution,a.w/this.resolution,a.h/this.resolution)),this.textures[s]=new i.Texture(this.baseTexture,u,h,l,this._frames[s].rotated?2:0),o.TextureCache[s]=this.textures[s]}r++}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():e._parseComplete()},0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();r.default=s},{"../":63,"../utils":120}],112:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}r.__esModule=!0;var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=t("./BaseTexture"),a=n(s),u=t("./VideoBaseTexture"),l=n(u),h=t("./TextureUvs"),c=n(h),f=t("eventemitter3"),p=n(f),d=t("../math"),g=t("../utils"),v=function(t){function e(r,n,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));if(a.noFrame=!1,n||(a.noFrame=!0,n=new d.Rectangle(0,0,1,1)),r instanceof e&&(r=r.baseTexture),a.baseTexture=r,a._frame=n,a.trim=o,a.valid=!1,a.requiresUpdate=!1,a._uvs=null,a.orig=i||n,a._rotate=Number(s||0),!0===s)a._rotate=2;else if(a._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return r.hasLoaded?(a.noFrame&&(n=new d.Rectangle(0,0,r.width,r.height),r.on("update",a.onBaseTextureUpdated,a)),a.frame=n):r.once("loaded",a.onBaseTextureLoaded,a),a._updateID=0,a.transform=null,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new d.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(g.TextureCache[this.baseTexture.imageUrl]&&delete g.TextureCache[this.baseTexture.imageUrl],this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,this.off("dispose",this.dispose,this),this.off("update",this.update,this)},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new c.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,r,n,i){var o=g.TextureCache[t];return o||(o=new e(a.default.fromImage(t,r,n,i)),g.TextureCache[t]=o),o},e.fromFrame=function(t){var e=g.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},e.fromCanvas=function(t,r){return new e(a.default.fromCanvas(t,r))},e.fromVideo=function(t,r){return"string"==typeof t?e.fromVideoUrl(t,r):new e(l.default.fromVideo(t,r))},e.fromVideoUrl=function(t,r){return new e(l.default.fromUrl(t,r))},e.from=function(t){if("string"==typeof t){var r=g.TextureCache[t];if(!r){var n=null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/);return n?e.fromVideoUrl(t):e.fromImage(t)}return r}return t instanceof HTMLImageElement?new e(a.default.from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof a.default?new e(t):t},e.fromLoader=function(t,r,n){var i=new a.default(t,void 0,(0,g.getResolutionOfUrl)(r)),o=new e(i);return i.imageUrl=r,n||(n=r),g.BaseTextureCache[n]=i,g.TextureCache[n]=o,n!==r&&(g.BaseTextureCache[r]=i,g.TextureCache[r]=o),o},e.addTextureToCache=function(t,e){g.TextureCache[e]=t},e.removeTextureFromCache=function(t){var e=g.TextureCache[t];return delete g.TextureCache[t],delete g.BaseTextureCache[t],e},o(e,[{key:"frame",get:function(){return this._frame},set:function(t){if(this._frame=t,this.noFrame=!1,t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+t.x+" + "+t.width+" > "+this.baseTexture.width+" Y: "+t.y+" + "+t.height+" > "+this.baseTexture.height);this.valid=t&&t.width&&t.height&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),e}(p.default);r.default=v,v.EMPTY=new v(new a.default),i(v.EMPTY),v.WHITE=function(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new v(new a.default(t))}(),i(v.WHITE)},{"../math":68,"../utils":120,"./BaseTexture":109,"./TextureUvs":113,"./VideoBaseTexture":114,eventemitter3:3}],113:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../math/GroupD8"),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,r){var n=e.width,o=e.height;if(r){var s=t.width/2/n,a=t.height/2/o,u=t.x/n+s,l=t.y/o+a;r=i.default.add(r,i.default.NW),this.x0=u+s*i.default.uX(r),this.y0=l+a*i.default.uY(r),r=i.default.add(r,2),this.x1=u+s*i.default.uX(r),this.y1=l+a*i.default.uY(r),r=i.default.add(r,2),this.x2=u+s*i.default.uX(r),this.y2=l+a*i.default.uY(r),r=i.default.add(r,2),this.x3=u+s*i.default.uX(r),this.y3=l+a*i.default.uY(r)}else this.x0=t.x/n,this.y0=t.y/o,this.x1=(t.x+t.width)/n,this.y1=t.y/o,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/o,this.x3=t.x/n,this.y3=(t.y+t.height)/o;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},t}();r.default=o},{"../math/GroupD8":64}],114:[function(t,e,r){"use strict";function n(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=t,r.type=e,r}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("./BaseTexture"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=t("../utils"),u=t("../ticker"),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(u),h=function(t){function e(r,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!r)throw new Error("No video source element specified.");(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,n));return i.width=r.videoWidth,i.height=r.videoHeight,i._autoUpdate=!0,i._isAutoUpdating=!1,i.autoPlay=!0,i.update=i.update.bind(i),i._onCanPlay=i._onCanPlay.bind(i),r.addEventListener("play",i._onPlayStart.bind(i)),r.addEventListener("pause",i._onPlayStop.bind(i)),i.hasLoaded=!1,i.__loaded=!1,i._isSourceReady()?i._onCanPlay():(r.addEventListener("canplay",i._onCanPlay),r.addEventListener("canplaythrough",i._onCanPlay)),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(l.shared.add(this.update,this),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(l.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&l.shared.remove(this.update,this),this.source&&this.source._pixiId&&(delete a.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),t.prototype.destroy.call(this)},e.fromVideo=function(t,r){t._pixiId||(t._pixiId="video_"+(0,a.uid)());var n=a.BaseTextureCache[t._pixiId];return n||(n=new e(t,r),a.BaseTextureCache[t._pixiId]=n),n},e.fromUrl=function(t,r){var i=document.createElement("video");if(i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline",""),Array.isArray(t))for(var o=0;o<t.length;++o)i.appendChild(n(t[o].src||t[o],t[o].mime));else i.appendChild(n(t.src||t,t.mime));return i.load(),e.fromVideo(i,r)},i(e,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(l.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(l.shared.add(this.update,this),this._isAutoUpdating=!0))}}]),e}(s.default);r.default=h,h.fromUrls=h.fromUrl},{"../ticker":116,"../utils":120,"./BaseTexture":109}],115:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("../settings"),s=n(o),a=t("eventemitter3"),u=n(a),l="tick",h=function(){function t(){var e=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._emitter=new u.default,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/s.default.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._emitter.listeners(l,!0)&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(l,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){return this._emitter.on(l,t,e),this._startIfPossible(),this},t.prototype.addOnce=function(t,e){return this._emitter.once(l,t,e),this._startIfPossible(),this},t.prototype.remove=function(t,e){return this._emitter.off(l,t,e),this._emitter.listeners(l,!0)||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;t>this.lastTime?((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*s.default.TARGET_FPMS*this.speed,this._emitter.emit(l,this.deltaTime)):this.deltaTime=this.elapsedMS=0,this.lastTime=t},i(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,s.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();r.default=h},{"../settings":99,eventemitter3:3}],116:[function(t,e,r){"use strict";r.__esModule=!0,r.Ticker=r.shared=void 0;var n=t("./Ticker"),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=new i.default;o.autoStart=!0,r.shared=o,r.Ticker=i.default},{"./Ticker":115}],117:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},{}],118:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t){for(var e=6*t,r=new Uint16Array(e),n=0,i=0;n<e;n+=6,i+=4)r[n+0]=i+0,r[n+1]=i+1,r[n+2]=i+2,r[n+3]=i+0,r[n+4]=i+2,r[n+5]=i+3;return r}},{}],119:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,o||(o=document.createElement("a")),o.href=t;var r=!(t=i.default.parse(o.href)).port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&r&&t.protocol===e.protocol?"":"anonymous"};var n=t("url"),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=void 0},{url:28}],120:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0,r.BaseTextureCache=r.TextureCache=r.mixins=r.pluginTarget=r.EventEmitter=r.isMobile=void 0,r.uid=function(){return++v},r.hex2rgb=function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},r.hex2string=function(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)},r.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},r.getResolutionOfUrl=function(t,e){var r=a.default.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1},r.decomposeDataUri=function(t){var e=o.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,encoding:e[3]?e[3].toLowerCase():void 0,data:e[4]}},r.getUrlFileExtension=function(t){var e=o.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase()},r.getSvgSize=function(t){var e=o.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r},r.skipHello=function(){m=!0},r.sayHello=function(t){if(!m){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c Pixi.js "+o.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("Pixi.js "+o.VERSION+" - "+t+" - http://www.pixijs.com/");m=!0}},r.isWebGLSupported=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch(t){return!1}},r.sign=function(t){return 0===t?0:t<0?-1:1},r.removeItems=function(t,e,r){var n=t.length;if(!(e>=n||0===r)){for(var i=n-(r=e+r>n?n-e:r),o=e;o<i;++o)t[o]=t[o+r];t.length=i}},r.destroyTextureCache=function(){var t=void 0;for(t in y)y[t].destroy();for(t in x)x[t].destroy()},r.clearTextureCache=function(){var t=void 0;for(t in y)delete y[t];for(t in x)delete x[t]};var o=t("../const"),s=t("../settings"),a=i(s),u=t("eventemitter3"),l=i(u),h=t("./pluginTarget"),c=i(h),f=t("./mixin"),p=n(f),d=t("ismobilejs"),g=n(d),v=0,m=!1;r.isMobile=g,r.EventEmitter=l.default,r.pluginTarget=c.default,r.mixins=p;var y=r.TextureCache={},x=r.BaseTextureCache={}},{"../const":44,"../settings":99,"./mixin":122,"./pluginTarget":123,eventemitter3:3,ismobilejs:4}],121:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t){return i.default.tablet||i.default.phone?4:t};var n=t("ismobilejs"),i=function(t){return t&&t.__esModule?t:{default:t}}(n)},{ismobilejs:4}],122:[function(t,e,r){"use strict";function n(t,e){if(t&&e)for(var r=Object.keys(e),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}r.__esModule=!0,r.mixin=n,r.delayMixin=function(t,e){i.push(t,e)},r.performMixins=function(){for(var t=0;t<i.length;t+=2)n(i[t],i[t+1]);i.length=0};var i=[]},{}],123:[function(t,e,r){"use strict";r.__esModule=!0,r.default={mixin:function(t){!function(t){t.__plugins={},t.registerPlugin=function(e,r){t.__plugins[e]=r},t.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}(t)}}},{}],124:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r).data,o=i.length,s={top:null,left:null,right:null,bottom:null},a=void 0,u=void 0,l=void 0;for(a=0;a<o;a+=4)0!==i[a+3]&&(u=a/4%e,l=~~(a/4/e),null===s.top&&(s.top=l),null===s.left?s.left=u:u<s.left&&(s.left=u),null===s.right?s.right=u+1:s.right<u&&(s.right=u+1),null===s.bottom?s.bottom=l:s.bottom<l&&(s.bottom=l));e=s.right-s.left,r=s.bottom-s.top+1;var h=n.getImageData(s.left,s.top,e,r);return{height:r,width:e,data:h}}},{}],125:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var i=t("./core"),o=n(i),s=t("./mesh"),a=n(s),u=t("./particles"),l=n(u),h=t("./extras"),c=n(h),f=t("./filters"),p=n(f),d=t("./prepare"),g=n(d),v=t("./loaders"),m=n(v),y=t("./interaction"),x=n(y);o.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")},o.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")},Object.defineProperties(o,{Stage:{enumerable:!0,get:function(){return o.Container}},DisplayObjectContainer:{enumerable:!0,get:function(){return o.Container}},Strip:{enumerable:!0,get:function(){return a.Mesh}},Rope:{enumerable:!0,get:function(){return a.Rope}},ParticleContainer:{enumerable:!0,get:function(){return l.ParticleContainer}},MovieClip:{enumerable:!0,get:function(){return c.AnimatedSprite}},TilingSprite:{enumerable:!0,get:function(){return c.TilingSprite}},BitmapText:{enumerable:!0,get:function(){return c.BitmapText}},blendModes:{enumerable:!0,get:function(){return o.BLEND_MODES}},scaleModes:{enumerable:!0,get:function(){return o.SCALE_MODES}},BaseTextureCache:{enumerable:!0,get:function(){return o.utils.BaseTextureCache}},TextureCache:{enumerable:!0,get:function(){return o.utils.TextureCache}},math:{enumerable:!0,get:function(){return o}},AbstractFilter:{enumerable:!0,get:function(){return o.Filter}},TransformManual:{enumerable:!0,get:function(){return o.TransformBase}},TARGET_FPMS:{enumerable:!0,get:function(){return o.settings.TARGET_FPMS},set:function(t){o.settings.TARGET_FPMS=t}},FILTER_RESOLUTION:{enumerable:!0,get:function(){return o.settings.FILTER_RESOLUTION},set:function(t){o.settings.FILTER_RESOLUTION=t}},RESOLUTION:{enumerable:!0,get:function(){return o.settings.RESOLUTION},set:function(t){o.settings.RESOLUTION=t}},MIPMAP_TEXTURES:{enumerable:!0,get:function(){return o.settings.MIPMAP_TEXTURES},set:function(t){o.settings.MIPMAP_TEXTURES=t}},SPRITE_BATCH_SIZE:{enumerable:!0,get:function(){return o.settings.SPRITE_BATCH_SIZE},set:function(t){o.settings.SPRITE_BATCH_SIZE=t}},SPRITE_MAX_TEXTURES:{enumerable:!0,get:function(){return o.settings.SPRITE_MAX_TEXTURES},set:function(t){o.settings.SPRITE_MAX_TEXTURES=t}},RETINA_PREFIX:{enumerable:!0,get:function(){return o.settings.RETINA_PREFIX},set:function(t){o.settings.RETINA_PREFIX=t}},DEFAULT_RENDER_OPTIONS:{enumerable:!0,get:function(){return o.settings.RENDER_OPTIONS}}});for(var b=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],_=function(t){var e=b[t];Object.defineProperty(o[e.parent],"DEFAULT",{enumerable:!0,get:function(){return e.parent,e.target,o.settings[e.target]},set:function(t){e.parent,e.target,o.settings[e.target]=t}})},w=0;w<b.length;w++)_(w);Object.defineProperties(o.settings,{PRECISION:{enumerable:!0,get:function(){return o.settings.PRECISION_FRAGMENT},set:function(t){o.settings.PRECISION_FRAGMENT=t}}}),Object.defineProperties(c,{MovieClip:{enumerable:!0,get:function(){return c.AnimatedSprite}}}),o.DisplayObject.prototype.generateTexture=function(t,e,r){return t.generateTexture(this,e,r)},o.Graphics.prototype.generateTexture=function(t,e){return this.generateCanvasTexture(t,e)},o.RenderTexture.prototype.render=function(t,e,r,n){this.legacyRenderer.render(t,this,r,e,!n)},o.RenderTexture.prototype.getImage=function(t){return this.legacyRenderer.extract.image(t)},o.RenderTexture.prototype.getBase64=function(t){return this.legacyRenderer.extract.base64(t)},o.RenderTexture.prototype.getCanvas=function(t){return this.legacyRenderer.extract.canvas(t)},o.RenderTexture.prototype.getPixels=function(t){return this.legacyRenderer.pixels(t)},o.Sprite.prototype.setTexture=function(t){this.texture=t},c.BitmapText.prototype.setText=function(t){this.text=t},o.Text.prototype.setText=function(t){this.text=t},o.Text.prototype.setStyle=function(t){this.style=t},o.Text.prototype.determineFontProperties=function(t){return o.Text.calculateFontProperties(t)},Object.defineProperties(o.TextStyle.prototype,{font:{get:function(){var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){t.indexOf("italic")>1?this._fontStyle="italic":t.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",t.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),r=-1;this._fontSize=26;for(var n=0;n<e.length;++n)if(e[n].match(/(px|pt|em|%)/)){r=n,this._fontSize=e[n];break}this._fontWeight="normal";for(var i=0;i<r;++i)if(e[i].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[i];break}if(r>-1&&r<e.length-1){this._fontFamily="";for(var o=r+1;o<e.length;++o)this._fontFamily+=e[o]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),o.Texture.prototype.setFrame=function(t){this.frame=t},Object.defineProperties(p,{AbstractFilter:{get:function(){return o.AbstractFilter}},SpriteMaskFilter:{get:function(){return o.SpriteMaskFilter}}}),o.utils.uuid=function(){return o.utils.uid()},o.utils.canUseNewCanvasBlendModes=function(){return o.CanvasTinter.canUseMultiply};var T=!0;Object.defineProperty(o.utils,"_saidHello",{set:function(t){t&&this.skipHello(),T=t},get:function(){return T}}),Object.defineProperty(g.canvas,"UPLOADS_PER_FRAME",{set:function(){},get:function(){return NaN}}),Object.defineProperty(g.webgl,"UPLOADS_PER_FRAME",{set:function(){},get:function(){return NaN}}),Object.defineProperties(m.Resource.prototype,{isJson:{get:function(){return this.type===m.Loader.Resource.TYPE.JSON}},isXml:{get:function(){return this.type===m.Loader.Resource.TYPE.XML}},isImage:{get:function(){return this.type===m.Loader.Resource.TYPE.IMAGE}},isAudio:{get:function(){return this.type===m.Loader.Resource.TYPE.AUDIO}},isVideo:{get:function(){return this.type===m.Loader.Resource.TYPE.VIDEO}}}),Object.defineProperties(m.Loader.prototype,{before:{get:function(){return this.pre}},after:{get:function(){return this.use}}}),Object.defineProperty(x.interactiveTarget,"defaultCursor",{set:function(t){this.cursor=t},get:function(){return this.cursor},enumerable:!0}),Object.defineProperty(x.InteractionManager,"defaultCursorStyle",{set:function(t){this.cursorStyles.default=t},get:function(){return this.cursorStyles.default}}),Object.defineProperty(x.InteractionManager,"currentCursorStyle",{set:function(t){this.currentCursorMode=t},get:function(){return this.currentCursorMode}})},{"./core":63,"./extras":136,"./filters":147,"./interaction":154,"./loaders":157,"./mesh":166,"./particles":169,"./prepare":179}],126:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../../core"),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(n),o=new i.Rectangle,s=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,n=void 0,s=void 0,a=void 0;t&&(a=t instanceof i.RenderTexture?t:e.generateTexture(t)),a?(r=a.baseTexture._canvasRenderTarget.context,n=a.baseTexture._canvasRenderTarget.resolution,s=a.frame):(r=e.rootContext,(s=o).width=this.renderer.width,s.height=this.renderer.height);var u=s.width*n,l=s.height*n,h=new i.CanvasRenderTarget(u,l),c=r.getImageData(s.x*n,s.y*n,u,l);return h.context.putImageData(c,0,0),h.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,n=void 0,s=void 0,a=void 0;return t&&(a=t instanceof i.RenderTexture?t:e.generateTexture(t)),a?(r=a.baseTexture._canvasRenderTarget.context,n=a.baseTexture._canvasRenderTarget.resolution,s=a.frame):(r=e.rootContext,(s=o).width=e.width,s.height=e.height),r.getImageData(0,0,s.width*n,s.height*n).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();r.default=s,i.CanvasRenderer.registerPlugin("extract",s)},{"../../core":63}],127:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./webgl/WebGLExtract");Object.defineProperty(r,"webgl",{enumerable:!0,get:function(){return n(i).default}});var o=t("./canvas/CanvasExtract");Object.defineProperty(r,"canvas",{enumerable:!0,get:function(){return n(o).default}})},{"./canvas/CanvasExtract":126,"./webgl/WebGLExtract":128}],128:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../../core"),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(n),o=new i.Rectangle,s=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,n=void 0,s=void 0,a=!1,u=void 0;t&&(u=t instanceof i.RenderTexture?t:this.renderer.generateTexture(t)),u?(r=u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],n=r.resolution,s=u.frame,a=!1):(r=this.renderer.rootRenderTarget,n=r.resolution,a=!0,(s=o).width=r.size.width,s.height=r.size.height);var l=s.width*n,h=s.height*n,c=new i.CanvasRenderTarget(l,h);if(r){e.bindRenderTarget(r);var f=new Uint8Array(4*l*h),p=e.gl;p.readPixels(s.x*n,s.y*n,l,h,p.RGBA,p.UNSIGNED_BYTE,f);var d=c.context.getImageData(0,0,l,h);d.data.set(f),c.context.putImageData(d,0,0),a&&(c.context.scale(1,-1),c.context.drawImage(c.canvas,0,-h))}return c.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,n=void 0,s=void 0,a=void 0;t&&(a=t instanceof i.RenderTexture?t:this.renderer.generateTexture(t)),a?(r=a.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],n=r.resolution,s=a.frame):(r=this.renderer.rootRenderTarget,n=r.resolution,(s=o).width=r.size.width,s.height=r.size.height);var u=s.width*n,l=s.height*n,h=new Uint8Array(4*u*l);if(r){e.bindRenderTarget(r);var c=e.gl;c.readPixels(s.x*n,s.y*n,u,l,c.RGBA,c.UNSIGNED_BYTE,h)}return h},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();r.default=s,i.WebGLRenderer.registerPlugin("extract",s)},{"../../core":63}],129:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("../core"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(i),s=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r[0]instanceof o.Texture?r[0]:r[0].texture));return i._textures=null,i._durations=null,i.textures=r,i._autoUpdate=!1!==n,i.animationSpeed=1,i.loop=!0,i.onComplete=null,i.onFrameChange=null,i._currentTime=0,i.playing=!1,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&o.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&o.ticker.shared.add(this.update,this))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&this.updateTexture()},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(){this.stop(),t.prototype.destroy.call(this)},e.fromFrames=function(t){for(var r=[],n=0;n<t.length;++n)r.push(o.Texture.fromFrame(t[n]));return new e(r)},e.fromImages=function(t){for(var r=[],n=0;n<t.length;++n)r.push(o.Texture.fromImage(t[n]));return new e(r)},n(e,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof o.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(o.Sprite);r.default=s},{"../core":63}],130:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("../core"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(i),s=t("../core/math/ObservablePoint"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0!==n.tint?n.tint:16777215,align:n.align||"left",name:null,size:0},i.font=n.font,i._text=r,i.maxWidth=0,i.maxLineHeight=0,i._anchor=new a.default(function(){i.dirty=!0},i,0,0),i.dirty=!1,i.updateText(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],r=this._font.size/t.size,n=new o.Point,i=[],s=[],a=null,u=0,l=0,h=0,c=-1,f=0,p=0,d=0;d<this.text.length;d++){var g=this.text.charCodeAt(d);if(/(\s)/.test(this.text.charAt(d))&&(c=d,f=u),/(?:\r\n|\r|\n)/.test(this.text.charAt(d)))s.push(u),l=Math.max(l,u),h++,n.x=0,n.y+=t.lineHeight,a=null;else if(-1!==c&&this.maxWidth>0&&n.x*r>this.maxWidth)o.utils.removeItems(i,c,d-c),d=c,c=-1,s.push(f),l=Math.max(l,f),h++,n.x=0,n.y+=t.lineHeight,a=null;else{var v=t.chars[g];v&&(a&&v.kerning[a]&&(n.x+=v.kerning[a]),i.push({texture:v.texture,line:h,charCode:g,position:new o.Point(n.x+v.xOffset,n.y+v.yOffset)}),u=n.x+(v.texture.width+v.xOffset),n.x+=v.xAdvance,p=Math.max(p,v.yOffset+v.texture.height),a=g)}}s.push(u),l=Math.max(l,u);for(var m=[],y=0;y<=h;y++){var x=0;"right"===this._font.align?x=l-s[y]:"center"===this._font.align&&(x=(l-s[y])/2),m.push(x)}for(var b=i.length,_=this.tint,w=0;w<b;w++){var T=this._glyphs[w];T?T.texture=i[w].texture:(T=new o.Sprite(i[w].texture),this._glyphs.push(T)),T.position.x=(i[w].position.x+m[i[w].line])*r,T.position.y=i[w].position.y*r,T.scale.x=T.scale.y=r,T.tint=_,T.parent||this.addChild(T)}for(var E=b;E<this._glyphs.length;++E)this.removeChild(this._glyphs[E]);if(this._textWidth=l*r,this._textHeight=(n.y+t.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var S=0;S<b;S++)this._glyphs[S].x-=this._textWidth*this.anchor.x,this._glyphs[S].y-=this._textHeight*this.anchor.y;this.maxLineHeight=p*r},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,r){var n={},i=t.getElementsByTagName("info")[0],s=t.getElementsByTagName("common")[0];n.font=i.getAttribute("face"),n.size=parseInt(i.getAttribute("size"),10),n.lineHeight=parseInt(s.getAttribute("lineHeight"),10),n.chars={};for(var a=t.getElementsByTagName("char"),u=0;u<a.length;u++){var l=a[u],h=parseInt(l.getAttribute("id"),10),c=new o.Rectangle(parseInt(l.getAttribute("x"),10)+r.frame.x,parseInt(l.getAttribute("y"),10)+r.frame.y,parseInt(l.getAttribute("width"),10),parseInt(l.getAttribute("height"),10));n.chars[h]={xOffset:parseInt(l.getAttribute("xoffset"),10),yOffset:parseInt(l.getAttribute("yoffset"),10),xAdvance:parseInt(l.getAttribute("xadvance"),10),kerning:{},texture:new o.Texture(r.baseTexture,c)}}for(var f=t.getElementsByTagName("kerning"),p=0;p<f.length;p++){var d=f[p],g=parseInt(d.getAttribute("first"),10),v=parseInt(d.getAttribute("second"),10),m=parseInt(d.getAttribute("amount"),10);n.chars[v]&&(n.chars[v].kerning[g]=m)}return e.fonts[n.font]=n,n},n(e,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),e}(o.Container);r.default=u,u.fonts={}},{"../core":63,"../core/math/ObservablePoint":66}],131:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("../core/math/Matrix"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=new o.default,a=function(){function t(e,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._texture=e,this.mapCoord=new o.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===r?.5:r}return t.prototype.update=function(t){var e=this._texture;if(e&&e.valid&&(t||this._lastTextureID!==e._updateID)){this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=e.orig,i=e.trim;i&&(s.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(s));var o=e.baseTexture,a=this.uClampFrame,u=this.clampMargin/o.resolution,l=this.clampOffset;a[0]=(e._frame.x+u+l)/o.width,a[1]=(e._frame.y+u+l)/o.height,a[2]=(e._frame.x+e._frame.width-u+l)/o.width,a[3]=(e._frame.y+e._frame.height-u+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight}},n(t,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();r.default=a},{"../core/math/Matrix":65}],132:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("../core"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(o),a=t("../core/sprites/canvas/CanvasTinter"),u=n(a),l=t("./TextureTransform"),h=n(l),c=new s.Point,f=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return o.tileTransform=new s.TransformStatic,o._width=n,o._height=i,o._canvasPattern=null,o.uvTransform=r.transform||new h.default(r),o.pluginName="tilingSprite",o.uvRespectAnchor=!1,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture)},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var r=t.context,n=this.worldTransform,i=t.resolution,o=e.baseTexture,a=e.baseTexture.resolution,l=this.tilePosition.x/this.tileScale.x%e._frame.width,h=this.tilePosition.y/this.tileScale.y%e._frame.height;if(!this._canvasPattern){var c=new s.CanvasRenderTarget(e._frame.width,e._frame.height,a);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=u.default.getTintedTexture(this,this.tint)),c.context.drawImage(this.tintedTexture,0,0)):c.context.drawImage(o.source,-e._frame.x,-e._frame.y),this._canvasPattern=c.context.createPattern(c.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t.setBlendMode(this.blendMode),r.fillStyle=this._canvasPattern,r.scale(this.tileScale.x/a,this.tileScale.y/a);var f=this.anchor.x*-this._width,p=this.anchor.y*-this._height;this.uvRespectAnchor?(r.translate(l,h),r.fillRect(-l+f,-h+p,this._width/this.tileScale.x*a,this._height/this.tileScale.y*a)):(r.translate(l+f,h+p),r.fillRect(-l,-h,this._width/this.tileScale.x*a,this._height/this.tileScale.y*a))}},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,n)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),e||(this._localBoundsRect||(this._localBoundsRect=new s.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,c);var e=this._width,r=this._height,n=-e*this.anchor._x;if(c.x>n&&c.x<n+e){var i=-r*this.anchor._y;if(c.y>i&&c.y<i+r)return!0}return!1},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tileTransform=null,this.uvTransform=null},e.from=function(t,r,n){return new e(s.Texture.from(t),r,n)},e.fromFrame=function(t,r,n){var i=s.utils.TextureCache[t];if(!i)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(i,r,n)},e.fromImage=function(t,r,n,i,o){return new e(s.Texture.fromImage(t,i,o),r,n)},i(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),e}(s.Sprite);r.default=f},{"../core":63,"../core/sprites/canvas/CanvasTinter":102,"./TextureTransform":131}],133:[function(t,e,r){"use strict";var n=t("../core"),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(n),o=i.DisplayObject,s=new i.Matrix;o.prototype._cacheAsBitmap=!1,o.prototype._cacheData=!1;var a=function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(o.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new a),(e=this._cacheData).originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this._calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this._calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),o.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},o.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var r=this.getLocalBounds().clone();if(this._filters){var n=this._filters[0].padding;r.pad(n)}var o=t._activeRenderTarget,a=t.filterManager.filterStack,u=i.RenderTexture.create(0|r.width,0|r.height),l=s;l.tx=-r.x,l.ty=-r.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,u,!0,l,!0),t.bindRenderTarget(o),t.filterManager.filterStack=a,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var h=new i.Sprite(u);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-r.x/r.width,h.anchor.y=-r.y/r.height,h.alpha=e,h._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.updateTransform(),this.containsPoint=h.containsPoint.bind(h)}},o.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(t))},o.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),r=this.alpha;this.alpha=1;var n=t.context,o=i.RenderTexture.create(0|e.width,0|e.height),a=s;this.transform.localTransform.copy(a),a.invert(),a.tx-=e.x,a.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,o,!0,a,!1),t.context=n,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var u=new i.Sprite(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-e.x/e.width,u.anchor.y=-e.y/e.height,u._bounds=this._bounds,u.alpha=r,this.updateTransform(),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=u,this.containsPoint=u.containsPoint.bind(u)}},o.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},o.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},o.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null},o.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},{"../core":63}],134:[function(t,e,r){"use strict";var n=t("../core"),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(n);i.DisplayObject.prototype.name=null,i.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},{"../core":63}],135:[function(t,e,r){"use strict";var n=t("../core"),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(n);i.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new i.Point,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},{"../core":63}],136:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0,r.BitmapText=r.TilingSpriteRenderer=r.TilingSprite=r.AnimatedSprite=r.TextureTransform=void 0;var i=t("./TextureTransform");Object.defineProperty(r,"TextureTransform",{enumerable:!0,get:function(){return n(i).default}});var o=t("./AnimatedSprite");Object.defineProperty(r,"AnimatedSprite",{enumerable:!0,get:function(){return n(o).default}});var s=t("./TilingSprite");Object.defineProperty(r,"TilingSprite",{enumerable:!0,get:function(){return n(s).default}});var a=t("./webgl/TilingSpriteRenderer");Object.defineProperty(r,"TilingSpriteRenderer",{enumerable:!0,get:function(){return n(a).default}});var u=t("./BitmapText");Object.defineProperty(r,"BitmapText",{enumerable:!0,get:function(){return n(u).default}}),t("./cacheAsBitmap"),t("./getChildByName"),t("./getGlobalPosition")},{"./AnimatedSprite":129,"./BitmapText":130,"./TextureTransform":131,"./TilingSprite":132,"./cacheAsBitmap":133,"./getChildByName":134,"./getGlobalPosition":135,"./webgl/TilingSpriteRenderer":137}],137:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../../core"),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(n),o=t("../../core/const"),s=(t("path"),new i.Matrix),a=new Float32Array(4),u=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.shader=null,n.simpleShader=null,n.quad=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new i.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n\n    gl_FragColor = sample * color ;\n}\n"),this.simpleShader=new i.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n    gl_FragColor = sample * color;\n}\n"),this.renderer.bindVao(null),this.quad=new i.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e=this.renderer,r=this.quad;e.bindVao(r.vao);var n=r.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((n=r.uvs)[0]=n[6]=-t.anchor.x,n[1]=n[3]=-t.anchor.y,n[2]=n[4]=1-t.anchor.x,n[5]=n[7]=1-t.anchor.y),r.upload();var u=t._texture,l=u.baseTexture,h=t.tileTransform.localTransform,c=t.uvTransform,f=l.isPowerOfTwo&&u.frame.width===l.width&&u.frame.height===l.height;f&&(l._glTextures[e.CONTEXT_UID]?f=l.wrapMode!==o.WRAP_MODES.CLAMP:l.wrapMode===o.WRAP_MODES.CLAMP&&(l.wrapMode=o.WRAP_MODES.REPEAT));var p=f?this.simpleShader:this.shader;e.bindShader(p);var d=u.width,g=u.height,v=t._width,m=t._height;s.set(h.a*d/v,h.b*d/m,h.c*g/v,h.d*g/m,h.tx/v,h.ty/m),s.invert(),f?s.append(c.mapCoord):(p.uniforms.uMapCoord=c.mapCoord.toArray(!0),p.uniforms.uClampFrame=c.uClampFrame,p.uniforms.uClampOffset=c.uClampOffset),p.uniforms.uTransform=s.toArray(!0);var y=a;i.utils.hex2rgb(t.tint,y),y[3]=t.worldAlpha,p.uniforms.uColor=y,p.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),p.uniforms.uSampler=e.bindTexture(u),e.setBlendMode(t.blendMode),r.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(i.ObjectRenderer);r.default=u,i.WebGLRenderer.registerPlugin("tilingSprite",u)},{"../../core":63,"../../core/const":44,path:22}],138:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("../../core"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(o),a=t("./BlurXFilter"),u=n(a),l=t("./BlurYFilter"),h=n(l),c=function(t){function e(r,n,i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return a.blurXFilter=new u.default(r,n,i,o),a.blurYFilter=new h.default(r,n,i,o),a.padding=0,a.resolution=i||s.settings.RESOLUTION,a.quality=n||4,a.blur=r||8,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){var n=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,n,!0),this.blurYFilter.apply(t,n,r,!1),t.returnRenderTarget(n)},i(e,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}}]),e}(s.Filter);r.default=c},{"../../core":63,"./BlurXFilter":139,"./BlurYFilter":140}],139:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("../../core"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(o),a=t("./generateBlurVertSource"),u=n(a),l=t("./generateBlurFragSource"),h=n(l),c=t("./getMaxBlurKernelSize"),f=n(c),p=function(t){function e(r,n,i,o){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),o=o||5;var a=(0,u.default)(o,!0),l=(0,h.default)(o),c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,a,l));return c.resolution=i||s.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,o=(0,f.default)(i);this.vertexSrc=(0,u.default)(o,!0),this.fragmentSrc=(0,h.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var s=t.getRenderTarget(!0),a=e,l=s,c=0;c<this.passes-1;c++){t.applyFilter(this,a,l,!0);var p=l;l=a,a=p}t.applyFilter(this,a,r,n),t.returnRenderTarget(s)}},i(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(s.Filter);r.default=p},{"../../core":63,"./generateBlurFragSource":141,"./generateBlurVertSource":142,"./getMaxBlurKernelSize":143}],140:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("../../core"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(o),a=t("./generateBlurVertSource"),u=n(a),l=t("./generateBlurFragSource"),h=n(l),c=t("./getMaxBlurKernelSize"),f=n(c),p=function(t){function e(r,n,i,o){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),o=o||5;var a=(0,u.default)(o,!1),l=(0,h.default)(o),c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,a,l));return c.resolution=i||s.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,o=(0,f.default)(i);this.vertexSrc=(0,u.default)(o,!1),this.fragmentSrc=(0,h.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var s=t.getRenderTarget(!0),a=e,l=s,c=0;c<this.passes-1;c++){t.applyFilter(this,a,l,!0);var p=l;l=a,a=p}t.applyFilter(this,a,r,n),t.returnRenderTarget(s)}},i(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(s.Filter);r.default=p},{"../../core":63,"./generateBlurFragSource":141,"./generateBlurVertSource":142,"./getMaxBlurKernelSize":143}],141:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t){for(var e=n[t],r=e.length,o=i,s="",a=void 0,u=0;u<t;u++){var l="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",u);a=u,u>=r&&(a=t-u-1),l=l.replace("%value%",e[a]),s+=l,s+="\n"}return o=(o=o.replace("%blur%",s)).replace("%size%",t)};var n={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},i=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},{}],142:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t,e){var r=Math.ceil(t/2),i=n,o="",s=void 0;s=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var u=s.replace("%index%",a);u=u.replace("%sampleIndex%",a-(r-1)+".0"),o+=u,o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",t)};var n=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},{}],143:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;r>e;)r-=2;return r}},{}],144:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("../../core"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(i),s=(t("path"),function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n    vec4 result;\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    // Premultiply alpha again.\n    result.rgb *= result.a;\n\n    gl_FragColor = result;\n}\n"));return r.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._loadMatrix=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=Math.sqrt,o=1/3,s=i(o),a=r+(1-r)*o,u=o*(1-r)-s*n,l=o*(1-r)+s*n,h=o*(1-r)+s*n,c=r+o*(1-r),f=o*(1-r)-s*n,p=o*(1-r)-s*n,d=o*(1-r)+s*n,g=r+o*(1-r),v=[a,u,l,0,0,h,c,f,0,0,p,d,g,0,0,0,0,0,1,0];this._loadMatrix(v,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,n=-128*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=2*t/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,n,i){t=t||.2,e=e||.15;var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,u=((n=n||3375104)>>16&255)/255,l=(n>>8&255)/255,h=(255&n)/255,c=[.3,.59,.11,0,0,o,s,a,t,0,u,l,h,e,0,o-u,s-l,a-h,0,0];this._loadMatrix(c,i)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},n(e,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}}]),e}(o.Filter));r.default=s,s.prototype.grayscale=s.prototype.greyscale},{"../../core":63,path:22}],145:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("../../core"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(i),s=(t("path"),function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=new o.Matrix;r.renderable=!1;var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return s.maskSprite=r,s.maskMatrix=i,s.uniforms.mapSampler=r.texture,s.uniforms.filterMatrix=i,s.uniforms.scale={x:1,y:1},null!==n&&void 0!==n||(n=20),s.scale=new o.Point(n,n),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){var n=1/r.destinationFrame.width*(r.size.width/e.size.width);this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x*n,this.uniforms.scale.y=this.scale.y*n,t.applyFilter(this,e,r)},n(e,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(o.Filter));r.default=s},{"../../core":63,path:22}],146:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../../core"),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(n),o=(t("path"),function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.Filter));r.default=o},{"../../core":63,path:22}],147:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./fxaa/FXAAFilter");Object.defineProperty(r,"FXAAFilter",{enumerable:!0,get:function(){return n(i).default}});var o=t("./noise/NoiseFilter");Object.defineProperty(r,"NoiseFilter",{enumerable:!0,get:function(){return n(o).default}});var s=t("./displacement/DisplacementFilter");Object.defineProperty(r,"DisplacementFilter",{enumerable:!0,get:function(){return n(s).default}});var a=t("./blur/BlurFilter");Object.defineProperty(r,"BlurFilter",{enumerable:!0,get:function(){return n(a).default}});var u=t("./blur/BlurXFilter");Object.defineProperty(r,"BlurXFilter",{enumerable:!0,get:function(){return n(u).default}});var l=t("./blur/BlurYFilter");Object.defineProperty(r,"BlurYFilter",{enumerable:!0,get:function(){return n(l).default}});var h=t("./colormatrix/ColorMatrixFilter");Object.defineProperty(r,"ColorMatrixFilter",{enumerable:!0,get:function(){return n(h).default}});var c=t("./void/VoidFilter");Object.defineProperty(r,"VoidFilter",{enumerable:!0,get:function(){return n(c).default}})},{"./blur/BlurFilter":138,"./blur/BlurXFilter":139,"./blur/BlurYFilter":140,"./colormatrix/ColorMatrixFilter":144,"./displacement/DisplacementFilter":145,"./fxaa/FXAAFilter":146,"./noise/NoiseFilter":148,"./void/VoidFilter":149}],148:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("../../core"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(i),s=(t("path"),function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(gl_FragCoord.xy) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n"));return r.noise=.5,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"noise",get:function(){return this.uniforms.noise},set:function(t){this.uniforms.noise=t}}]),e}(o.Filter));r.default=s},{"../../core":63,path:22}],149:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../../core"),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(n),o=(t("path"),function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"));return r.glShaderKey="void",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.Filter));r.default=o},{"../../core":63,path:22}],150:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../core"),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(n),o=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.global=new i.Point,this.target=null,this.originalEvent=null,this.identifier=null}return t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t}();r.default=o},{"../core":63}],151:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype._reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();r.default=n},{}],152:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=t("../core"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(o),a=t("./InteractionData"),u=n(a),l=t("./InteractionEvent"),h=n(l),c=t("./InteractionTrackingData"),f=n(c),p=t("eventemitter3"),d=n(p),g=t("./interactiveTarget"),v=n(g);s.utils.mixins.delayMixin(s.DisplayObject.prototype,v.default);var m="MOUSE",y=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n=n||{},i.renderer=r,i.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new u.default,i.mouse.identifier=m,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[m]=i.mouse,i.interactionDataPool=[],i.eventData=new h.default,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i._tempPoint=new s.Point,i.resolution=1,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(s.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0))),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(s.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?"undefined":i(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}}},e.prototype.dispatchEvent=function(t,e,r){r.stopped||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.mapPositionToPoint=function(t,e,r){var n=void 0;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*i,t.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*i},e.prototype.processInteractive=function(t,e,r,n,i){if(!e||!e.visible)return!1;var o=t.data.global,s=0,a=i=e.interactive||i;if(e.hitArea?a=!1:n&&e._mask&&(e._mask.containsPoint(o)||(n=!1)),e.interactiveChildren&&e.children)for(var u=e.children,l=u.length-1;l>=0;l--){var h=u[l],c=this.processInteractive(t,h,r,n,a);if(c){if(!h.parent)continue;a=!1,2===c?(n=!1,s=2):0===s&&(s=1)}}return i&&(n&&2!==s&&(e.hitArea?(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)&&(s=e.interactive?2:1)):e.containsPoint&&e.containsPoint(o)&&(s=e.interactive?2:1)),e.interactive&&(s&&!t.target&&(t.target=e),r(t,e,!!s))),s},e.prototype.onPointerDown=function(t){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===i.pointerType)this.emit("touchstart",s);else if("mouse"===i.pointerType){var a=2===i.button||3===i.which;this.emit(a?"rightdown":"mousedown",this.eventData)}}},e.prototype.processPointerDown=function(t,e,r){var n=t.data.originalEvent,i=t.data.identifier;if(r)if(e.trackedPointers[i]||(e.trackedPointers[i]=new f.default(i)),this.dispatchEvent(e,"pointerdown",t),"touchstart"===n.type||"touch"===n.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mousedown"===n.type||"mouse"===n.pointerType){var o=2===n.button||3===n.which;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var n=this.normalizeToPointerData(t),i=n.length,o=0;o<i;o++){var s=n[o],a=this.getInteractionDataForPointerId(s),u=this.configureInteractionEventForDOMEvent(this.eventData,s,a);if(u.data.originalEvent=t,this.processInteractive(u,this.renderer._lastObjectRendered,r,!0),this.emit(e?"pointercancel":"pointerup",u),"mouse"===s.pointerType){var l=2===s.button||3===s.which;this.emit(l?"rightup":"mouseup",u)}else"touch"===s.pointerType&&(this.emit(e?"touchcancel":"touchend",u),this.releaseInteractionDataForPointerId(s.pointerId,a))}},e.prototype.onPointerCancel=function(t){this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data.originalEvent,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touchcancel"!==r.type&&"touch"!==r.pointerType||this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var n=t.data.originalEvent,i=t.data.identifier,o=e.trackedPointers[i],s="touchend"===n.type||"touch"===n.pointerType,a=0===n.type.indexOf("mouse")||"mouse"===n.pointerType;if(a){var u=2===n.button||3===n.which,l=f.default.FLAGS,h=u?l.RIGHT_DOWN:l.LEFT_DOWN,c=void 0!==o&&o.flags&h;r?(this.dispatchEvent(e,u?"rightup":"mouseup",t),c&&this.dispatchEvent(e,u?"rightclick":"click",t)):c&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){var e=this.normalizeToPointerData(t);"mouse"===e[0].pointerType&&(this.didMove=!0,this.cursor=null);for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);s.data.originalEvent=t;var a="touch"!==i.pointerType||this.moveWhenInside;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,a),this.emit("pointermove",s),"touch"===i.pointerType&&this.emit("touchmove",s),"mouse"===i.pointerType&&this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)},e.prototype.processPointerMove=function(t,e,r){var n=t.data.originalEvent,i="touchmove"===n.type||"touch"===n.pointerType,o="mousemove"===n.type||"mouse"===n.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){var e=this.normalizeToPointerData(t),r=e[0];"mouse"===r.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(r),i=this.configureInteractionEventForDOMEvent(this.eventData,r,n);i.data.originalEvent=r,this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===r.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(n.identifier)},e.prototype.processPointerOverOut=function(t,e,r){var n=t.data.originalEvent,i=t.data.identifier,o="mouseover"===n.type||"mouseout"===n.type||"mouse"===n.pointerType,s=e.trackedPointers[i];r&&!s&&(s=e.trackedPointers[i]=new f.default(i)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t),r=e[0],n=this.getInteractionDataForPointerId(r),i=this.configureInteractionEventForDOMEvent(this.eventData,r,n);i.data.originalEvent=r,"mouse"===r.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"===r.pointerType&&this.emit("mouseover",i)},e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId;if(e===m||"mouse"===t.pointerType)return this.mouse;if(this.activeInteractionData[e])return this.activeInteractionData[e];var r=this.interactionDataPool.pop()||new u.default;return r.identifier=e,this.activeInteractionData[e]=r,r},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(r.global.x=r.global.x/this.resolution,r.global.y=r.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t._reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,n=t.changedTouches.length;r<n;r++){var i=t.changedTouches[r];void 0===i.button&&(i.button=t.touches.length?1:0),void 0===i.buttons&&(i.buttons=t.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),void 0===i.rotation&&(i.rotation=i.rotationAngle||0),void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=m),void 0===t.pressure&&(t.pressure=.5),void 0===t.rotation&&(t.rotation=0),t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(d.default);r.default=y,s.WebGLRenderer.registerPlugin("interaction",y),s.CanvasRenderer.registerPlugin("interaction",y)},{"../core":63,"./InteractionData":150,"./InteractionEvent":151,"./InteractionTrackingData":153,"./interactiveTarget":155,eventemitter3:3}],153:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},n(t,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();r.default=i,i.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},{}],154:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./InteractionData");Object.defineProperty(r,"InteractionData",{enumerable:!0,get:function(){return n(i).default}});var o=t("./InteractionManager");Object.defineProperty(r,"InteractionManager",{enumerable:!0,get:function(){return n(o).default}});var s=t("./interactiveTarget");Object.defineProperty(r,"interactiveTarget",{enumerable:!0,get:function(){return n(s).default}})},{"./InteractionData":150,"./InteractionManager":152,"./interactiveTarget":155}],155:[function(t,e,r){"use strict";r.__esModule=!0,r.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},{}],156:[function(t,e,r){"use strict";function n(t,e){t.bitmapFont=u.BitmapText.registerFont(t.data,e)}r.__esModule=!0,r.parse=n,r.default=function(){return function(t,e){if(t.data&&t.type===a.Resource.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var r=t.isDataUrl?"":o.dirname(t.url);t.isDataUrl&&("."===r&&(r=""),this.baseUrl&&r&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/"),r=r.replace(this.baseUrl,""))),r&&"/"!==r.charAt(r.length-1)&&(r+="/");var i=r+t.data.getElementsByTagName("page")[0].getAttribute("file");if(s.utils.TextureCache[i])n(t,s.utils.TextureCache[i]),e();else{var u={crossOrigin:t.crossOrigin,loadType:a.Resource.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata,parentResource:t};this.add(t.name+"_image",i,u,function(r){n(t,r.texture),e()})}}else e();else e()}};var i=t("path"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(i),s=t("../core"),a=t("resource-loader"),u=t("../extras")},{"../core":63,"../extras":136,path:22,"resource-loader":34}],157:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./loader");Object.defineProperty(r,"Loader",{enumerable:!0,get:function(){return n(i).default}});var o=t("./bitmapFontParser");Object.defineProperty(r,"bitmapFontParser",{enumerable:!0,get:function(){return n(o).default}}),Object.defineProperty(r,"parseBitmapFontData",{enumerable:!0,get:function(){return o.parse}});var s=t("./spritesheetParser");Object.defineProperty(r,"spritesheetParser",{enumerable:!0,get:function(){return n(s).default}});var a=t("./textureParser");Object.defineProperty(r,"textureParser",{enumerable:!0,get:function(){return n(a).default}});var u=t("resource-loader");Object.defineProperty(r,"Resource",{enumerable:!0,get:function(){return u.Resource}})},{"./bitmapFontParser":156,"./loader":158,"./spritesheetParser":159,"./textureParser":160,"resource-loader":34}],158:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("resource-loader"),o=n(i),s=t("resource-loader/lib/middlewares/parsing/blob"),a=t("eventemitter3"),u=n(a),l=t("./textureParser"),h=n(l),c=t("./spritesheetParser"),f=n(c),p=t("./bitmapFontParser"),d=n(p),g=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,n));u.default.call(i);for(var o=0;o<e._pixiMiddleware.length;++o)i.use(e._pixiMiddleware[o]());return i.onStart.add(function(t){return i.emit("start",t)}),i.onProgress.add(function(t,e){return i.emit("progress",t,e)}),i.onError.add(function(t,e,r){return i.emit("error",t,e,r)}),i.onLoad.add(function(t,e){return i.emit("load",t,e)}),i.onComplete.add(function(t,e){return i.emit("complete",t,e)}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e}(o.default);for(var v in r.default=g,u.default.prototype)g.prototype[v]=u.default.prototype[v];g._pixiMiddleware=[s.blobMiddlewareFactory,h.default,f.default,d.default];var m=o.default.Resource;m.setExtensionXhrType("fnt",m.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":156,"./spritesheetParser":159,"./textureParser":160,eventemitter3:3,"resource-loader":34,"resource-loader/lib/middlewares/parsing/blob":35}],159:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(){return function(t,e){var r=void 0,i=t.name+"_image";if(t.data&&t.type===n.Resource.TYPE.JSON&&t.data.frames&&!this.resources[i]){var a={crossOrigin:t.crossOrigin,loadType:n.Resource.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata,parentResource:t};r=t.isDataUrl?t.data.meta.image:o.default.dirname(t.url.replace(this.baseUrl,""))+"/"+t.data.meta.image,this.add(i,r,a,function(r){var n=new s.Spritesheet(r.texture.baseTexture,t.data,t.url);n.parse(function(){t.spritesheet=n,t.textures=n.textures,e()})})}else e()}};var n=t("resource-loader"),i=t("path"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=t("../core")},{"../core":63,path:22,"resource-loader":34}],160:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(){return function(t,e){t.data&&t.type===n.Resource.TYPE.IMAGE&&(t.texture=o.default.fromLoader(t.data,t.url,t.name)),e()}};var n=t("resource-loader"),i=t("../core/textures/Texture"),o=function(t){return t&&t.__esModule?t:{default:t}}(i)},{"../core/textures/Texture":112,"resource-loader":34}],161:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("../core"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(i),s=new o.Point,a=new o.Polygon,u=function(t){function e(r,n,i,s,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return u._texture=null,u.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),u.vertices=n||new Float32Array([0,0,100,0,100,100,0,100]),u.indices=s||new Uint16Array([0,1,3,2]),u.dirty=0,u.indexDirty=0,u.blendMode=o.BLEND_MODES.NORMAL,u.canvasPadding=0,u.drawMode=a||e.DRAW_MODES.TRIANGLE_MESH,u.texture=r,u.shader=null,u.tintRgb=new Float32Array([1,1,1]),u._glDatas={},u.pluginName="mesh",u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,s);for(var r=this.vertices,n=a.points,i=this.indices,o=this.indices.length,u=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,l=0;l+2<o;l+=u){var h=2*i[l],c=2*i[l+1],f=2*i[l+2];if(n[0]=r[h],n[1]=r[h+1],n[2]=r[c],n[3]=r[c+1],n[4]=r[f],n[5]=r[f+1],a.contains(s.x,s.y))return!0}return!1},n(e,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return o.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=o.utils.hex2rgb(t,this.tintRgb)}}]),e}(o.Container);r.default=u,u.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":63}],162:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("./Plane"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=10,a=function(t){function e(r,n,i,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,4,4)),l=u.uvs;return l[6]=l[14]=l[22]=l[30]=1,l[25]=l[27]=l[29]=l[31]=1,u._origWidth=r.width,u._origHeight=r.height,u._uvw=1/u._origWidth,u._uvh=1/u._origHeight,u.width=r.width,u.height=r.height,l[2]=l[10]=l[18]=l[26]=u._uvw*n,l[4]=l[12]=l[20]=l[28]=1-u._uvw*o,l[9]=l[11]=l[13]=l[15]=u._uvh*i,l[17]=l[19]=l[21]=l[23]=1-u._uvh*a,u.leftWidth=void 0!==n?n:s,u.rightWidth=void 0!==o?o:s,u.topHeight=void 0!==i?i:s,u.bottomHeight=void 0!==a?a:s,u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices;t[9]=t[11]=t[13]=t[15]=this._topHeight,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices;t[2]=t[10]=t[18]=t[26]=this._leftWidth,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this.worldAlpha;var r=this.worldTransform,n=t.resolution;t.roundPixels?e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n|0,r.ty*n|0):e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n);var i=this._texture.baseTexture,o=i.source,s=i.width,a=i.height;this.drawSegment(e,o,s,a,0,1,10,11),this.drawSegment(e,o,s,a,2,3,12,13),this.drawSegment(e,o,s,a,4,5,14,15),this.drawSegment(e,o,s,a,8,9,18,19),this.drawSegment(e,o,s,a,10,11,20,21),this.drawSegment(e,o,s,a,12,13,22,23),this.drawSegment(e,o,s,a,16,17,26,27),this.drawSegment(e,o,s,a,18,19,28,29),this.drawSegment(e,o,s,a,20,21,30,31)},e.prototype.drawSegment=function(t,e,r,n,i,o,s,a){var u=this.uvs,l=this.vertices,h=(u[s]-u[i])*r,c=(u[a]-u[o])*n,f=l[s]-l[i],p=l[a]-l[o];h<1&&(h=1),c<1&&(c=1),f<1&&(f=1),p<1&&(p=1),t.drawImage(e,u[i]*r,u[o]*n,h,c,l[i],l[o],f,p)},n(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this.updateVerticalVertices()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this.updateHorizontalVertices()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t;var e=this.uvs,r=this.vertices;e[2]=e[10]=e[18]=e[26]=this._uvw*t,r[2]=r[10]=r[18]=r[26]=t,this.dirty=!0}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t;var e=this.uvs,r=this.vertices;e[4]=e[12]=e[20]=e[28]=1-this._uvw*t,r[4]=r[12]=r[20]=r[28]=this._width-t,this.dirty=!0}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t;var e=this.uvs,r=this.vertices;e[9]=e[11]=e[13]=e[15]=this._uvh*t,r[9]=r[11]=r[13]=r[15]=t,this.dirty=!0}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t;var e=this.uvs,r=this.vertices;e[17]=e[19]=e[21]=e[23]=1-this._uvh*t,r[17]=r[19]=r[21]=r[23]=this._height-t,this.dirty=!0}}]),e}(o.default);r.default=a},{"./Plane":163}],163:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./Mesh"),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=function(t){function e(r,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return s._ready=!0,s.verticesX=n||10,s.verticesY=o||10,s.drawMode=i.default.DRAW_MODES.TRIANGLES,s.refresh(),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.refresh=function(){for(var t=this.verticesX*this.verticesY,e=[],r=[],n=[],i=this.texture,o=this.verticesX-1,s=this.verticesY-1,a=i.width/o,u=i.height/s,l=0;l<t;l++)if(i._uvs){var h=l%this.verticesX,c=l/this.verticesX|0;e.push(h*a,c*u),r.push(i._uvs.x0+(i._uvs.x1-i._uvs.x0)*(h/(this.verticesX-1)),i._uvs.y0+(i._uvs.y3-i._uvs.y0)*(c/(this.verticesY-1)))}else r.push(0);for(var f=o*s,p=0;p<f;p++){var d=p%o,g=p/o|0,v=g*this.verticesX+d,m=g*this.verticesX+d+1,y=(g+1)*this.verticesX+d,x=(g+1)*this.verticesX+d+1;n.push(v,m,y),n.push(m,x,y)}this.vertices=new Float32Array(e),this.uvs=new Float32Array(r),this.colors=new Float32Array([]),this.indices=new Uint16Array(n),this.indexDirty=!0},e.prototype._onTextureUpdate=function(){i.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(i.default);r.default=o},{"./Mesh":161}],164:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("./Mesh"),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=t("../core"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(o),a=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.points=n,i.vertices=new Float32Array(4*n.length),i.uvs=new Float32Array(4*n.length),i.colors=new Float32Array(2*n.length),i.indices=new Uint16Array(2*n.length),i._ready=!0,i.refresh(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,r=this.indices,n=this.colors,i=this._texture._uvs,o=new s.Point(i.x0,i.y0),a=new s.Point(i.x2-i.x0,Number(i.y2-i.y0));e[0]=0+o.x,e[1]=0+o.y,e[2]=0+o.x,e[3]=a.y+o.y,n[0]=1,n[1]=1,r[0]=0,r[1]=1;for(var u=t.length,l=1;l<u;l++){var h=4*l,c=l/(u-1);e[h]=c*a.x+o.x,e[h+1]=0+o.y,e[h+2]=c*a.x+o.x,e[h+3]=a.y+o.y,n[h=2*l]=1,n[h+1]=1,r[h=2*l]=h,r[h+1]=h+1}this.dirty++,this.indexDirty++}},e.prototype._onTextureUpdate=function(){t.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e.prototype.updateTransform=function(){var t=this.points;if(!(t.length<1)){for(var e=t[0],r=void 0,n=0,i=0,o=this.vertices,s=t.length,a=0;a<s;a++){var u=t[a],l=4*a;r=a<t.length-1?t[a+1]:u,i=-(r.x-e.x),n=r.y-e.y;var h=10*(1-a/(s-1));h>1&&(h=1);var c=Math.sqrt(n*n+i*i),f=this._texture.height/2;n/=c,i/=c,n*=f,i*=f,o[l]=u.x+n,o[l+1]=u.y+i,o[l+2]=u.x-n,o[l+3]=u.y-i,e=u}this.containerUpdateTransform()}},e}(i.default);r.default=a},{"../core":63,"./Mesh":161}],165:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../../core"),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(n),o=t("../Mesh"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldTransform,i=e.resolution;e.roundPixels?r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i|0,n.ty*i|0):r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),e.setBlendMode(t.blendMode),t.drawMode===s.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,r=0;r<e-2;r++){var n=2*r;this._renderDrawTriangle(t,n,n+2,n+4)}},t.prototype._renderTriangles=function(t){for(var e=t.indices,r=e.length,n=0;n<r;n+=3){var i=2*e[n],o=2*e[n+1],s=2*e[n+2];this._renderDrawTriangle(t,i,o,s)}},t.prototype._renderDrawTriangle=function(t,e,r,n){var i=this.renderer.context,o=t.uvs,s=t.vertices,a=t._texture;if(a.valid){var u=a.baseTexture,l=u.source,h=u.width,c=u.height,f=o[e]*u.width,p=o[r]*u.width,d=o[n]*u.width,g=o[e+1]*u.height,v=o[r+1]*u.height,m=o[n+1]*u.height,y=s[e],x=s[r],b=s[n],_=s[e+1],w=s[r+1],T=s[n+1];if(t.canvasPadding>0){var E=t.canvasPadding/t.worldTransform.a,S=t.canvasPadding/t.worldTransform.d,A=(y+x+b)/3,C=(_+w+T)/3,M=y-A,R=_-C,O=Math.sqrt(M*M+R*R);y=A+M/O*(O+E),_=C+R/O*(O+S),M=x-A,R=w-C,O=Math.sqrt(M*M+R*R),x=A+M/O*(O+E),w=C+R/O*(O+S),M=b-A,R=T-C,O=Math.sqrt(M*M+R*R),b=A+M/O*(O+E),T=C+R/O*(O+S)}i.save(),i.beginPath(),i.moveTo(y,_),i.lineTo(x,w),i.lineTo(b,T),i.closePath(),i.clip();var P=f*v+g*d+p*m-v*d-g*p-f*m,D=y*v+g*b+x*m-v*b-g*x-y*m,I=f*x+y*d+p*b-x*d-y*p-f*b,L=f*v*b+g*x*d+y*p*m-y*v*d-g*p*b-f*x*m,F=_*v+g*T+w*m-v*T-g*w-_*m,k=f*w+_*d+p*T-w*d-_*p-f*T,B=f*v*T+g*w*d+_*p*m-_*v*d-g*p*T-f*w*m;i.transform(D/P,F/P,I/P,k/P,L/P,B/P),i.drawImage(l,0,0,h*u.resolution,c*u.resolution,0,0,h,c),i.restore()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,r=t.vertices,n=r.length/2;e.beginPath();for(var i=1;i<n-2;++i){var o=2*i,s=r[o],a=r[o+1],u=r[o+2],l=r[o+3],h=r[o+4],c=r[o+5];e.moveTo(s,a),e.lineTo(u,l),e.lineTo(h,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();r.default=a,i.CanvasRenderer.registerPlugin("mesh",a)},{"../../core":63,"../Mesh":161}],166:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./Mesh");Object.defineProperty(r,"Mesh",{enumerable:!0,get:function(){return n(i).default}});var o=t("./webgl/MeshRenderer");Object.defineProperty(r,"MeshRenderer",{enumerable:!0,get:function(){return n(o).default}});var s=t("./canvas/CanvasMeshRenderer");Object.defineProperty(r,"CanvasMeshRenderer",{enumerable:!0,get:function(){return n(s).default}});var a=t("./Plane");Object.defineProperty(r,"Plane",{enumerable:!0,get:function(){return n(a).default}});var u=t("./NineSlicePlane");Object.defineProperty(r,"NineSlicePlane",{enumerable:!0,get:function(){return n(u).default}});var l=t("./Rope");Object.defineProperty(r,"Rope",{enumerable:!0,get:function(){return n(l).default}})},{"./Mesh":161,"./NineSlicePlane":162,"./Plane":163,"./Rope":164,"./canvas/CanvasMeshRenderer":165,"./webgl/MeshRenderer":167}],167:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("../../core"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(i),s=t("pixi-gl-core"),a=n(s),u=t("../Mesh"),l=n(u),h=(t("path"),function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.shader=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new o.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n}\n","varying vec2 vTextureCoord;\nuniform float alpha;\nuniform vec3 tint;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * vec4(tint * alpha, alpha);\n}\n")},e.prototype.render=function(t){var e=this.renderer,r=e.gl,n=t._texture;if(n.valid){var i=t._glDatas[e.CONTEXT_UID];i||(e.bindVao(null),(i={shader:this.shader,vertexBuffer:a.default.GLBuffer.createVertexBuffer(r,t.vertices,r.STREAM_DRAW),uvBuffer:a.default.GLBuffer.createVertexBuffer(r,t.uvs,r.STREAM_DRAW),indexBuffer:a.default.GLBuffer.createIndexBuffer(r,t.indices,r.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty}).vao=new a.default.VertexArrayObject(r).addIndex(i.indexBuffer).addAttribute(i.vertexBuffer,i.shader.attributes.aVertexPosition,r.FLOAT,!1,8,0).addAttribute(i.uvBuffer,i.shader.attributes.aTextureCoord,r.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=i),e.bindVao(i.vao),t.dirty!==i.dirty&&(i.dirty=t.dirty,i.uvBuffer.upload(t.uvs)),t.indexDirty!==i.indexDirty&&(i.indexDirty=t.indexDirty,i.indexBuffer.upload(t.indices)),i.vertexBuffer.upload(t.vertices),e.bindShader(i.shader),i.shader.uniforms.uSampler=e.bindTexture(n),e.state.setBlendMode(t.blendMode),i.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),i.shader.uniforms.alpha=t.worldAlpha,i.shader.uniforms.tint=t.tintRgb;var o=t.drawMode===l.default.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;i.vao.draw(o,t.indices.length,0)}},e}(o.ObjectRenderer));r.default=h,o.WebGLRenderer.registerPlugin("mesh",h)},{"../../core":63,"../Mesh":161,path:22,"pixi-gl-core":12}],168:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../core"),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(n),o=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,n=arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o>16384&&(o=16384),o>r&&(o=r),s._properties=[!1,!0,!1,!1,!1],s._maxSize=r,s._batchSize=o,s._glBuffers={},s._bufferToUpdate=0,s.interactiveChildren=!1,s.blendMode=i.BLEND_MODES.NORMAL,s.roundPixels=!0,s.baseTexture=null,s.setProperties(n),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="scale"in t?!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="alpha"in t?!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){var e=Math.floor(t/this._batchSize);e<this._bufferToUpdate&&(this._bufferToUpdate=e)},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,n=!0,i=0,o=0,s=0,a=0,u=t.blendModes[this.blendMode];u!==e.globalCompositeOperation&&(e.globalCompositeOperation=u),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var l=0;l<this.children.length;++l){var h=this.children[l];if(h.visible){var c=h._texture.frame;if(e.globalAlpha=this.worldAlpha*h.alpha,h.rotation%(2*Math.PI)==0)n&&(e.setTransform(r.a,r.b,r.c,r.d,r.tx*t.resolution,r.ty*t.resolution),n=!1),i=h.anchor.x*(-c.width*h.scale.x)+h.position.x+.5,o=h.anchor.y*(-c.height*h.scale.y)+h.position.y+.5,s=c.width*h.scale.x,a=c.height*h.scale.y;else{n||(n=!0),h.displayObjectUpdateTransform();var f=h.worldTransform;t.roundPixels?e.setTransform(f.a,f.b,f.c,f.d,f.tx*t.resolution|0,f.ty*t.resolution|0):e.setTransform(f.a,f.b,f.c,f.d,f.tx*t.resolution,f.ty*t.resolution),i=h.anchor.x*-c.width+.5,o=h.anchor.y*-c.height+.5,s=c.width,a=c.height}var p=h._texture.baseTexture.resolution;e.drawImage(h._texture.baseTexture.source,c.x*p,c.y*p,c.width*p,c.height*p,i*p,o*p,s*p,a*p)}}}},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._properties=null,this._buffers=null},e}(i.Container);r.default=o},{"../core":63}],169:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./ParticleContainer");Object.defineProperty(r,"ParticleContainer",{enumerable:!0,get:function(){return n(i).default}});var o=t("./webgl/ParticleRenderer");Object.defineProperty(r,"ParticleRenderer",{enumerable:!0,get:function(){return n(o).default}})},{"./ParticleContainer":168,"./webgl/ParticleRenderer":171}],170:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("pixi-gl-core"),o=n(i),s=t("../../core/utils/createIndicesForQuads"),a=n(s),u=function(){function t(e,r,n,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.gl=e,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<r.length;++o){var s=r[o];s={attribute:s.attribute,size:s.size,uploadFunction:s.uploadFunction,offset:s.offset},n[o]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,a.default)(this.size),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var n=this.dynamicProperties[r];n.offset=e,e+=n.size,this.dynamicStride+=n.size}this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=o.default.GLBuffer.createVertexBuffer(t,this.dynamicData,t.STREAM_DRAW);var i=0;this.staticStride=0;for(var s=0;s<this.staticProperties.length;++s){var u=this.staticProperties[s];u.offset=i,i+=u.size,this.staticStride+=u.size}this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=o.default.GLBuffer.createVertexBuffer(t,this.staticData,t.STATIC_DRAW),this.vao=new o.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var l=0;l<this.dynamicProperties.length;++l){var h=this.dynamicProperties[l];this.vao.addAttribute(this.dynamicBuffer,h.attribute,t.FLOAT,!1,4*this.dynamicStride,4*h.offset)}for(var c=0;c<this.staticProperties.length;++c){var f=this.staticProperties[c];this.vao.addAttribute(this.staticBuffer,f.attribute,t.FLOAT,!1,4*this.staticStride,4*f.offset)}},t.prototype.uploadDynamic=function(t,e,r){for(var n=0;n<this.dynamicProperties.length;n++){var i=this.dynamicProperties[n];i.uploadFunction(t,e,r,this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,r){for(var n=0;n<this.staticProperties.length;n++){var i=this.staticProperties[n];i.uploadFunction(t,e,r,this.staticData,this.staticStride,i.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.dynamicBuffer.destroy(),this.staticProperties=null,this.staticData=null,this.staticBuffer.destroy()},t}();r.default=u},{"../../core/utils/createIndicesForQuads":118,"pixi-gl-core":12}],171:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("../../core"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(i),s=t("./ParticleShader"),a=n(s),u=t("./ParticleBuffer"),l=n(u),h=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.shader=null,n.indexBuffer=null,n.properties=null,n.tempMatrix=new o.Matrix,n.CONTEXT_UID=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new a.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e=t.children,r=t._maxSize,n=t._batchSize,i=this.renderer,o=e.length;if(0!==o){o>r&&(o=r);var s=t._glBuffers[i.CONTEXT_UID];s||(s=t._glBuffers[i.CONTEXT_UID]=this.generateBuffers(t)),this.renderer.setBlendMode(t.blendMode);var a=i.gl,u=t.worldTransform.copy(this.tempMatrix);u.prepend(i._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=u.toArray(!0),this.shader.uniforms.uAlpha=t.worldAlpha;var l=e[0]._texture.baseTexture;this.shader.uniforms.uSampler=i.bindTexture(l);for(var h=0,c=0;h<o;h+=n,c+=1){var f=o-h;f>n&&(f=n);var p=s[c];p.uploadDynamic(e,h,f),t._bufferToUpdate===c&&(p.uploadStatic(e,h,f),t._bufferToUpdate=c+1),i.bindVao(p.vao),p.vao.draw(a.TRIANGLES,6*f)}}},e.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,r=[],n=t._maxSize,i=t._batchSize,o=t._properties,s=0;s<n;s+=i)r.push(new l.default(e,this.properties,o,i));return r},e.prototype.uploadVertices=function(t,e,r,n,i,o){for(var s=0,a=0,u=0,l=0,h=0;h<r;++h){var c=t[e+h],f=c._texture,p=c.scale.x,d=c.scale.y,g=f.trim,v=f.orig;g?(a=g.x-c.anchor.x*v.width,s=a+g.width,l=g.y-c.anchor.y*v.height,u=l+g.height):(s=v.width*(1-c.anchor.x),a=v.width*-c.anchor.x,u=v.height*(1-c.anchor.y),l=v.height*-c.anchor.y),n[o]=a*p,n[o+1]=l*d,n[o+i]=s*p,n[o+i+1]=l*d,n[o+2*i]=s*p,n[o+2*i+1]=u*d,n[o+3*i]=a*p,n[o+3*i+1]=u*d,o+=4*i}},e.prototype.uploadPosition=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].position;n[o]=a.x,n[o+1]=a.y,n[o+i]=a.x,n[o+i+1]=a.y,n[o+2*i]=a.x,n[o+2*i+1]=a.y,n[o+3*i]=a.x,n[o+3*i+1]=a.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;n[o]=a,n[o+i]=a,n[o+2*i]=a,n[o+3*i]=a,o+=4*i}},e.prototype.uploadUvs=function(t,e,r,n,i,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(n[o]=a.x0,n[o+1]=a.y0,n[o+i]=a.x1,n[o+i+1]=a.y1,n[o+2*i]=a.x2,n[o+2*i+1]=a.y2,n[o+3*i]=a.x3,n[o+3*i+1]=a.y3,o+=4*i):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadAlpha=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].alpha;n[o]=a,n[o+i]=a,n[o+2*i]=a,n[o+3*i]=a,o+=4*i}},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(o.ObjectRenderer);r.default=h,o.WebGLRenderer.registerPlugin("particle",h)},{"../../core":63,"./ParticleBuffer":170,"./ParticleShader":172}],172:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../../core/Shader"),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=function(t){function e(r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.default);r.default=o},{"../../core/Shader":42}],173:[function(t,e,r){"use strict";Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1})},{}],174:[function(t,e,r){"use strict";var n=t("object-assign"),i=function(t){return t&&t.__esModule?t:{default:t}}(n);Object.assign||(Object.assign=i.default)},{"object-assign":5}],175:[function(t,e,r){"use strict";t("./Object.assign"),t("./requestAnimationFrame"),t("./Math.sign"),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},{"./Math.sign":173,"./Object.assign":174,"./requestAnimationFrame":176}],176:[function(t,r,n){(function(t){"use strict";Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),t.performance&&t.performance.now||function(){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}();for(var e=Date.now(),r=["ms","moz","webkit","o"],n=0;n<r.length&&!t.requestAnimationFrame;++n){var i=r[n];t.requestAnimationFrame=t[i+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i+"CancelAnimationFrame"]||t[i+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var r=Date.now(),n=16+e-r;return n<0&&(n=0),e=r,setTimeout(function(){e=Date.now(),t(performance.now())},n)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],177:[function(t,e,r){"use strict";function n(t,e){return e instanceof u.Text&&(e.updateText(!0),!0)}function i(t,e){if(e instanceof u.TextStyle){var r=u.Text.getFontStyle(e);return u.Text.fontPropertiesCache[r]||u.Text.calculateFontProperties(r),!0}return!1}function o(t,e){if(t instanceof u.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function s(t,e){return t instanceof u.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}r.__esModule=!0;var a=t("../core"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(a),l=t("./limiters/CountLimiter"),h=function(t){return t&&t.__esModule?t:{default:t}}(l),c=u.ticker.shared;u.settings.UPLOADS_PER_FRAME=4;var f=function(){function t(e){var r=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.limiter=new h.default(u.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.register(o,n),this.register(s,i)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,c.addOnce(this.tick,this))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)c.addOnce(this.tick,this);else{this.ticking=!1;var i=this.completes.slice(0);this.completes.length=0;for(var o=0,s=i.length;o<s;o++)i[o]()}},t.prototype.register=function(t,e){return t&&this.addHooks.push(t),e&&this.uploadHooks.push(e),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof u.Container)for(var n=t.children.length-1;n>=0;n--)this.add(t.children[n]);return this},t.prototype.destroy=function(){this.ticking&&c.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();r.default=f},{"../core":63,"./limiters/CountLimiter":180}],178:[function(t,e,r){"use strict";function n(t,e){if(e instanceof s.BaseTexture){var r=e.source,n=0===r.width?t.canvas.width:Math.min(t.canvas.width,r.width),i=0===r.height?t.canvas.height:Math.min(t.canvas.height,r.height);return t.ctx.drawImage(r,0,0,n,i,0,0,t.canvas.width,t.canvas.height),!0}return!1}function i(t,e){if(t instanceof s.BaseTexture)return-1===e.indexOf(t)&&e.push(t),!0;if(t._texture&&t._texture instanceof s.Texture){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}r.__esModule=!0;var o=t("../../core"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(o),a=t("../BasePrepare"),u=function(t){return t&&t.__esModule?t:{default:t}}(a),l=16,h=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return o.uploadHookHelper=o,o.canvas=document.createElement("canvas"),o.canvas.width=l,o.canvas.height=l,o.ctx=o.canvas.getContext("2d"),o.register(i,n),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(u.default);r.default=h,s.CanvasRenderer.registerPlugin("prepare",h)},{"../../core":63,"../BasePrepare":177}],179:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./webgl/WebGLPrepare");Object.defineProperty(r,"webgl",{enumerable:!0,get:function(){return n(i).default}});var o=t("./canvas/CanvasPrepare");Object.defineProperty(r,"canvas",{enumerable:!0,get:function(){return n(o).default}});var s=t("./BasePrepare");Object.defineProperty(r,"BasePrepare",{enumerable:!0,get:function(){return n(s).default}});var a=t("./limiters/CountLimiter");Object.defineProperty(r,"CountLimiter",{enumerable:!0,get:function(){return n(a).default}});var u=t("./limiters/TimeLimiter");Object.defineProperty(r,"TimeLimiter",{enumerable:!0,get:function(){return n(u).default}})},{"./BasePrepare":177,"./canvas/CanvasPrepare":178,"./limiters/CountLimiter":180,"./limiters/TimeLimiter":181,"./webgl/WebGLPrepare":182}],180:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();r.default=n},{}],181:[function(t,e,r){"use strict";r.__esModule=!0;var n=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();r.default=n},{}],182:[function(t,e,r){"use strict";function n(t,e){return e instanceof u.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function i(t,e){return e instanceof u.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function o(t,e){if(t instanceof u.BaseTexture)return-1===e.indexOf(t)&&e.push(t),!0;if(t._texture&&t._texture instanceof u.Texture){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function s(t,e){return t instanceof u.Graphics&&(e.push(t),!0)}r.__esModule=!0;var a=t("../../core"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(a),l=t("../BasePrepare"),h=function(t){return t&&t.__esModule?t:{default:t}}(l),c=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return a.uploadHookHelper=a.renderer,a.register(o,n).register(s,i),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(h.default);r.default=c,u.WebGLRenderer.registerPlugin("prepare",c)},{"../../core":63,"../BasePrepare":177}],183:[function(t,r,n){(function(e){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}n.__esModule=!0,n.loader=n.prepare=n.particles=n.mesh=n.loaders=n.interaction=n.filters=n.extras=n.extract=n.accessibility=void 0;var i=t("./polyfill");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}})});var o=t("./deprecation");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}})});var s=t("./core");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return s[t]}})});var a=t("./accessibility"),u=r(a),l=t("./extract"),h=r(l),c=t("./extras"),f=r(c),p=t("./filters"),d=r(p),g=t("./interaction"),v=r(g),m=t("./loaders"),y=r(m),x=t("./mesh"),b=r(x),_=t("./particles"),w=r(_),T=t("./prepare"),E=r(T);s.utils.mixins.performMixins(),n.accessibility=u,n.extract=h,n.extras=f,n.filters=d,n.interaction=v,n.loaders=y,n.mesh=b,n.particles=w,n.prepare=E;var S=y&&y.Loader?new y.Loader:null;n.loader=S,e.PIXI=n}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":40,"./core":63,"./deprecation":125,"./extract":127,"./extras":136,"./filters":147,"./interaction":154,"./loaders":157,"./mesh":166,"./particles":169,"./polyfill":175,"./prepare":179}]},{},[183])(183)}).call(window)}).call(this,r("yLpj"))},"6FMO":function(t,e,r){var n=r("0/R4"),i=r("EWmC"),o=r("K0xU")("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),n(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},"6VaU":function(t,e,r){"use strict";var n=r("XKFU"),i=r("xF/b"),o=r("S/j/"),s=r("ne8i"),a=r("2OiF"),u=r("zRwo");n(n.P,"Array",{flatMap:function(t){var e,r,n=o(this);return a(t),e=s(n.length),r=u(n,0),i(r,n,n,e,0,1,t,arguments[1]),r}}),r("nGyu")("flatMap")},"6dIT":function(t,e){t.exports=Math.scale||function(t,e,r,n,i){return 0===arguments.length||t!=t||e!=e||r!=r||n!=n||i!=i?NaN:t===1/0||t===-1/0?t:(t-e)*(i-n)/(r-e)+n}},"7DDg":function(t,e,r){"use strict";if(r("nh4g")){var n=r("LQAc"),i=r("dyZX"),o=r("eeVq"),s=r("XKFU"),a=r("D4iV"),u=r("7Qtz"),l=r("m0Pp"),h=r("9gX7"),c=r("RjD/"),f=r("Mukb"),p=r("3Lyj"),d=r("RYi7"),g=r("ne8i"),v=r("Cfrj"),m=r("d/Gc"),y=r("apmT"),x=r("aagx"),b=r("I8a+"),_=r("0/R4"),w=r("S/j/"),T=r("M6Qj"),E=r("Kuth"),S=r("OP3Y"),A=r("kJMx").f,C=r("J+6e"),M=r("ylqs"),R=r("K0xU"),O=r("CkkT"),P=r("w2a5"),D=r("69bn"),I=r("yt8O"),L=r("hPIQ"),F=r("XMVh"),k=r("elZq"),B=r("Nr18"),N=r("upKx"),U=r("hswa"),$=r("EemH"),j=U.f,G=$.f,W=i.RangeError,V=i.TypeError,X=i.Uint8Array,z=Array.prototype,Y=u.ArrayBuffer,H=u.DataView,q=O(0),Z=O(2),K=O(3),Q=O(4),J=O(5),tt=O(6),et=P(!0),rt=P(!1),nt=I.values,it=I.keys,ot=I.entries,st=z.lastIndexOf,at=z.reduce,ut=z.reduceRight,lt=z.join,ht=z.sort,ct=z.slice,ft=z.toString,pt=z.toLocaleString,dt=R("iterator"),gt=R("toStringTag"),vt=M("typed_constructor"),mt=M("def_constructor"),yt=a.CONSTR,xt=a.TYPED,bt=a.VIEW,_t=O(1,function(t,e){return At(D(t,t[mt]),e)}),wt=o(function(){return 1===new X(new Uint16Array([1]).buffer)[0]}),Tt=!!X&&!!X.prototype.set&&o(function(){new X(1).set({})}),Et=function(t,e){var r=d(t);if(r<0||r%e)throw W("Wrong offset!");return r},St=function(t){if(_(t)&&xt in t)return t;throw V(t+" is not a typed array!")},At=function(t,e){if(!(_(t)&&vt in t))throw V("It is not a typed array constructor!");return new t(e)},Ct=function(t,e){return Mt(D(t,t[mt]),e)},Mt=function(t,e){for(var r=0,n=e.length,i=At(t,n);n>r;)i[r]=e[r++];return i},Rt=function(t,e,r){j(t,e,{get:function(){return this._d[r]}})},Ot=function(t){var e,r,n,i,o,s,a=w(t),u=arguments.length,h=u>1?arguments[1]:void 0,c=void 0!==h,f=C(a);if(void 0!=f&&!T(f)){for(s=f.call(a),n=[],e=0;!(o=s.next()).done;e++)n.push(o.value);a=n}for(c&&u>2&&(h=l(h,arguments[2],2)),e=0,r=g(a.length),i=At(this,r);r>e;e++)i[e]=c?h(a[e],e):a[e];return i},Pt=function(){for(var t=0,e=arguments.length,r=At(this,e);e>t;)r[t]=arguments[t++];return r},Dt=!!X&&o(function(){pt.call(new X(1))}),It=function(){return pt.apply(Dt?ct.call(St(this)):St(this),arguments)},Lt={copyWithin:function(t,e){return N.call(St(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return Q(St(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return B.apply(St(this),arguments)},filter:function(t){return Ct(this,Z(St(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return J(St(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(St(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){q(St(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return rt(St(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(St(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return lt.apply(St(this),arguments)},lastIndexOf:function(t){return st.apply(St(this),arguments)},map:function(t){return _t(St(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return at.apply(St(this),arguments)},reduceRight:function(t){return ut.apply(St(this),arguments)},reverse:function(){for(var t,e=St(this).length,r=Math.floor(e/2),n=0;n<r;)t=this[n],this[n++]=this[--e],this[e]=t;return this},some:function(t){return K(St(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ht.call(St(this),t)},subarray:function(t,e){var r=St(this),n=r.length,i=m(t,n);return new(D(r,r[mt]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,g((void 0===e?n:m(e,n))-i))}},Ft=function(t,e){return Ct(this,ct.call(St(this),t,e))},kt=function(t){St(this);var e=Et(arguments[1],1),r=this.length,n=w(t),i=g(n.length),o=0;if(i+e>r)throw W("Wrong length!");for(;o<i;)this[e+o]=n[o++]},Bt={entries:function(){return ot.call(St(this))},keys:function(){return it.call(St(this))},values:function(){return nt.call(St(this))}},Nt=function(t,e){return _(t)&&t[xt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ut=function(t,e){return Nt(t,e=y(e,!0))?c(2,t[e]):G(t,e)},$t=function(t,e,r){return!(Nt(t,e=y(e,!0))&&_(r)&&x(r,"value"))||x(r,"get")||x(r,"set")||r.configurable||x(r,"writable")&&!r.writable||x(r,"enumerable")&&!r.enumerable?j(t,e,r):(t[e]=r.value,t)};yt||($.f=Ut,U.f=$t),s(s.S+s.F*!yt,"Object",{getOwnPropertyDescriptor:Ut,defineProperty:$t}),o(function(){ft.call({})})&&(ft=pt=function(){return lt.call(this)});var jt=p({},Lt);p(jt,Bt),f(jt,dt,Bt.values),p(jt,{slice:Ft,set:kt,constructor:function(){},toString:ft,toLocaleString:It}),Rt(jt,"buffer","b"),Rt(jt,"byteOffset","o"),Rt(jt,"byteLength","l"),Rt(jt,"length","e"),j(jt,gt,{get:function(){return this[xt]}}),t.exports=function(t,e,r,u){var l=t+((u=!!u)?"Clamped":"")+"Array",c="get"+t,p="set"+t,d=i[l],m=d||{},y=d&&S(d),x=!d||!a.ABV,w={},T=d&&d.prototype,C=function(t,r){j(t,r,{get:function(){return function(t,r){var n=t._d;return n.v[c](r*e+n.o,wt)}(this,r)},set:function(t){return function(t,r,n){var i=t._d;u&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),i.v[p](r*e+i.o,n,wt)}(this,r,t)},enumerable:!0})};x?(d=r(function(t,r,n,i){h(t,d,l,"_d");var o,s,a,u,c=0,p=0;if(_(r)){if(!(r instanceof Y||"ArrayBuffer"==(u=b(r))||"SharedArrayBuffer"==u))return xt in r?Mt(d,r):Ot.call(d,r);o=r,p=Et(n,e);var m=r.byteLength;if(void 0===i){if(m%e)throw W("Wrong length!");if((s=m-p)<0)throw W("Wrong length!")}else if((s=g(i)*e)+p>m)throw W("Wrong length!");a=s/e}else a=v(r),o=new Y(s=a*e);for(f(t,"_d",{b:o,o:p,l:s,e:a,v:new H(o)});c<a;)C(t,c++)}),T=d.prototype=E(jt),f(T,"constructor",d)):o(function(){d(1)})&&o(function(){new d(-1)})&&F(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=r(function(t,r,n,i){var o;return h(t,d,l),_(r)?r instanceof Y||"ArrayBuffer"==(o=b(r))||"SharedArrayBuffer"==o?void 0!==i?new m(r,Et(n,e),i):void 0!==n?new m(r,Et(n,e)):new m(r):xt in r?Mt(d,r):Ot.call(d,r):new m(v(r))}),q(y!==Function.prototype?A(m).concat(A(y)):A(m),function(t){t in d||f(d,t,m[t])}),d.prototype=T,n||(T.constructor=d));var M=T[dt],R=!!M&&("values"==M.name||void 0==M.name),O=Bt.values;f(d,vt,!0),f(T,xt,l),f(T,bt,!0),f(T,mt,d),(u?new d(1)[gt]==l:gt in T)||j(T,gt,{get:function(){return l}}),w[l]=d,s(s.G+s.W+s.F*(d!=m),w),s(s.S,l,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*o(function(){m.of.call(d,1)}),l,{from:Ot,of:Pt}),"BYTES_PER_ELEMENT"in T||f(T,"BYTES_PER_ELEMENT",e),s(s.P,l,Lt),k(l),s(s.P+s.F*Tt,l,{set:kt}),s(s.P+s.F*!R,l,Bt),n||T.toString==ft||(T.toString=ft),s(s.P+s.F*o(function(){new d(1).slice()}),l,{slice:Ft}),s(s.P+s.F*(o(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!o(function(){T.toLocaleString.call([1,2])})),l,{toLocaleString:It}),L[l]=R?M:O,n||R||f(T,dt,O)}}else t.exports=function(){}},"7Dlh":function(t,e,r){var n=r("N6cJ"),i=r("y3w9"),o=n.has,s=n.key;n.exp({hasOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},"7Qtz":function(t,e,r){"use strict";var n=r("dyZX"),i=r("nh4g"),o=r("LQAc"),s=r("D4iV"),a=r("Mukb"),u=r("3Lyj"),l=r("eeVq"),h=r("9gX7"),c=r("RYi7"),f=r("ne8i"),p=r("Cfrj"),d=r("kJMx").f,g=r("hswa").f,v=r("Nr18"),m=r("fyDq"),y="prototype",x="Wrong index!",b=n.ArrayBuffer,_=n.DataView,w=n.Math,T=n.RangeError,E=n.Infinity,S=b,A=w.abs,C=w.pow,M=w.floor,R=w.log,O=w.LN2,P=i?"_b":"buffer",D=i?"_l":"byteLength",I=i?"_o":"byteOffset";function L(t,e,r){var n,i,o,s=new Array(r),a=8*r-e-1,u=(1<<a)-1,l=u>>1,h=23===e?C(2,-24)-C(2,-77):0,c=0,f=t<0||0===t&&1/t<0?1:0;for((t=A(t))!=t||t===E?(i=t!=t?1:0,n=u):(n=M(R(t)/O),t*(o=C(2,-n))<1&&(n--,o*=2),(t+=n+l>=1?h/o:h*C(2,1-l))*o>=2&&(n++,o/=2),n+l>=u?(i=0,n=u):n+l>=1?(i=(t*o-1)*C(2,e),n+=l):(i=t*C(2,l-1)*C(2,e),n=0));e>=8;s[c++]=255&i,i/=256,e-=8);for(n=n<<e|i,a+=e;a>0;s[c++]=255&n,n/=256,a-=8);return s[--c]|=128*f,s}function F(t,e,r){var n,i=8*r-e-1,o=(1<<i)-1,s=o>>1,a=i-7,u=r-1,l=t[u--],h=127&l;for(l>>=7;a>0;h=256*h+t[u],u--,a-=8);for(n=h&(1<<-a)-1,h>>=-a,a+=e;a>0;n=256*n+t[u],u--,a-=8);if(0===h)h=1-s;else{if(h===o)return n?NaN:l?-E:E;n+=C(2,e),h-=s}return(l?-1:1)*n*C(2,h-e)}function k(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function B(t){return[255&t]}function N(t){return[255&t,t>>8&255]}function U(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function $(t){return L(t,52,8)}function j(t){return L(t,23,4)}function G(t,e,r){g(t[y],e,{get:function(){return this[r]}})}function W(t,e,r,n){var i=p(+r);if(i+e>t[D])throw T(x);var o=t[P]._b,s=i+t[I],a=o.slice(s,s+e);return n?a:a.reverse()}function V(t,e,r,n,i,o){var s=p(+r);if(s+e>t[D])throw T(x);for(var a=t[P]._b,u=s+t[I],l=n(+i),h=0;h<e;h++)a[u+h]=l[o?h:e-h-1]}if(s.ABV){if(!l(function(){b(1)})||!l(function(){new b(-1)})||l(function(){return new b,new b(1.5),new b(NaN),"ArrayBuffer"!=b.name})){for(var X,z=(b=function(t){return h(this,b),new S(p(t))})[y]=S[y],Y=d(S),H=0;Y.length>H;)(X=Y[H++])in b||a(b,X,S[X]);o||(z.constructor=b)}var q=new _(new b(2)),Z=_[y].setInt8;q.setInt8(0,2147483648),q.setInt8(1,2147483649),!q.getInt8(0)&&q.getInt8(1)||u(_[y],{setInt8:function(t,e){Z.call(this,t,e<<24>>24)},setUint8:function(t,e){Z.call(this,t,e<<24>>24)}},!0)}else b=function(t){h(this,b,"ArrayBuffer");var e=p(t);this._b=v.call(new Array(e),0),this[D]=e},_=function(t,e,r){h(this,_,"DataView"),h(t,b,"DataView");var n=t[D],i=c(e);if(i<0||i>n)throw T("Wrong offset!");if(i+(r=void 0===r?n-i:f(r))>n)throw T("Wrong length!");this[P]=t,this[I]=i,this[D]=r},i&&(G(b,"byteLength","_l"),G(_,"buffer","_b"),G(_,"byteLength","_l"),G(_,"byteOffset","_o")),u(_[y],{getInt8:function(t){return W(this,1,t)[0]<<24>>24},getUint8:function(t){return W(this,1,t)[0]},getInt16:function(t){var e=W(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=W(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return k(W(this,4,t,arguments[1]))},getUint32:function(t){return k(W(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return F(W(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return F(W(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){V(this,1,t,B,e)},setUint8:function(t,e){V(this,1,t,B,e)},setInt16:function(t,e){V(this,2,t,N,e,arguments[2])},setUint16:function(t,e){V(this,2,t,N,e,arguments[2])},setInt32:function(t,e){V(this,4,t,U,e,arguments[2])},setUint32:function(t,e){V(this,4,t,U,e,arguments[2])},setFloat32:function(t,e){V(this,4,t,j,e,arguments[2])},setFloat64:function(t,e){V(this,8,t,$,e,arguments[2])}});m(b,"ArrayBuffer"),m(_,"DataView"),a(_[y],s.VIEW,!0),e.ArrayBuffer=b,e.DataView=_},"7VC1":function(t,e,r){"use strict";var n=r("XKFU"),i=r("Lgjv"),o=r("ol8x");n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},"7X58":function(t,e,r){var n=r("XKFU");n(n.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},"7h0T":function(t,e,r){var n=r("XKFU");n(n.S,"Number",{isNaN:function(t){return t!=t}})},"8+KV":function(t,e,r){"use strict";var n=r("XKFU"),i=r("CkkT")(0),o=r("LyE8")([].forEach,!0);n(n.P+n.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},"84bF":function(t,e,r){"use strict";r("OGtf")("small",function(t){return function(){return t(this,"small","","")}})},"86LW":function(t,e,r){(function(e){!function(e){"use strict";var r,n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",l="object"==typeof t,h=e.regeneratorRuntime;if(h)l&&(t.exports=h);else{(h=e.regeneratorRuntime=l?t.exports:{}).wrap=b;var c="suspendedStart",f="suspendedYield",p="executing",d="completed",g={},v={};v[s]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(P([])));y&&y!==n&&i.call(y,s)&&(v=y);var x=E.prototype=w.prototype=Object.create(v);T.prototype=x.constructor=E,E.constructor=T,E[u]=T.displayName="GeneratorFunction",h.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===T||"GeneratorFunction"===(e.displayName||e.name))},h.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(x),t},h.awrap=function(t){return{__await:t}},S(A.prototype),A.prototype[a]=function(){return this},h.AsyncIterator=A,h.async=function(t,e,r,n){var i=new A(b(t,e,r,n));return h.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},S(x),x[u]="Generator",x[s]=function(){return this},x.toString=function(){return"[object Generator]"},h.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},h.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(R),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=r),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var u=i.call(s,"catchLoc"),l=i.call(s,"finallyLoc");if(u&&l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;R(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),g}}}function b(t,e,r,n){var i=e&&e.prototype instanceof w?e:w,o=Object.create(i.prototype),s=new O(n||[]);return o._invoke=function(t,e,r){var n=c;return function(i,o){if(n===p)throw new Error("Generator is already running");if(n===d){if("throw"===i)throw o;return D()}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var a=C(s,r);if(a){if(a===g)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===c)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=_(t,e,r);if("normal"===u.type){if(n=r.done?d:f,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}(t,r,s),o}function _(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function w(){}function T(){}function E(){}function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function A(t){function r(e,n,o,s){var a=_(t[e],t,n);if("throw"!==a.type){var u=a.arg,l=u.value;return l&&"object"==typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then(function(t){r("next",t,o,s)},function(t){r("throw",t,o,s)}):Promise.resolve(l).then(function(t){u.value=t,o(u)},s)}s(a.arg)}var n;"object"==typeof e.process&&e.process.domain&&(r=e.process.domain.bind(r)),this._invoke=function(t,e){function i(){return new Promise(function(n,i){r(t,e,n,i)})}return n=n?n.then(i,i):i()}}function C(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,C(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=_(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,g):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function P(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return o.next=o}}return{next:D}}function D(){return{value:r,done:!0}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,r("yLpj"))},"8MEG":function(t,e,r){"use strict";var n=r("2OiF"),i=r("0/R4"),o=r("MfQN"),s=[].slice,a={};t.exports=Function.bind||function(t){var e=n(this),r=s.call(arguments,1),u=function(){var n=r.concat(s.call(arguments));return this instanceof u?function(t,e,r){if(!(e in a)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";a[e]=Function("F,a","return new F("+n.join(",")+")")}return a[e](t,r)}(e,n.length,n):o(e,n,t)};return i(e.prototype)&&(u.prototype=e.prototype),u}},"8a7r":function(t,e,r){"use strict";var n=r("hswa"),i=r("RjD/");t.exports=function(t,e,r){e in t?n.f(t,e,i(0,r)):t[e]=r}},"8gHz":function(t,e,r){var n=r("5K7Z"),i=r("eaoh"),o=r("UWiX")("species");t.exports=function(t,e){var r,s=n(t).constructor;return void 0===s||void 0==(r=n(s)[o])?e:i(r)}},"8kRx":function(t,e,r){var n=r("do7i");"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(n,i);n.locals&&(t.exports=n.locals)},"8oxB":function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,l=[],h=!1,c=-1;function f(){h&&u&&(h=!1,u.length?l=u.concat(l):c=-1,l.length&&p())}function p(){if(!h){var t=a(f);h=!0;for(var e=l.length;e;){for(u=l,l=[];++c<e;)u&&u[c].run();c=-1,e=l.length}u=null,h=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new d(t,e)),1!==l.length||h||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"91GP":function(t,e,r){var n=r("XKFU");n(n.S+n.F,"Object",{assign:r("czNK")})},"93I4":function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},"9AAn":function(t,e,r){"use strict";var n=r("wmvG"),i=r("s5qY");t.exports=r("4LiD")("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=n.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return n.def(i(this,"Map"),0===t?0:t,e)}},n,!0)},"9P93":function(t,e,r){var n=r("XKFU"),i=Math.imul;n(n.S+n.F*r("eeVq")(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,e){var r=+t,n=+e,i=65535&r,o=65535&n;return 0|i*o+((65535&r>>>16)*o+i*(65535&n>>>16)<<16>>>0)}})},"9VmF":function(t,e,r){"use strict";var n=r("XKFU"),i=r("ne8i"),o=r("0sh+"),s="".startsWith;n(n.P+n.F*r("UUeW")("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),r=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return s?s.call(e,n,r):e.slice(r,r+n.length)===n}})},"9XZr":function(t,e,r){"use strict";var n=r("XKFU"),i=r("Lgjv"),o=r("ol8x");n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},"9gX7":function(t,e){t.exports=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t}},"9rMk":function(t,e,r){var n=r("XKFU");n(n.S,"Reflect",{has:function(t,e){return e in t}})},"9tPo":function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var r=e.protocol+"//"+e.host,n=r+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?r+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},A2zW:function(t,e,r){"use strict";var n=r("XKFU"),i=r("RYi7"),o=r("vvmO"),s=r("l0Rn"),a=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],h="Number.toFixed: incorrect invocation!",c=function(t,e){for(var r=-1,n=e;++r<6;)n+=t*l[r],l[r]=n%1e7,n=u(n/1e7)},f=function(t){for(var e=6,r=0;--e>=0;)r+=l[e],l[e]=u(r/t),r=r%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==l[t]){var r=String(l[t]);e=""===e?r:e+s.call("0",7-r.length)+r}return e},d=function(t,e,r){return 0===e?r:e%2==1?d(t,e-1,r*t):d(t*t,e/2,r)};n(n.P+n.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r("eeVq")(function(){a.call({})})),"Number",{toFixed:function(t){var e,r,n,a,u=o(this,h),l=i(t),g="",v="0";if(l<0||l>20)throw RangeError(h);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(g="-",u=-u),u>1e-21)if(r=(e=function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e}(u*d(2,69,1))-69)<0?u*d(2,-e,1):u/d(2,e,1),r*=4503599627370496,(e=52-e)>0){for(c(0,r),n=l;n>=7;)c(1e7,0),n-=7;for(c(d(10,n,1),0),n=e-1;n>=23;)f(1<<23),n-=23;f(1<<n),c(1,1),f(2),v=p()}else c(0,r),c(1<<-e,0),v=p()+s.call("0",l);return v=l>0?g+((a=v.length)<=l?"0."+s.call("0",l-a)+v:v.slice(0,a-l)+"."+v.slice(a-l)):g+v}})},Afnz:function(t,e,r){"use strict";var n=r("LQAc"),i=r("XKFU"),o=r("KroJ"),s=r("Mukb"),a=r("aagx"),u=r("hPIQ"),l=r("QaDb"),h=r("fyDq"),c=r("OP3Y"),f=r("K0xU")("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,r,g,v,m,y){l(r,e,g);var x,b,_,w=function(t){if(!p&&t in A)return A[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},T=e+" Iterator",E="values"==v,S=!1,A=t.prototype,C=A[f]||A["@@iterator"]||v&&A[v],M=!p&&C||w(v),R=v?E?w("entries"):M:void 0,O="Array"==e&&A.entries||C;if(O&&(_=c(O.call(new t)))!==Object.prototype&&_.next&&(h(_,T,!0),n||a(_,f)||s(_,f,d)),E&&C&&"values"!==C.name&&(S=!0,M=function(){return C.call(this)}),n&&!y||!p&&!S&&A[f]||s(A,f,M),u[e]=M,u[T]=d,v)if(x={values:E?M:w("values"),keys:m?M:w("keys"),entries:R},y)for(b in x)b in A||o(A,b,x[b]);else i(i.P+i.F*(p||S),e,x);return x}},AhwK:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAMCAYAAABfnvydAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkI3QjQ5NEY1NUQxNTExRTU4MTRBRUMxOTgyQjAzQTRDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkI3QjQ5NEY2NUQxNTExRTU4MTRBRUMxOTgyQjAzQTRDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QjdCNDk0RjM1RDE1MTFFNTgxNEFFQzE5ODJCMDNBNEMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QjdCNDk0RjQ1RDE1MTFFNTgxNEFFQzE5ODJCMDNBNEMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4OvBgYAAAAV0lEQVR42mL4////fCDmAmIGbBhEgMBlINbBpwAEvgJxAjYFCVBJGECxEqZSB2oNDFyHWYlsHBdUN4qVTAz4ASNMtxY+K7A5kockb4LAFXwBhTeoAQIMANSqJvRPPg1/AAAAAElFTkSuQmCC"},AphP:function(t,e,r){"use strict";var n=r("XKFU"),i=r("S/j/"),o=r("apmT");n(n.P+n.F*r("eeVq")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=i(this),r=o(e);return"number"!=typeof r||isFinite(r)?e.toISOString():null}})},AvRE:function(t,e,r){var n=r("RYi7"),i=r("vhPU");t.exports=function(t){return function(e,r){var o,s,a=String(i(e)),u=n(r),l=a.length;return u<0||u>=l?t?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===l||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}}},AyUB:function(t,e,r){t.exports={default:r("3GJH"),__esModule:!0}},"B+OT":function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},BC7C:function(t,e,r){var n=r("XKFU");n(n.S,"Math",{fround:r("kcoS")})},"BJ/l":function(t,e,r){var n=r("XKFU");n(n.S,"Math",{log1p:r("1sa7")})},BP8U:function(t,e,r){var n=r("XKFU"),i=r("PKUr");n(n.S+n.F*(Number.parseInt!=i),"Number",{parseInt:i})},BqfV:function(t,e,r){var n=r("N6cJ"),i=r("y3w9"),o=n.get,s=n.key;n.exp({getOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},Btvt:function(t,e,r){"use strict";var n=r("I8a+"),i={};i[r("K0xU")("toStringTag")]="z",i+""!="[object z]"&&r("KroJ")(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},"Bzw/":function(t){t.exports={cgPlayer:{gameInformation:"Game information:",outputStream:"Standard output stream:",errorStream:"Standard error stream:",gameParameters:"Game parameters:",speed:"SPEED",quality:"QUALITY",ToolTipIcons:{options:"Settings",replay:"Replay and share",fullscreen:"Fullscreen",extract:"Extract"},share:"Share this replay"}}},"C/va":function(t,e,r){"use strict";var n=r("y3w9");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},CFt4:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNzU2MDMwOTBEOEYxMUU0ODJBREEyNjQ3QjA4QUIwNiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyNzU2MDMwQTBEOEYxMUU0ODJBREEyNjQ3QjA4QUIwNiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjI3NTYwMzA3MEQ4RjExRTQ4MkFEQTI2NDdCMDhBQjA2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjI3NTYwMzA4MEQ4RjExRTQ4MkFEQTI2NDdCMDhBQjA2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Btk+lAAAAIpJREFUeNqEUosKgCAMnEH9c/bQoD46CmyrG8hQOzhx3t1U1KWUIhENTE9tHMy74+Fkjlhomf3r5R2EY/pwoM65Q5ukzgUPYa+ZbYAgaEjNc+6hwhE0JFis3hUu2FfmH0yHiM4rugu22pFys66tNqRCgBAKd9JQ1EDLbBtGJ4+Gr7H9fI3AvB4BBgCy5Uy3Msd8OAAAAABJRU5ErkJggg=="},CX2u:function(t,e,r){"use strict";var n=r("XKFU"),i=r("g3g5"),o=r("dyZX"),s=r("69bn"),a=r("vKrd");n(n.P+n.R,"Promise",{finally:function(t){var e=s(this,i.Promise||o.Promise),r="function"==typeof t;return this.then(r?function(r){return a(e,t()).then(function(){return r})}:t,r?function(r){return a(e,t()).then(function(){throw r})}:t)}})},CeCd:function(t,e,r){var n=r("XKFU");n(n.S,"Math",{clamp:function(t,e,r){return Math.min(r,Math.max(e,t))}})},Cfrj:function(t,e,r){var n=r("RYi7"),i=r("ne8i");t.exports=function(t){if(void 0===t)return 0;var e=n(t),r=i(e);if(e!==r)throw RangeError("Wrong length!");return r}},CfyG:function(t,e,r){(function(t){var n=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(n.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(n.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r("YBdB"),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r("yLpj"))},CkkT:function(t,e,r){var n=r("m0Pp"),i=r("Ymqv"),o=r("S/j/"),s=r("ne8i"),a=r("zRwo");t.exports=function(t,e){var r=1==t,u=2==t,l=3==t,h=4==t,c=6==t,f=5==t||c,p=e||a;return function(e,a,d){for(var g,v,m=o(e),y=i(m),x=n(a,d,3),b=s(y.length),_=0,w=r?p(e,b):u?p(e,0):void 0;b>_;_++)if((f||_ in y)&&(v=x(g=y[_],_,m),t))if(r)w[_]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return _;case 2:w.push(g)}else if(h)return!1;return c?-1:l||h?h:w}}},CyHz:function(t,e,r){var n=r("XKFU");n(n.S,"Math",{sign:r("lvtm")})},D3Ub:function(t,e,r){"use strict";e.__esModule=!0;var n,i=r("4d7F"),o=(n=i)&&n.__esModule?n:{default:n};e.default=function(t){return function(){var e=t.apply(this,arguments);return new o.default(function(t,r){return function n(i,s){try{var a=e[i](s),u=a.value}catch(t){return void r(t)}if(!a.done)return o.default.resolve(u).then(function(t){n("next",t)},function(t){n("throw",t)});t(u)}("next")})}}},D4iV:function(t,e,r){for(var n,i=r("dyZX"),o=r("Mukb"),s=r("ylqs"),a=s("typed_array"),u=s("view"),l=!(!i.ArrayBuffer||!i.DataView),h=l,c=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");c<9;)(n=i[f[c++]])?(o(n.prototype,a,!0),o(n.prototype,u,!0)):h=!1;t.exports={ABV:l,CONSTR:h,TYPED:a,VIEW:u}},D8kY:function(t,e,r){var n=r("Ojgd"),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=n(t))<0?i(t+e,0):o(t,e)}},DACs:function(t,e,r){var n=r("XKFU");n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},DDYI:function(t,e,r){var n=r("XKFU");n(n.G,{global:r("dyZX")})},DNiP:function(t,e,r){"use strict";var n=r("XKFU"),i=r("eyMr");n(n.P+n.F*!r("LyE8")([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},DSV3:function(t,e,r){var n=r("XKFU"),i=r("gHnn")(),o=r("dyZX").process,s="process"==r("LZWt")(o);n(n.G,{asap:function(t){var e=s&&o.domain;i(e?e.bind(t):t)}})},DVgA:function(t,e,r){var n=r("zhAb"),i=r("4R4u");t.exports=Object.keys||function(t){return n(t,i)}},DW2E:function(t,e,r){var n=r("0/R4"),i=r("Z6vF").onFreeze;r("Xtr8")("freeze",function(t){return function(e){return t&&n(e)?t(i(e)):e}})},EK0E:function(t,e,r){"use strict";var n,i=r("CkkT")(0),o=r("KroJ"),s=r("Z6vF"),a=r("czNK"),u=r("ZD67"),l=r("0/R4"),h=r("eeVq"),c=r("s5qY"),f=s.getWeak,p=Object.isExtensible,d=u.ufstore,g={},v=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(t){if(l(t)){var e=f(t);return!0===e?d(c(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(c(this,"WeakMap"),t,e)}},y=t.exports=r("4LiD")("WeakMap",v,m,u,!0,!0);h(function(){return 7!=(new y).set((Object.freeze||Object)(g),7).get(g)})&&(a((n=u.getConstructor(v,"WeakMap")).prototype,m),s.NEED=!0,i(["delete","has","get","set"],function(t){var e=y.prototype,r=e[t];o(e,t,function(e,i){if(l(e)&&!p(e)){this._f||(this._f=new n);var o=this._f[t](e,i);return"set"==t?this:o}return r.call(this,e,i)})}))},EVdn:function(t,e,r){var n;
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
!function(e,r){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?r(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return r(t)}:r(e)}("undefined"!=typeof window?window:this,function(r,i){"use strict";var o=[],s=r.document,a=Object.getPrototypeOf,u=o.slice,l=o.concat,h=o.push,c=o.indexOf,f={},p=f.toString,d=f.hasOwnProperty,g=d.toString,v=g.call(Object),m={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},x=function(t){return null!=t&&t===t.window},b={type:!0,src:!0,noModule:!0};function _(t,e,r){var n,i=(e=e||s).createElement("script");if(i.text=t,r)for(n in b)r[n]&&(i[n]=r[n]);e.head.appendChild(i).parentNode.removeChild(i)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?f[p.call(t)]||"object":typeof t}var T=function(t,e){return new T.fn.init(t,e)},E=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function S(t){var e=!!t&&"length"in t&&t.length,r=w(t);return!y(t)&&!x(t)&&("array"===r||0===e||"number"==typeof e&&e>0&&e-1 in t)}T.fn=T.prototype={jquery:"3.3.1",constructor:T,length:0,toArray:function(){return u.call(this)},get:function(t){return null==t?u.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=T.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return T.each(this,t)},map:function(t){return this.pushStack(T.map(this,function(e,r){return t.call(e,r,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,r=+t+(t<0?e:0);return this.pushStack(r>=0&&r<e?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:o.sort,splice:o.splice},T.extend=T.fn.extend=function(){var t,e,r,n,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||y(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)r=s[e],s!==(n=t[e])&&(l&&n&&(T.isPlainObject(n)||(i=Array.isArray(n)))?(i?(i=!1,o=r&&Array.isArray(r)?r:[]):o=r&&T.isPlainObject(r)?r:{},s[e]=T.extend(l,o,n)):void 0!==n&&(s[e]=n));return s},T.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,r;return!(!t||"[object Object]"!==p.call(t))&&(!(e=a(t))||"function"==typeof(r=d.call(e,"constructor")&&e.constructor)&&g.call(r)===v)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){_(t)},each:function(t,e){var r,n=0;if(S(t))for(r=t.length;n<r&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(E,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(S(Object(t))?T.merge(r,"string"==typeof t?[t]:t):h.call(r,t)),r},inArray:function(t,e,r){return null==e?-1:c.call(e,t,r)},merge:function(t,e){for(var r=+e.length,n=0,i=t.length;n<r;n++)t[i++]=e[n];return t.length=i,t},grep:function(t,e,r){for(var n=[],i=0,o=t.length,s=!r;i<o;i++)!e(t[i],i)!==s&&n.push(t[i]);return n},map:function(t,e,r){var n,i,o=0,s=[];if(S(t))for(n=t.length;o<n;o++)null!=(i=e(t[o],o,r))&&s.push(i);else for(o in t)null!=(i=e(t[o],o,r))&&s.push(i);return l.apply([],s)},guid:1,support:m}),"function"==typeof Symbol&&(T.fn[Symbol.iterator]=o[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){f["[object "+e+"]"]=e.toLowerCase()});var A=
/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(t){var e,r,n,i,o,s,a,u,l,h,c,f,p,d,g,v,m,y,x,b="sizzle"+1*new Date,_=t.document,w=0,T=0,E=st(),S=st(),A=st(),C=function(t,e){return t===e&&(c=!0),0},M={}.hasOwnProperty,R=[],O=R.pop,P=R.push,D=R.push,I=R.slice,L=function(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",k="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",N="\\["+k+"*("+B+")(?:"+k+"*([*^$|!~]?=)"+k+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+k+"*\\]",U=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",$=new RegExp(k+"+","g"),j=new RegExp("^"+k+"+|((?:^|[^\\\\])(?:\\\\.)*)"+k+"+$","g"),G=new RegExp("^"+k+"*,"+k+"*"),W=new RegExp("^"+k+"*([>+~]|"+k+")"+k+"*"),V=new RegExp("="+k+"*([^\\]'\"]*?)"+k+"*\\]","g"),X=new RegExp(U),z=new RegExp("^"+B+"$"),Y={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+k+"*(even|odd|(([+-]|)(\\d*)n|)"+k+"*(?:([+-]|)"+k+"*(\\d+)|))"+k+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+k+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+k+"*((?:-\\d)?\\d*)"+k+"*\\)|)(?=[^-]|$)","i")},H=/^(?:input|select|textarea|button)$/i,q=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+k+"?|("+k+")|.)","ig"),tt=function(t,e,r){var n="0x"+e-65536;return n!=n||r?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},nt=function(){f()},it=yt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{D.apply(R=I.call(_.childNodes),_.childNodes),R[_.childNodes.length].nodeType}catch(t){D={apply:R.length?function(t,e){P.apply(t,I.call(e))}:function(t,e){for(var r=t.length,n=0;t[r++]=e[n++];);t.length=r-1}}}function ot(t,e,n,i){var o,a,l,h,c,d,m,y=e&&e.ownerDocument,w=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return n;if(!i&&((e?e.ownerDocument||e:_)!==p&&f(e),e=e||p,g)){if(11!==w&&(c=K.exec(t)))if(o=c[1]){if(9===w){if(!(l=e.getElementById(o)))return n;if(l.id===o)return n.push(l),n}else if(y&&(l=y.getElementById(o))&&x(e,l)&&l.id===o)return n.push(l),n}else{if(c[2])return D.apply(n,e.getElementsByTagName(t)),n;if((o=c[3])&&r.getElementsByClassName&&e.getElementsByClassName)return D.apply(n,e.getElementsByClassName(o)),n}if(r.qsa&&!A[t+" "]&&(!v||!v.test(t))){if(1!==w)y=e,m=t;else if("object"!==e.nodeName.toLowerCase()){for((h=e.getAttribute("id"))?h=h.replace(et,rt):e.setAttribute("id",h=b),a=(d=s(t)).length;a--;)d[a]="#"+h+" "+mt(d[a]);m=d.join(","),y=Q.test(t)&&gt(e.parentNode)||e}if(m)try{return D.apply(n,y.querySelectorAll(m)),n}catch(t){}finally{h===b&&e.removeAttribute("id")}}}return u(t.replace(j,"$1"),e,n,i)}function st(){var t=[];return function e(r,i){return t.push(r+" ")>n.cacheLength&&delete e[t.shift()],e[r+" "]=i}}function at(t){return t[b]=!0,t}function ut(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var r=t.split("|"),i=r.length;i--;)n.attrHandle[r[i]]=e}function ht(t,e){var r=e&&t,n=r&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===e)return-1;return t?1:-1}function ct(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var r=e.nodeName.toLowerCase();return("input"===r||"button"===r)&&e.type===t}}function pt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&it(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function dt(t){return at(function(e){return e=+e,at(function(r,n){for(var i,o=t([],r.length,e),s=o.length;s--;)r[i=o[s]]&&(r[i]=!(n[i]=r[i]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in r=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},f=ot.setDocument=function(t){var e,i,s=t?t.ownerDocument||t:_;return s!==p&&9===s.nodeType&&s.documentElement?(d=(p=s).documentElement,g=!o(p),_!==p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",nt,!1):i.attachEvent&&i.attachEvent("onunload",nt)),r.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),r.getElementsByTagName=ut(function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length}),r.getElementsByClassName=Z.test(p.getElementsByClassName),r.getById=ut(function(t){return d.appendChild(t).id=b,!p.getElementsByName||!p.getElementsByName(b).length}),r.getById?(n.filter.ID=function(t){var e=t.replace(J,tt);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var r=e.getElementById(t);return r?[r]:[]}}):(n.filter.ID=function(t){var e=t.replace(J,tt);return function(t){var r=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return r&&r.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var r,n,i,o=e.getElementById(t);if(o){if((r=o.getAttributeNode("id"))&&r.value===t)return[o];for(i=e.getElementsByName(t),n=0;o=i[n++];)if((r=o.getAttributeNode("id"))&&r.value===t)return[o]}return[]}}),n.find.TAG=r.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):r.qsa?e.querySelectorAll(t):void 0}:function(t,e){var r,n=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;r=o[i++];)1===r.nodeType&&n.push(r);return n}return o},n.find.CLASS=r.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},m=[],v=[],(r.qsa=Z.test(p.querySelectorAll))&&(ut(function(t){d.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+k+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+k+"*(?:value|"+F+")"),t.querySelectorAll("[id~="+b+"-]").length||v.push("~="),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||v.push(".#.+[+~]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+k+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),d.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(r.matchesSelector=Z.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ut(function(t){r.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),m.push("!=",U)}),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),e=Z.test(d.compareDocumentPosition),x=e||Z.test(d.contains)?function(t,e){var r=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},C=e?function(t,e){if(t===e)return c=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!r.sortDetached&&e.compareDocumentPosition(t)===n?t===p||t.ownerDocument===_&&x(_,t)?-1:e===p||e.ownerDocument===_&&x(_,e)?1:h?L(h,t)-L(h,e):0:4&n?-1:1)}:function(t,e){if(t===e)return c=!0,0;var r,n=0,i=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!i||!o)return t===p?-1:e===p?1:i?-1:o?1:h?L(h,t)-L(h,e):0;if(i===o)return ht(t,e);for(r=t;r=r.parentNode;)s.unshift(r);for(r=e;r=r.parentNode;)a.unshift(r);for(;s[n]===a[n];)n++;return n?ht(s[n],a[n]):s[n]===_?-1:a[n]===_?1:0},p):p},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&f(t),e=e.replace(V,"='$1']"),r.matchesSelector&&g&&!A[e+" "]&&(!m||!m.test(e))&&(!v||!v.test(e)))try{var n=y.call(t,e);if(n||r.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return ot(e,p,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==p&&f(t),x(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==p&&f(t);var i=n.attrHandle[e.toLowerCase()],o=i&&M.call(n.attrHandle,e.toLowerCase())?i(t,e,!g):void 0;return void 0!==o?o:r.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,rt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,n=[],i=0,o=0;if(c=!r.detectDuplicates,h=!r.sortStable&&t.slice(0),t.sort(C),c){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return h=null,t},i=ot.getText=function(t){var e,r="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)r+=i(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)r+=i(e);return r},(n=ot.selectors={cacheLength:50,createPseudo:at,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(J,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(J,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,r=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":r&&X.test(r)&&(e=s(r,!0))&&(e=r.indexOf(")",r.length-e)-r.length)&&(t[0]=t[0].slice(0,e),t[2]=r.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(J,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=E[t+" "];return e||(e=new RegExp("(^|"+k+")"+t+"("+k+"|$)"))&&E(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,r){return function(n){var i=ot.attr(n,t);return null==i?"!="===e:!e||(i+="","="===e?i===r:"!="===e?i!==r:"^="===e?r&&0===i.indexOf(r):"*="===e?r&&i.indexOf(r)>-1:"$="===e?r&&i.slice(-r.length)===r:"~="===e?(" "+i.replace($," ")+" ").indexOf(r)>-1:"|="===e&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,r,n,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===i?function(t){return!!t.parentNode}:function(e,r,u){var l,h,c,f,p,d,g=o!==s?"nextSibling":"previousSibling",v=e.parentNode,m=a&&e.nodeName.toLowerCase(),y=!u&&!a,x=!1;if(v){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?v.firstChild:v.lastChild],s&&y){for(x=(p=(l=(h=(c=(f=v)[b]||(f[b]={}))[f.uniqueID]||(c[f.uniqueID]={}))[t]||[])[0]===w&&l[1])&&l[2],f=p&&v.childNodes[p];f=++p&&f&&f[g]||(x=p=0)||d.pop();)if(1===f.nodeType&&++x&&f===e){h[t]=[w,p,x];break}}else if(y&&(x=p=(l=(h=(c=(f=e)[b]||(f[b]={}))[f.uniqueID]||(c[f.uniqueID]={}))[t]||[])[0]===w&&l[1]),!1===x)for(;(f=++p&&f&&f[g]||(x=p=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++x||(y&&((h=(c=f[b]||(f[b]={}))[f.uniqueID]||(c[f.uniqueID]={}))[t]=[w,x]),f!==e)););return(x-=i)===n||x%n==0&&x/n>=0}}},PSEUDO:function(t,e){var r,i=n.pseudos[t]||n.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return i[b]?i(e):i.length>1?(r=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,r){for(var n,o=i(t,e),s=o.length;s--;)t[n=L(t,o[s])]=!(r[n]=o[s])}):function(t){return i(t,0,r)}):i}},pseudos:{not:at(function(t){var e=[],r=[],n=a(t.replace(j,"$1"));return n[b]?at(function(t,e,r,i){for(var o,s=n(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,n(e,null,o,r),e[0]=null,!r.pop()}}),has:at(function(t){return function(e){return ot(t,e).length>0}}),contains:at(function(t){return t=t.replace(J,tt),function(e){return(e.textContent||e.innerText||i(e)).indexOf(t)>-1}}),lang:at(function(t){return z.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(J,tt).toLowerCase(),function(e){var r;do{if(r=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(r=r.toLowerCase())===t||0===r.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var r=t.location&&t.location.hash;return r&&r.slice(1)===e.id},root:function(t){return t===d},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:pt(!1),disabled:pt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return q.test(t.nodeName)},input:function(t){return H.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:dt(function(){return[0]}),last:dt(function(t,e){return[e-1]}),eq:dt(function(t,e,r){return[r<0?r+e:r]}),even:dt(function(t,e){for(var r=0;r<e;r+=2)t.push(r);return t}),odd:dt(function(t,e){for(var r=1;r<e;r+=2)t.push(r);return t}),lt:dt(function(t,e,r){for(var n=r<0?r+e:r;--n>=0;)t.push(n);return t}),gt:dt(function(t,e,r){for(var n=r<0?r+e:r;++n<e;)t.push(n);return t})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=ct(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=ft(e);function vt(){}function mt(t){for(var e=0,r=t.length,n="";e<r;e++)n+=t[e].value;return n}function yt(t,e,r){var n=e.dir,i=e.next,o=i||n,s=r&&"parentNode"===o,a=T++;return e.first?function(e,r,i){for(;e=e[n];)if(1===e.nodeType||s)return t(e,r,i);return!1}:function(e,r,u){var l,h,c,f=[w,a];if(u){for(;e=e[n];)if((1===e.nodeType||s)&&t(e,r,u))return!0}else for(;e=e[n];)if(1===e.nodeType||s)if(h=(c=e[b]||(e[b]={}))[e.uniqueID]||(c[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[n]||e;else{if((l=h[o])&&l[0]===w&&l[1]===a)return f[2]=l[2];if(h[o]=f,f[2]=t(e,r,u))return!0}return!1}}function xt(t){return t.length>1?function(e,r,n){for(var i=t.length;i--;)if(!t[i](e,r,n))return!1;return!0}:t[0]}function bt(t,e,r,n,i){for(var o,s=[],a=0,u=t.length,l=null!=e;a<u;a++)(o=t[a])&&(r&&!r(o,n,i)||(s.push(o),l&&e.push(a)));return s}function _t(t,e,r,n,i,o){return n&&!n[b]&&(n=_t(n)),i&&!i[b]&&(i=_t(i,o)),at(function(o,s,a,u){var l,h,c,f=[],p=[],d=s.length,g=o||function(t,e,r){for(var n=0,i=e.length;n<i;n++)ot(t,e[n],r);return r}(e||"*",a.nodeType?[a]:a,[]),v=!t||!o&&e?g:bt(g,f,t,a,u),m=r?i||(o?t:d||n)?[]:s:v;if(r&&r(v,m,a,u),n)for(l=bt(m,p),n(l,[],a,u),h=l.length;h--;)(c=l[h])&&(m[p[h]]=!(v[p[h]]=c));if(o){if(i||t){if(i){for(l=[],h=m.length;h--;)(c=m[h])&&l.push(v[h]=c);i(null,m=[],l,u)}for(h=m.length;h--;)(c=m[h])&&(l=i?L(o,c):f[h])>-1&&(o[l]=!(s[l]=c))}}else m=bt(m===s?m.splice(d,m.length):m),i?i(null,s,m,u):D.apply(s,m)})}function wt(t){for(var e,r,i,o=t.length,s=n.relative[t[0].type],a=s||n.relative[" "],u=s?1:0,h=yt(function(t){return t===e},a,!0),c=yt(function(t){return L(e,t)>-1},a,!0),f=[function(t,r,n){var i=!s&&(n||r!==l)||((e=r).nodeType?h(t,r,n):c(t,r,n));return e=null,i}];u<o;u++)if(r=n.relative[t[u].type])f=[yt(xt(f),r)];else{if((r=n.filter[t[u].type].apply(null,t[u].matches))[b]){for(i=++u;i<o&&!n.relative[t[i].type];i++);return _t(u>1&&xt(f),u>1&&mt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(j,"$1"),r,u<i&&wt(t.slice(u,i)),i<o&&wt(t=t.slice(i)),i<o&&mt(t))}f.push(r)}return xt(f)}return vt.prototype=n.filters=n.pseudos,n.setFilters=new vt,s=ot.tokenize=function(t,e){var r,i,o,s,a,u,l,h=S[t+" "];if(h)return e?0:h.slice(0);for(a=t,u=[],l=n.preFilter;a;){for(s in r&&!(i=G.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=W.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(j," ")}),a=a.slice(r.length)),n.filter)!(i=Y[s].exec(a))||l[s]&&!(i=l[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return e?a.length:a?ot.error(t):S(t,u).slice(0)},a=ot.compile=function(t,e){var r,i=[],o=[],a=A[t+" "];if(!a){for(e||(e=s(t)),r=e.length;r--;)(a=wt(e[r]))[b]?i.push(a):o.push(a);(a=A(t,function(t,e){var r=e.length>0,i=t.length>0,o=function(o,s,a,u,h){var c,d,v,m=0,y="0",x=o&&[],b=[],_=l,T=o||i&&n.find.TAG("*",h),E=w+=null==_?1:Math.random()||.1,S=T.length;for(h&&(l=s===p||s||h);y!==S&&null!=(c=T[y]);y++){if(i&&c){for(d=0,s||c.ownerDocument===p||(f(c),a=!g);v=t[d++];)if(v(c,s||p,a)){u.push(c);break}h&&(w=E)}r&&((c=!v&&c)&&m--,o&&x.push(c))}if(m+=y,r&&y!==m){for(d=0;v=e[d++];)v(x,b,s,a);if(o){if(m>0)for(;y--;)x[y]||b[y]||(b[y]=O.call(u));b=bt(b)}D.apply(u,b),h&&!o&&b.length>0&&m+e.length>1&&ot.uniqueSort(u)}return h&&(w=E,l=_),x};return r?at(o):o}(o,i))).selector=t}return a},u=ot.select=function(t,e,r,i){var o,u,l,h,c,f="function"==typeof t&&t,p=!i&&s(t=f.selector||t);if(r=r||[],1===p.length){if((u=p[0]=p[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===e.nodeType&&g&&n.relative[u[1].type]){if(!(e=(n.find.ID(l.matches[0].replace(J,tt),e)||[])[0]))return r;f&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=Y.needsContext.test(t)?0:u.length;o--&&(l=u[o],!n.relative[h=l.type]);)if((c=n.find[h])&&(i=c(l.matches[0].replace(J,tt),Q.test(u[0].type)&&gt(e.parentNode)||e))){if(u.splice(o,1),!(t=i.length&&mt(u)))return D.apply(r,i),r;break}}return(f||a(t,p))(i,e,!g,r,!e||Q.test(t)&&gt(e.parentNode)||e),r},r.sortStable=b.split("").sort(C).join("")===b,r.detectDuplicates=!!c,f(),r.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,r){if(!r)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),r.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,r){if(!r&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||lt(F,function(t,e,r){var n;if(!r)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),ot}(r);T.find=A,T.expr=A.selectors,T.expr[":"]=T.expr.pseudos,T.uniqueSort=T.unique=A.uniqueSort,T.text=A.getText,T.isXMLDoc=A.isXML,T.contains=A.contains,T.escapeSelector=A.escape;var C=function(t,e,r){for(var n=[],i=void 0!==r;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&T(t).is(r))break;n.push(t)}return n},M=function(t,e){for(var r=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&r.push(t);return r},R=T.expr.match.needsContext;function O(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(t,e,r){return y(e)?T.grep(t,function(t,n){return!!e.call(t,n,t)!==r}):e.nodeType?T.grep(t,function(t){return t===e!==r}):"string"!=typeof e?T.grep(t,function(t){return c.call(e,t)>-1!==r}):T.filter(e,t,r)}T.filter=function(t,e,r){var n=e[0];return r&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?T.find.matchesSelector(n,t)?[n]:[]:T.find.matches(t,T.grep(e,function(t){return 1===t.nodeType}))},T.fn.extend({find:function(t){var e,r,n=this.length,i=this;if("string"!=typeof t)return this.pushStack(T(t).filter(function(){for(e=0;e<n;e++)if(T.contains(i[e],this))return!0}));for(r=this.pushStack([]),e=0;e<n;e++)T.find(t,i[e],r);return n>1?T.uniqueSort(r):r},filter:function(t){return this.pushStack(D(this,t||[],!1))},not:function(t){return this.pushStack(D(this,t||[],!0))},is:function(t){return!!D(this,"string"==typeof t&&R.test(t)?T(t):t||[],!1).length}});var I,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(T.fn.init=function(t,e,r){var n,i;if(!t)return this;if(r=r||I,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:L.exec(t))||!n[1]&&e)return!e||e.jquery?(e||r).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof T?e[0]:e,T.merge(this,T.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:s,!0)),P.test(n[1])&&T.isPlainObject(e))for(n in e)y(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(i=s.getElementById(n[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==r.ready?r.ready(t):t(T):T.makeArray(t,this)}).prototype=T.fn,I=T(s);var F=/^(?:parents|prev(?:Until|All))/,k={children:!0,contents:!0,next:!0,prev:!0};function B(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}T.fn.extend({has:function(t){var e=T(t,this),r=e.length;return this.filter(function(){for(var t=0;t<r;t++)if(T.contains(this,e[t]))return!0})},closest:function(t,e){var r,n=0,i=this.length,o=[],s="string"!=typeof t&&T(t);if(!R.test(t))for(;n<i;n++)for(r=this[n];r&&r!==e;r=r.parentNode)if(r.nodeType<11&&(s?s.index(r)>-1:1===r.nodeType&&T.find.matchesSelector(r,t))){o.push(r);break}return this.pushStack(o.length>1?T.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?c.call(T(t),this[0]):c.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),T.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return C(t,"parentNode")},parentsUntil:function(t,e,r){return C(t,"parentNode",r)},next:function(t){return B(t,"nextSibling")},prev:function(t){return B(t,"previousSibling")},nextAll:function(t){return C(t,"nextSibling")},prevAll:function(t){return C(t,"previousSibling")},nextUntil:function(t,e,r){return C(t,"nextSibling",r)},prevUntil:function(t,e,r){return C(t,"previousSibling",r)},siblings:function(t){return M((t.parentNode||{}).firstChild,t)},children:function(t){return M(t.firstChild)},contents:function(t){return O(t,"iframe")?t.contentDocument:(O(t,"template")&&(t=t.content||t),T.merge([],t.childNodes))}},function(t,e){T.fn[t]=function(r,n){var i=T.map(this,e,r);return"Until"!==t.slice(-5)&&(n=r),n&&"string"==typeof n&&(i=T.filter(n,i)),this.length>1&&(k[t]||T.uniqueSort(i),F.test(t)&&i.reverse()),this.pushStack(i)}});var N=/[^\x20\t\r\n\f]+/g;function U(t){return t}function $(t){throw t}function j(t,e,r,n){var i;try{t&&y(i=t.promise)?i.call(t).done(e).fail(r):t&&y(i=t.then)?i.call(t,e,r):e.apply(void 0,[t].slice(n))}catch(t){r.apply(void 0,[t])}}T.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return T.each(t.match(N)||[],function(t,r){e[r]=!0}),e}(t):T.extend({},t);var e,r,n,i,o=[],s=[],a=-1,u=function(){for(i=i||t.once,n=e=!0;s.length;a=-1)for(r=s.shift();++a<o.length;)!1===o[a].apply(r[0],r[1])&&t.stopOnFalse&&(a=o.length,r=!1);t.memory||(r=!1),e=!1,i&&(o=r?[]:"")},l={add:function(){return o&&(r&&!e&&(a=o.length-1,s.push(r)),function e(r){T.each(r,function(r,n){y(n)?t.unique&&l.has(n)||o.push(n):n&&n.length&&"string"!==w(n)&&e(n)})}(arguments),r&&!e&&u()),this},remove:function(){return T.each(arguments,function(t,e){for(var r;(r=T.inArray(e,o,r))>-1;)o.splice(r,1),r<=a&&a--}),this},has:function(t){return t?T.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=r="",this},disabled:function(){return!o},lock:function(){return i=s=[],r||e||(o=r=""),this},locked:function(){return!!i},fireWith:function(t,r){return i||(r=[t,(r=r||[]).slice?r.slice():r],s.push(r),e||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},T.extend({Deferred:function(t){var e=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return T.Deferred(function(r){T.each(e,function(e,n){var i=y(t[n[4]])&&t[n[4]];o[n[1]](function(){var t=i&&i.apply(this,arguments);t&&y(t.promise)?t.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[n[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(t,n,i){var o=0;function s(t,e,n,i){return function(){var a=this,u=arguments,l=function(){var r,l;if(!(t<o)){if((r=n.apply(a,u))===e.promise())throw new TypeError("Thenable self-resolution");l=r&&("object"==typeof r||"function"==typeof r)&&r.then,y(l)?i?l.call(r,s(o,e,U,i),s(o,e,$,i)):(o++,l.call(r,s(o,e,U,i),s(o,e,$,i),s(o,e,U,e.notifyWith))):(n!==U&&(a=void 0,u=[r]),(i||e.resolveWith)(a,u))}},h=i?l:function(){try{l()}catch(r){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(r,h.stackTrace),t+1>=o&&(n!==$&&(a=void 0,u=[r]),e.rejectWith(a,u))}};t?h():(T.Deferred.getStackHook&&(h.stackTrace=T.Deferred.getStackHook()),r.setTimeout(h))}}return T.Deferred(function(r){e[0][3].add(s(0,r,y(i)?i:U,r.notifyWith)),e[1][3].add(s(0,r,y(t)?t:U)),e[2][3].add(s(0,r,y(n)?n:$))}).promise()},promise:function(t){return null!=t?T.extend(t,i):i}},o={};return T.each(e,function(t,r){var s=r[2],a=r[5];i[r[1]]=s.add,a&&s.add(function(){n=a},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=s.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,r=e,n=Array(r),i=u.call(arguments),o=T.Deferred(),s=function(t){return function(r){n[t]=this,i[t]=arguments.length>1?u.call(arguments):r,--e||o.resolveWith(n,i)}};if(e<=1&&(j(t,o.done(s(r)).resolve,o.reject,!e),"pending"===o.state()||y(i[r]&&i[r].then)))return o.then();for(;r--;)j(i[r],s(r),o.reject);return o.promise()}});var G=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(t,e){r.console&&r.console.warn&&t&&G.test(t.name)&&r.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},T.readyException=function(t){r.setTimeout(function(){throw t})};var W=T.Deferred();function V(){s.removeEventListener("DOMContentLoaded",V),r.removeEventListener("load",V),T.ready()}T.fn.ready=function(t){return W.then(t).catch(function(t){T.readyException(t)}),this},T.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--T.readyWait:T.isReady)||(T.isReady=!0,!0!==t&&--T.readyWait>0||W.resolveWith(s,[T]))}}),T.ready.then=W.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?r.setTimeout(T.ready):(s.addEventListener("DOMContentLoaded",V),r.addEventListener("load",V));var X=function(t,e,r,n,i,o,s){var a=0,u=t.length,l=null==r;if("object"===w(r))for(a in i=!0,r)X(t,e,a,r[a],!0,o,s);else if(void 0!==n&&(i=!0,y(n)||(s=!0),l&&(s?(e.call(t,n),e=null):(l=e,e=function(t,e,r){return l.call(T(t),r)})),e))for(;a<u;a++)e(t[a],r,s?n:n.call(t[a],a,e(t[a],r)));return i?t:l?e.call(t):u?e(t[0],r):o},z=/^-ms-/,Y=/-([a-z])/g;function H(t,e){return e.toUpperCase()}function q(t){return t.replace(z,"ms-").replace(Y,H)}var Z=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function K(){this.expando=T.expando+K.uid++}K.uid=1,K.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Z(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,r){var n,i=this.cache(t);if("string"==typeof e)i[q(e)]=r;else for(n in e)i[q(n)]=e[n];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][q(e)]},access:function(t,e,r){return void 0===e||e&&"string"==typeof e&&void 0===r?this.get(t,e):(this.set(t,e,r),void 0!==r?r:e)},remove:function(t,e){var r,n=t[this.expando];if(void 0!==n){if(void 0!==e){r=(e=Array.isArray(e)?e.map(q):(e=q(e))in n?[e]:e.match(N)||[]).length;for(;r--;)delete n[e[r]]}(void 0===e||T.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!T.isEmptyObject(e)}};var Q=new K,J=new K,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function rt(t,e,r){var n;if(void 0===r&&1===t.nodeType)if(n="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(r=t.getAttribute(n))){try{r=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(r)}catch(t){}J.set(t,e,r)}else r=void 0;return r}T.extend({hasData:function(t){return J.hasData(t)||Q.hasData(t)},data:function(t,e,r){return J.access(t,e,r)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,r){return Q.access(t,e,r)},_removeData:function(t,e){Q.remove(t,e)}}),T.fn.extend({data:function(t,e){var r,n,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=J.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){for(r=s.length;r--;)s[r]&&0===(n=s[r].name).indexOf("data-")&&(n=q(n.slice(5)),rt(o,n,i[n]));Q.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){J.set(this,t)}):X(this,function(e){var r;if(o&&void 0===e)return void 0!==(r=J.get(o,t))?r:void 0!==(r=rt(o,t))?r:void 0;this.each(function(){J.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){J.remove(this,t)})}}),T.extend({queue:function(t,e,r){var n;if(t)return e=(e||"fx")+"queue",n=Q.get(t,e),r&&(!n||Array.isArray(r)?n=Q.access(t,e,T.makeArray(r)):n.push(r)),n||[]},dequeue:function(t,e){e=e||"fx";var r=T.queue(t,e),n=r.length,i=r.shift(),o=T._queueHooks(t,e);"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===e&&r.unshift("inprogress"),delete o.stop,i.call(t,function(){T.dequeue(t,e)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var r=e+"queueHooks";return Q.get(t,r)||Q.access(t,r,{empty:T.Callbacks("once memory").add(function(){Q.remove(t,[e+"queue",r])})})}}),T.fn.extend({queue:function(t,e){var r=2;return"string"!=typeof t&&(e=t,t="fx",r--),arguments.length<r?T.queue(this[0],t):void 0===e?this:this.each(function(){var r=T.queue(this,t,e);T._queueHooks(this,t),"fx"===t&&"inprogress"!==r[0]&&T.dequeue(this,t)})},dequeue:function(t){return this.each(function(){T.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var r,n=1,i=T.Deferred(),o=this,s=this.length,a=function(){--n||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(r=Q.get(o[s],t+"queueHooks"))&&r.empty&&(n++,r.empty.add(a));return a(),i.promise(e)}});var nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+nt+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],st=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&T.contains(t.ownerDocument,t)&&"none"===T.css(t,"display")},at=function(t,e,r,n){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in i=r.apply(t,n||[]),e)t.style[o]=s[o];return i};function ut(t,e,r,n){var i,o,s=20,a=n?function(){return n.cur()}:function(){return T.css(t,e,"")},u=a(),l=r&&r[3]||(T.cssNumber[e]?"":"px"),h=(T.cssNumber[e]||"px"!==l&&+u)&&it.exec(T.css(t,e));if(h&&h[3]!==l){for(u/=2,l=l||h[3],h=+u||1;s--;)T.style(t,e,h+l),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),h/=o;h*=2,T.style(t,e,h+l),r=r||[]}return r&&(h=+h||+u||0,i=r[1]?h+(r[1]+1)*r[2]:+r[2],n&&(n.unit=l,n.start=h,n.end=i)),i}var lt={};function ht(t){var e,r=t.ownerDocument,n=t.nodeName,i=lt[n];return i||(e=r.body.appendChild(r.createElement(n)),i=T.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),lt[n]=i,i)}function ct(t,e){for(var r,n,i=[],o=0,s=t.length;o<s;o++)(n=t[o]).style&&(r=n.style.display,e?("none"===r&&(i[o]=Q.get(n,"display")||null,i[o]||(n.style.display="")),""===n.style.display&&st(n)&&(i[o]=ht(n))):"none"!==r&&(i[o]="none",Q.set(n,"display",r)));for(o=0;o<s;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}T.fn.extend({show:function(){return ct(this,!0)},hide:function(){return ct(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){st(this)?T(this).show():T(this).hide()})}});var ft=/^(?:checkbox|radio)$/i,pt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,dt=/^$|^module$|\/(?:java|ecma)script/i,gt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function vt(t,e){var r;return r=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&O(t,e)?T.merge([t],r):r}function mt(t,e){for(var r=0,n=t.length;r<n;r++)Q.set(t[r],"globalEval",!e||Q.get(e[r],"globalEval"))}gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td;var yt,xt,bt=/<|&#?\w+;/;function _t(t,e,r,n,i){for(var o,s,a,u,l,h,c=e.createDocumentFragment(),f=[],p=0,d=t.length;p<d;p++)if((o=t[p])||0===o)if("object"===w(o))T.merge(f,o.nodeType?[o]:o);else if(bt.test(o)){for(s=s||c.appendChild(e.createElement("div")),a=(pt.exec(o)||["",""])[1].toLowerCase(),u=gt[a]||gt._default,s.innerHTML=u[1]+T.htmlPrefilter(o)+u[2],h=u[0];h--;)s=s.lastChild;T.merge(f,s.childNodes),(s=c.firstChild).textContent=""}else f.push(e.createTextNode(o));for(c.textContent="",p=0;o=f[p++];)if(n&&T.inArray(o,n)>-1)i&&i.push(o);else if(l=T.contains(o.ownerDocument,o),s=vt(c.appendChild(o),"script"),l&&mt(s),r)for(h=0;o=s[h++];)dt.test(o.type||"")&&r.push(o);return c}yt=s.createDocumentFragment().appendChild(s.createElement("div")),(xt=s.createElement("input")).setAttribute("type","radio"),xt.setAttribute("checked","checked"),xt.setAttribute("name","t"),yt.appendChild(xt),m.checkClone=yt.cloneNode(!0).cloneNode(!0).lastChild.checked,yt.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!yt.cloneNode(!0).lastChild.defaultValue;var wt=s.documentElement,Tt=/^key/,Et=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,St=/^([^.]*)(?:\.(.+)|)/;function At(){return!0}function Ct(){return!1}function Mt(){try{return s.activeElement}catch(t){}}function Rt(t,e,r,n,i,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof r&&(n=n||r,r=void 0),e)Rt(t,a,r,n,e[a],o);return t}if(null==n&&null==i?(i=r,n=r=void 0):null==i&&("string"==typeof r?(i=n,n=void 0):(i=n,n=r,r=void 0)),!1===i)i=Ct;else if(!i)return t;return 1===o&&(s=i,(i=function(t){return T().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=T.guid++)),t.each(function(){T.event.add(this,e,i,n,r)})}T.event={global:{},add:function(t,e,r,n,i){var o,s,a,u,l,h,c,f,p,d,g,v=Q.get(t);if(v)for(r.handler&&(r=(o=r).handler,i=o.selector),i&&T.find.matchesSelector(wt,i),r.guid||(r.guid=T.guid++),(u=v.events)||(u=v.events={}),(s=v.handle)||(s=v.handle=function(e){return void 0!==T&&T.event.triggered!==e.type?T.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(N)||[""]).length;l--;)p=g=(a=St.exec(e[l])||[])[1],d=(a[2]||"").split(".").sort(),p&&(c=T.event.special[p]||{},p=(i?c.delegateType:c.bindType)||p,c=T.event.special[p]||{},h=T.extend({type:p,origType:g,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&T.expr.match.needsContext.test(i),namespace:d.join(".")},o),(f=u[p])||((f=u[p]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,n,d,s)||t.addEventListener&&t.addEventListener(p,s)),c.add&&(c.add.call(t,h),h.handler.guid||(h.handler.guid=r.guid)),i?f.splice(f.delegateCount++,0,h):f.push(h),T.event.global[p]=!0)},remove:function(t,e,r,n,i){var o,s,a,u,l,h,c,f,p,d,g,v=Q.hasData(t)&&Q.get(t);if(v&&(u=v.events)){for(l=(e=(e||"").match(N)||[""]).length;l--;)if(p=g=(a=St.exec(e[l])||[])[1],d=(a[2]||"").split(".").sort(),p){for(c=T.event.special[p]||{},f=u[p=(n?c.delegateType:c.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)h=f[o],!i&&g!==h.origType||r&&r.guid!==h.guid||a&&!a.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(f.splice(o,1),h.selector&&f.delegateCount--,c.remove&&c.remove.call(t,h));s&&!f.length&&(c.teardown&&!1!==c.teardown.call(t,d,v.handle)||T.removeEvent(t,p,v.handle),delete u[p])}else for(p in u)T.event.remove(t,p+e[l],r,n,!0);T.isEmptyObject(u)&&Q.remove(t,"handle events")}},dispatch:function(t){var e,r,n,i,o,s,a=T.event.fix(t),u=new Array(arguments.length),l=(Q.get(this,"events")||{})[a.type]||[],h=T.event.special[a.type]||{};for(u[0]=a,e=1;e<arguments.length;e++)u[e]=arguments[e];if(a.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,a)){for(s=T.event.handlers.call(this,a,l),e=0;(i=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,r=0;(o=i.handlers[r++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(n=((T.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(a.result=n)&&(a.preventDefault(),a.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,a),a.result}},handlers:function(t,e){var r,n,i,o,s,a=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],s={},r=0;r<u;r++)void 0===s[i=(n=e[r]).selector+" "]&&(s[i]=n.needsContext?T(i,this).index(l)>-1:T.find(i,this,null,[l]).length),s[i]&&o.push(n);o.length&&a.push({elem:l,handlers:o})}return l=this,u<e.length&&a.push({elem:l,handlers:e.slice(u)}),a},addProp:function(t,e){Object.defineProperty(T.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[T.expando]?t:new T.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Mt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Mt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&O(this,"input"))return this.click(),!1},_default:function(t){return O(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},T.removeEvent=function(t,e,r){t.removeEventListener&&t.removeEventListener(e,r)},T.Event=function(t,e){if(!(this instanceof T.Event))return new T.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?At:Ct,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&T.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:Ct,isPropagationStopped:Ct,isImmediatePropagationStopped:Ct,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=At,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=At,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=At,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Tt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Et.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},T.event.addProp),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){T.event.special[t]={delegateType:e,bindType:e,handle:function(t){var r,n=t.relatedTarget,i=t.handleObj;return n&&(n===this||T.contains(this,n))||(t.type=i.origType,r=i.handler.apply(this,arguments),t.type=e),r}}}),T.fn.extend({on:function(t,e,r,n){return Rt(this,t,e,r,n)},one:function(t,e,r,n){return Rt(this,t,e,r,n,1)},off:function(t,e,r){var n,i;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,T(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(r=e,e=void 0),!1===r&&(r=Ct),this.each(function(){T.event.remove(this,t,r,e)})}});var Ot=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Pt=/<script|<style|<link/i,Dt=/checked\s*(?:[^=]|=\s*.checked.)/i,It=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Lt(t,e){return O(t,"table")&&O(11!==e.nodeType?e:e.firstChild,"tr")&&T(t).children("tbody")[0]||t}function Ft(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function kt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Bt(t,e){var r,n,i,o,s,a,u,l;if(1===e.nodeType){if(Q.hasData(t)&&(o=Q.access(t),s=Q.set(e,o),l=o.events))for(i in delete s.handle,s.events={},l)for(r=0,n=l[i].length;r<n;r++)T.event.add(e,i,l[i][r]);J.hasData(t)&&(a=J.access(t),u=T.extend({},a),J.set(e,u))}}function Nt(t,e,r,n){e=l.apply([],e);var i,o,s,a,u,h,c=0,f=t.length,p=f-1,d=e[0],g=y(d);if(g||f>1&&"string"==typeof d&&!m.checkClone&&Dt.test(d))return t.each(function(i){var o=t.eq(i);g&&(e[0]=d.call(this,i,o.html())),Nt(o,e,r,n)});if(f&&(o=(i=_t(e,t[0].ownerDocument,!1,t,n)).firstChild,1===i.childNodes.length&&(i=o),o||n)){for(a=(s=T.map(vt(i,"script"),Ft)).length;c<f;c++)u=i,c!==p&&(u=T.clone(u,!0,!0),a&&T.merge(s,vt(u,"script"))),r.call(t[c],u,c);if(a)for(h=s[s.length-1].ownerDocument,T.map(s,kt),c=0;c<a;c++)u=s[c],dt.test(u.type||"")&&!Q.access(u,"globalEval")&&T.contains(h,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?T._evalUrl&&T._evalUrl(u.src):_(u.textContent.replace(It,""),h,u))}return t}function Ut(t,e,r){for(var n,i=e?T.filter(e,t):t,o=0;null!=(n=i[o]);o++)r||1!==n.nodeType||T.cleanData(vt(n)),n.parentNode&&(r&&T.contains(n.ownerDocument,n)&&mt(vt(n,"script")),n.parentNode.removeChild(n));return t}T.extend({htmlPrefilter:function(t){return t.replace(Ot,"<$1></$2>")},clone:function(t,e,r){var n,i,o,s,a,u,l,h=t.cloneNode(!0),c=T.contains(t.ownerDocument,t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||T.isXMLDoc(t)))for(s=vt(h),n=0,i=(o=vt(t)).length;n<i;n++)a=o[n],u=s[n],void 0,"input"===(l=u.nodeName.toLowerCase())&&ft.test(a.type)?u.checked=a.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=a.defaultValue);if(e)if(r)for(o=o||vt(t),s=s||vt(h),n=0,i=o.length;n<i;n++)Bt(o[n],s[n]);else Bt(t,h);return(s=vt(h,"script")).length>0&&mt(s,!c&&vt(t,"script")),h},cleanData:function(t){for(var e,r,n,i=T.event.special,o=0;void 0!==(r=t[o]);o++)if(Z(r)){if(e=r[Q.expando]){if(e.events)for(n in e.events)i[n]?T.event.remove(r,n):T.removeEvent(r,n,e.handle);r[Q.expando]=void 0}r[J.expando]&&(r[J.expando]=void 0)}}}),T.fn.extend({detach:function(t){return Ut(this,t,!0)},remove:function(t){return Ut(this,t)},text:function(t){return X(this,function(t){return void 0===t?T.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Nt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Lt(this,t).appendChild(t)})},prepend:function(){return Nt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Lt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Nt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Nt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(T.cleanData(vt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return T.clone(this,t,e)})},html:function(t){return X(this,function(t){var e=this[0]||{},r=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Pt.test(t)&&!gt[(pt.exec(t)||["",""])[1].toLowerCase()]){t=T.htmlPrefilter(t);try{for(;r<n;r++)1===(e=this[r]||{}).nodeType&&(T.cleanData(vt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Nt(this,arguments,function(e){var r=this.parentNode;T.inArray(this,t)<0&&(T.cleanData(vt(this)),r&&r.replaceChild(e,this))},t)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){T.fn[t]=function(t){for(var r,n=[],i=T(t),o=i.length-1,s=0;s<=o;s++)r=s===o?this:this.clone(!0),T(i[s])[e](r),h.apply(n,r.get());return this.pushStack(n)}});var $t=new RegExp("^("+nt+")(?!px)[a-z%]+$","i"),jt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=r),e.getComputedStyle(t)},Gt=new RegExp(ot.join("|"),"i");function Wt(t,e,r){var n,i,o,s,a=t.style;return(r=r||jt(t))&&(""!==(s=r.getPropertyValue(e)||r[e])||T.contains(t.ownerDocument,t)||(s=T.style(t,e)),!m.pixelBoxStyles()&&$t.test(s)&&Gt.test(e)&&(n=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=r.width,a.width=n,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function Vt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(h){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",h.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",wt.appendChild(l).appendChild(h);var t=r.getComputedStyle(h);n="1%"!==t.top,u=12===e(t.marginLeft),h.style.right="60%",a=36===e(t.right),i=36===e(t.width),h.style.position="absolute",o=36===h.offsetWidth||"absolute",wt.removeChild(l),h=null}}function e(t){return Math.round(parseFloat(t))}var n,i,o,a,u,l=s.createElement("div"),h=s.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===h.style.backgroundClip,T.extend(m,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o}}))}();var Xt=/^(none|table(?!-c[ea]).+)/,zt=/^--/,Yt={position:"absolute",visibility:"hidden",display:"block"},Ht={letterSpacing:"0",fontWeight:"400"},qt=["Webkit","Moz","ms"],Zt=s.createElement("div").style;function Kt(t){var e=T.cssProps[t];return e||(e=T.cssProps[t]=function(t){if(t in Zt)return t;for(var e=t[0].toUpperCase()+t.slice(1),r=qt.length;r--;)if((t=qt[r]+e)in Zt)return t}(t)||t),e}function Qt(t,e,r){var n=it.exec(e);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):e}function Jt(t,e,r,n,i,o){var s="width"===e?1:0,a=0,u=0;if(r===(n?"border":"content"))return 0;for(;s<4;s+=2)"margin"===r&&(u+=T.css(t,r+ot[s],!0,i)),n?("content"===r&&(u-=T.css(t,"padding"+ot[s],!0,i)),"margin"!==r&&(u-=T.css(t,"border"+ot[s]+"Width",!0,i))):(u+=T.css(t,"padding"+ot[s],!0,i),"padding"!==r?u+=T.css(t,"border"+ot[s]+"Width",!0,i):a+=T.css(t,"border"+ot[s]+"Width",!0,i));return!n&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-a-.5))),u}function te(t,e,r){var n=jt(t),i=Wt(t,e,n),o="border-box"===T.css(t,"boxSizing",!1,n),s=o;if($t.test(i)){if(!r)return i;i="auto"}return s=s&&(m.boxSizingReliable()||i===t.style[e]),("auto"===i||!parseFloat(i)&&"inline"===T.css(t,"display",!1,n))&&(i=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),(i=parseFloat(i)||0)+Jt(t,e,r||(o?"border":"content"),s,n,i)+"px"}function ee(t,e,r,n,i){return new ee.prototype.init(t,e,r,n,i)}T.extend({cssHooks:{opacity:{get:function(t,e){if(e){var r=Wt(t,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,r,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=q(e),u=zt.test(e),l=t.style;if(u||(e=Kt(a)),s=T.cssHooks[e]||T.cssHooks[a],void 0===r)return s&&"get"in s&&void 0!==(i=s.get(t,!1,n))?i:l[e];"string"===(o=typeof r)&&(i=it.exec(r))&&i[1]&&(r=ut(t,e,i),o="number"),null!=r&&r==r&&("number"===o&&(r+=i&&i[3]||(T.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==r||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(r=s.set(t,r,n))||(u?l.setProperty(e,r):l[e]=r))}},css:function(t,e,r,n){var i,o,s,a=q(e);return zt.test(e)||(e=Kt(a)),(s=T.cssHooks[e]||T.cssHooks[a])&&"get"in s&&(i=s.get(t,!0,r)),void 0===i&&(i=Wt(t,e,n)),"normal"===i&&e in Ht&&(i=Ht[e]),""===r||r?(o=parseFloat(i),!0===r||isFinite(o)?o||0:i):i}}),T.each(["height","width"],function(t,e){T.cssHooks[e]={get:function(t,r,n){if(r)return!Xt.test(T.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?te(t,e,n):at(t,Yt,function(){return te(t,e,n)})},set:function(t,r,n){var i,o=jt(t),s="border-box"===T.css(t,"boxSizing",!1,o),a=n&&Jt(t,e,n,s,o);return s&&m.scrollboxSize()===o.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-Jt(t,e,"border",!1,o)-.5)),a&&(i=it.exec(r))&&"px"!==(i[3]||"px")&&(t.style[e]=r,r=T.css(t,e)),Qt(0,r,a)}}}),T.cssHooks.marginLeft=Vt(m.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Wt(t,"marginLeft"))||t.getBoundingClientRect().left-at(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),T.each({margin:"",padding:"",border:"Width"},function(t,e){T.cssHooks[t+e]={expand:function(r){for(var n=0,i={},o="string"==typeof r?r.split(" "):[r];n<4;n++)i[t+ot[n]+e]=o[n]||o[n-2]||o[0];return i}},"margin"!==t&&(T.cssHooks[t+e].set=Qt)}),T.fn.extend({css:function(t,e){return X(this,function(t,e,r){var n,i,o={},s=0;if(Array.isArray(e)){for(n=jt(t),i=e.length;s<i;s++)o[e[s]]=T.css(t,e[s],!1,n);return o}return void 0!==r?T.style(t,e,r):T.css(t,e)},t,e,arguments.length>1)}}),T.Tween=ee,ee.prototype={constructor:ee,init:function(t,e,r,n,i,o){this.elem=t,this.prop=r,this.easing=i||T.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(T.cssNumber[r]?"":"px")},cur:function(){var t=ee.propHooks[this.prop];return t&&t.get?t.get(this):ee.propHooks._default.get(this)},run:function(t){var e,r=ee.propHooks[this.prop];return this.options.duration?this.pos=e=T.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):ee.propHooks._default.set(this),this}},ee.prototype.init.prototype=ee.prototype,ee.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=T.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){T.fx.step[t.prop]?T.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[T.cssProps[t.prop]]&&!T.cssHooks[t.prop]?t.elem[t.prop]=t.now:T.style(t.elem,t.prop,t.now+t.unit)}}},ee.propHooks.scrollTop=ee.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},T.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},T.fx=ee.prototype.init,T.fx.step={};var re,ne,ie=/^(?:toggle|show|hide)$/,oe=/queueHooks$/;function se(){ne&&(!1===s.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(se):r.setTimeout(se,T.fx.interval),T.fx.tick())}function ae(){return r.setTimeout(function(){re=void 0}),re=Date.now()}function ue(t,e){var r,n=0,i={height:t};for(e=e?1:0;n<4;n+=2-e)i["margin"+(r=ot[n])]=i["padding"+r]=t;return e&&(i.opacity=i.width=t),i}function le(t,e,r){for(var n,i=(he.tweeners[e]||[]).concat(he.tweeners["*"]),o=0,s=i.length;o<s;o++)if(n=i[o].call(r,e,t))return n}function he(t,e,r){var n,i,o=0,s=he.prefilters.length,a=T.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=re||ae(),r=Math.max(0,l.startTime+l.duration-e),n=1-(r/l.duration||0),o=0,s=l.tweens.length;o<s;o++)l.tweens[o].run(n);return a.notifyWith(t,[l,n,r]),n<1&&s?r:(s||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:T.extend({},e),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},r),originalProperties:e,originalOptions:r,startTime:re||ae(),duration:r.duration,tweens:[],createTween:function(e,r){var n=T.Tween(t,l.opts,e,r,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var r=0,n=e?l.tweens.length:0;if(i)return this;for(i=!0;r<n;r++)l.tweens[r].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),h=l.props;for(!function(t,e){var r,n,i,o,s;for(r in t)if(i=e[n=q(r)],o=t[r],Array.isArray(o)&&(i=o[1],o=t[r]=o[0]),r!==n&&(t[n]=o,delete t[r]),(s=T.cssHooks[n])&&"expand"in s)for(r in o=s.expand(o),delete t[n],o)r in t||(t[r]=o[r],e[r]=i);else e[n]=i}(h,l.opts.specialEasing);o<s;o++)if(n=he.prefilters[o].call(l,t,h,l.opts))return y(n.stop)&&(T._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return T.map(h,le,l),y(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),T.fx.timer(T.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l}T.Animation=T.extend(he,{tweeners:{"*":[function(t,e){var r=this.createTween(t,e);return ut(r.elem,t,it.exec(e),r),r}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(N);for(var r,n=0,i=t.length;n<i;n++)r=t[n],he.tweeners[r]=he.tweeners[r]||[],he.tweeners[r].unshift(e)},prefilters:[function(t,e,r){var n,i,o,s,a,u,l,h,c="width"in e||"height"in e,f=this,p={},d=t.style,g=t.nodeType&&st(t),v=Q.get(t,"fxshow");for(n in r.queue||(null==(s=T._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,T.queue(t,"fx").length||s.empty.fire()})})),e)if(i=e[n],ie.test(i)){if(delete e[n],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[n])continue;g=!0}p[n]=v&&v[n]||T.style(t,n)}if((u=!T.isEmptyObject(e))||!T.isEmptyObject(p))for(n in c&&1===t.nodeType&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],null==(l=v&&v.display)&&(l=Q.get(t,"display")),"none"===(h=T.css(t,"display"))&&(l?h=l:(ct([t],!0),l=t.style.display||l,h=T.css(t,"display"),ct([t]))),("inline"===h||"inline-block"===h&&null!=l)&&"none"===T.css(t,"float")&&(u||(f.done(function(){d.display=l}),null==l&&(h=d.display,l="none"===h?"":h)),d.display="inline-block")),r.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]})),u=!1,p)u||(v?"hidden"in v&&(g=v.hidden):v=Q.access(t,"fxshow",{display:l}),o&&(v.hidden=!g),g&&ct([t],!0),f.done(function(){for(n in g||ct([t]),Q.remove(t,"fxshow"),p)T.style(t,n,p[n])})),u=le(g?v[n]:0,n,f),n in v||(v[n]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),T.speed=function(t,e,r){var n=t&&"object"==typeof t?T.extend({},t):{complete:r||!r&&e||y(t)&&t,duration:t,easing:r&&e||e&&!y(e)&&e};return T.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in T.fx.speeds?n.duration=T.fx.speeds[n.duration]:n.duration=T.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){y(n.old)&&n.old.call(this),n.queue&&T.dequeue(this,n.queue)},n},T.fn.extend({fadeTo:function(t,e,r,n){return this.filter(st).css("opacity",0).show().end().animate({opacity:e},t,r,n)},animate:function(t,e,r,n){var i=T.isEmptyObject(t),o=T.speed(e,r,n),s=function(){var e=he(this,T.extend({},t),o);(i||Q.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,r){var n=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof t&&(r=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=T.timers,s=Q.get(this);if(i)s[i]&&s[i].stop&&n(s[i]);else for(i in s)s[i]&&s[i].stop&&oe.test(i)&&n(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(r),e=!1,o.splice(i,1));!e&&r||T.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,r=Q.get(this),n=r[t+"queue"],i=r[t+"queueHooks"],o=T.timers,s=n?n.length:0;for(r.finish=!0,T.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete r.finish})}}),T.each(["toggle","show","hide"],function(t,e){var r=T.fn[e];T.fn[e]=function(t,n,i){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(ue(e,!0),t,n,i)}}),T.each({slideDown:ue("show"),slideUp:ue("hide"),slideToggle:ue("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){T.fn[t]=function(t,r,n){return this.animate(e,t,r,n)}}),T.timers=[],T.fx.tick=function(){var t,e=0,r=T.timers;for(re=Date.now();e<r.length;e++)(t=r[e])()||r[e]!==t||r.splice(e--,1);r.length||T.fx.stop(),re=void 0},T.fx.timer=function(t){T.timers.push(t),T.fx.start()},T.fx.interval=13,T.fx.start=function(){ne||(ne=!0,se())},T.fx.stop=function(){ne=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(t,e){return t=T.fx&&T.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,n){var i=r.setTimeout(e,t);n.stop=function(){r.clearTimeout(i)}})},function(){var t=s.createElement("input"),e=s.createElement("select").appendChild(s.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=s.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var ce,fe=T.expr.attrHandle;T.fn.extend({attr:function(t,e){return X(this,T.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){T.removeAttr(this,t)})}}),T.extend({attr:function(t,e,r){var n,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?T.prop(t,e,r):(1===o&&T.isXMLDoc(t)||(i=T.attrHooks[e.toLowerCase()]||(T.expr.match.bool.test(e)?ce:void 0)),void 0!==r?null===r?void T.removeAttr(t,e):i&&"set"in i&&void 0!==(n=i.set(t,r,e))?n:(t.setAttribute(e,r+""),r):i&&"get"in i&&null!==(n=i.get(t,e))?n:null==(n=T.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&O(t,"input")){var r=t.value;return t.setAttribute("type",e),r&&(t.value=r),e}}}},removeAttr:function(t,e){var r,n=0,i=e&&e.match(N);if(i&&1===t.nodeType)for(;r=i[n++];)t.removeAttribute(r)}}),ce={set:function(t,e,r){return!1===e?T.removeAttr(t,r):t.setAttribute(r,r),r}},T.each(T.expr.match.bool.source.match(/\w+/g),function(t,e){var r=fe[e]||T.find.attr;fe[e]=function(t,e,n){var i,o,s=e.toLowerCase();return n||(o=fe[s],fe[s]=i,i=null!=r(t,e,n)?s:null,fe[s]=o),i}});var pe=/^(?:input|select|textarea|button)$/i,de=/^(?:a|area)$/i;function ge(t){return(t.match(N)||[]).join(" ")}function ve(t){return t.getAttribute&&t.getAttribute("class")||""}function me(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(N)||[]}T.fn.extend({prop:function(t,e){return X(this,T.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[T.propFix[t]||t]})}}),T.extend({prop:function(t,e,r){var n,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&T.isXMLDoc(t)||(e=T.propFix[e]||e,i=T.propHooks[e]),void 0!==r?i&&"set"in i&&void 0!==(n=i.set(t,r,e))?n:t[e]=r:i&&"get"in i&&null!==(n=i.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=T.find.attr(t,"tabindex");return e?parseInt(e,10):pe.test(t.nodeName)||de.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(T.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){T.propFix[this.toLowerCase()]=this}),T.fn.extend({addClass:function(t){var e,r,n,i,o,s,a,u=0;if(y(t))return this.each(function(e){T(this).addClass(t.call(this,e,ve(this)))});if((e=me(t)).length)for(;r=this[u++];)if(i=ve(r),n=1===r.nodeType&&" "+ge(i)+" "){for(s=0;o=e[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");i!==(a=ge(n))&&r.setAttribute("class",a)}return this},removeClass:function(t){var e,r,n,i,o,s,a,u=0;if(y(t))return this.each(function(e){T(this).removeClass(t.call(this,e,ve(this)))});if(!arguments.length)return this.attr("class","");if((e=me(t)).length)for(;r=this[u++];)if(i=ve(r),n=1===r.nodeType&&" "+ge(i)+" "){for(s=0;o=e[s++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");i!==(a=ge(n))&&r.setAttribute("class",a)}return this},toggleClass:function(t,e){var r=typeof t,n="string"===r||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):y(t)?this.each(function(r){T(this).toggleClass(t.call(this,r,ve(this),e),e)}):this.each(function(){var e,i,o,s;if(n)for(i=0,o=T(this),s=me(t);e=s[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==r||((e=ve(this))&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Q.get(this,"__className__")||""))})},hasClass:function(t){var e,r,n=0;for(e=" "+t+" ";r=this[n++];)if(1===r.nodeType&&(" "+ge(ve(r))+" ").indexOf(e)>-1)return!0;return!1}});var ye=/\r/g;T.fn.extend({val:function(t){var e,r,n,i=this[0];return arguments.length?(n=y(t),this.each(function(r){var i;1===this.nodeType&&(null==(i=n?t.call(this,r,T(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=T.map(i,function(t){return null==t?"":t+""})),(e=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))})):i?(e=T.valHooks[i.type]||T.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(r=e.get(i,"value"))?r:"string"==typeof(r=i.value)?r.replace(ye,""):null==r?"":r:void 0}}),T.extend({valHooks:{option:{get:function(t){var e=T.find.attr(t,"value");return null!=e?e:ge(T.text(t))}},select:{get:function(t){var e,r,n,i=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],u=s?o+1:i.length;for(n=o<0?u:s?o:0;n<u;n++)if(((r=i[n]).selected||n===o)&&!r.disabled&&(!r.parentNode.disabled||!O(r.parentNode,"optgroup"))){if(e=T(r).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var r,n,i=t.options,o=T.makeArray(e),s=i.length;s--;)((n=i[s]).selected=T.inArray(T.valHooks.option.get(n),o)>-1)&&(r=!0);return r||(t.selectedIndex=-1),o}}}}),T.each(["radio","checkbox"],function(){T.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=T.inArray(T(t).val(),e)>-1}},m.checkOn||(T.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),m.focusin="onfocusin"in r;var xe=/^(?:focusinfocus|focusoutblur)$/,be=function(t){t.stopPropagation()};T.extend(T.event,{trigger:function(t,e,n,i){var o,a,u,l,h,c,f,p,g=[n||s],v=d.call(t,"type")?t.type:t,m=d.call(t,"namespace")?t.namespace.split("."):[];if(a=p=u=n=n||s,3!==n.nodeType&&8!==n.nodeType&&!xe.test(v+T.event.triggered)&&(v.indexOf(".")>-1&&(v=(m=v.split(".")).shift(),m.sort()),h=v.indexOf(":")<0&&"on"+v,(t=t[T.expando]?t:new T.Event(v,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:T.makeArray(e,[t]),f=T.event.special[v]||{},i||!f.trigger||!1!==f.trigger.apply(n,e))){if(!i&&!f.noBubble&&!x(n)){for(l=f.delegateType||v,xe.test(l+v)||(a=a.parentNode);a;a=a.parentNode)g.push(a),u=a;u===(n.ownerDocument||s)&&g.push(u.defaultView||u.parentWindow||r)}for(o=0;(a=g[o++])&&!t.isPropagationStopped();)p=a,t.type=o>1?l:f.bindType||v,(c=(Q.get(a,"events")||{})[t.type]&&Q.get(a,"handle"))&&c.apply(a,e),(c=h&&a[h])&&c.apply&&Z(a)&&(t.result=c.apply(a,e),!1===t.result&&t.preventDefault());return t.type=v,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(g.pop(),e)||!Z(n)||h&&y(n[v])&&!x(n)&&((u=n[h])&&(n[h]=null),T.event.triggered=v,t.isPropagationStopped()&&p.addEventListener(v,be),n[v](),t.isPropagationStopped()&&p.removeEventListener(v,be),T.event.triggered=void 0,u&&(n[h]=u)),t.result}},simulate:function(t,e,r){var n=T.extend(new T.Event,r,{type:t,isSimulated:!0});T.event.trigger(n,null,e)}}),T.fn.extend({trigger:function(t,e){return this.each(function(){T.event.trigger(t,e,this)})},triggerHandler:function(t,e){var r=this[0];if(r)return T.event.trigger(t,e,r,!0)}}),m.focusin||T.each({focus:"focusin",blur:"focusout"},function(t,e){var r=function(t){T.event.simulate(e,t.target,T.event.fix(t))};T.event.special[e]={setup:function(){var n=this.ownerDocument||this,i=Q.access(n,e);i||n.addEventListener(t,r,!0),Q.access(n,e,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=Q.access(n,e)-1;i?Q.access(n,e,i):(n.removeEventListener(t,r,!0),Q.remove(n,e))}}});var _e=r.location,we=Date.now(),Te=/\?/;T.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new r.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||T.error("Invalid XML: "+t),e};var Ee=/\[\]$/,Se=/\r?\n/g,Ae=/^(?:submit|button|image|reset|file)$/i,Ce=/^(?:input|select|textarea|keygen)/i;function Me(t,e,r,n){var i;if(Array.isArray(e))T.each(e,function(e,i){r||Ee.test(t)?n(t,i):Me(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,r,n)});else if(r||"object"!==w(e))n(t,e);else for(i in e)Me(t+"["+i+"]",e[i],r,n)}T.param=function(t,e){var r,n=[],i=function(t,e){var r=y(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==r?"":r)};if(Array.isArray(t)||t.jquery&&!T.isPlainObject(t))T.each(t,function(){i(this.name,this.value)});else for(r in t)Me(r,t[r],e,i);return n.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=T.prop(this,"elements");return t?T.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!T(this).is(":disabled")&&Ce.test(this.nodeName)&&!Ae.test(t)&&(this.checked||!ft.test(t))}).map(function(t,e){var r=T(this).val();return null==r?null:Array.isArray(r)?T.map(r,function(t){return{name:e.name,value:t.replace(Se,"\r\n")}}):{name:e.name,value:r.replace(Se,"\r\n")}}).get()}});var Re=/%20/g,Oe=/#.*$/,Pe=/([?&])_=[^&]*/,De=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ie=/^(?:GET|HEAD)$/,Le=/^\/\//,Fe={},ke={},Be="*/".concat("*"),Ne=s.createElement("a");function Ue(t){return function(e,r){"string"!=typeof e&&(r=e,e="*");var n,i=0,o=e.toLowerCase().match(N)||[];if(y(r))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(r)):(t[n]=t[n]||[]).push(r)}}function $e(t,e,r,n){var i={},o=t===ke;function s(a){var u;return i[a]=!0,T.each(t[a]||[],function(t,a){var l=a(e,r,n);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(e.dataTypes.unshift(l),s(l),!1)}),u}return s(e.dataTypes[0])||!i["*"]&&s("*")}function je(t,e){var r,n,i=T.ajaxSettings.flatOptions||{};for(r in e)void 0!==e[r]&&((i[r]?t:n||(n={}))[r]=e[r]);return n&&T.extend(!0,t,n),t}Ne.href=_e.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_e.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_e.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Be,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?je(je(t,T.ajaxSettings),e):je(T.ajaxSettings,t)},ajaxPrefilter:Ue(Fe),ajaxTransport:Ue(ke),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i,o,a,u,l,h,c,f,p,d=T.ajaxSetup({},e),g=d.context||d,v=d.context&&(g.nodeType||g.jquery)?T(g):T.event,m=T.Deferred(),y=T.Callbacks("once memory"),x=d.statusCode||{},b={},_={},w="canceled",E={readyState:0,getResponseHeader:function(t){var e;if(h){if(!a)for(a={};e=De.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return h?o:null},setRequestHeader:function(t,e){return null==h&&(t=_[t.toLowerCase()]=_[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==h&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(h)E.always(t[E.status]);else for(e in t)x[e]=[x[e],t[e]];return this},abort:function(t){var e=t||w;return n&&n.abort(e),S(0,e),this}};if(m.promise(E),d.url=((t||d.url||_e.href)+"").replace(Le,_e.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(N)||[""],null==d.crossDomain){l=s.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=Ne.protocol+"//"+Ne.host!=l.protocol+"//"+l.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=T.param(d.data,d.traditional)),$e(Fe,d,e,E),h)return E;for(f in(c=T.event&&d.global)&&0==T.active++&&T.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ie.test(d.type),i=d.url.replace(Oe,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Re,"+")):(p=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(Te.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(Pe,"$1"),p=(Te.test(i)?"&":"?")+"_="+we+++p),d.url=i+p),d.ifModified&&(T.lastModified[i]&&E.setRequestHeader("If-Modified-Since",T.lastModified[i]),T.etag[i]&&E.setRequestHeader("If-None-Match",T.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&E.setRequestHeader("Content-Type",d.contentType),E.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Be+"; q=0.01":""):d.accepts["*"]),d.headers)E.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(g,E,d)||h))return E.abort();if(w="abort",y.add(d.complete),E.done(d.success),E.fail(d.error),n=$e(ke,d,e,E)){if(E.readyState=1,c&&v.trigger("ajaxSend",[E,d]),h)return E;d.async&&d.timeout>0&&(u=r.setTimeout(function(){E.abort("timeout")},d.timeout));try{h=!1,n.send(b,S)}catch(t){if(h)throw t;S(-1,t)}}else S(-1,"No Transport");function S(t,e,s,a){var l,f,p,b,_,w=e;h||(h=!0,u&&r.clearTimeout(u),n=void 0,o=a||"",E.readyState=t>0?4:0,l=t>=200&&t<300||304===t,s&&(b=function(t,e,r){for(var n,i,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(i in a)if(a[i]&&a[i].test(n)){u.unshift(i);break}if(u[0]in r)o=u[0];else{for(i in r){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),r[o]}(d,E,s)),b=function(t,e,r,n){var i,o,s,a,u,l={},h=t.dataTypes.slice();if(h[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=h.shift();o;)if(t.responseFields[o]&&(r[t.responseFields[o]]=e),!u&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=h.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=l[u+" "+o]||l["* "+o]))for(i in l)if((a=i.split(" "))[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[i]:!0!==l[i]&&(o=a[0],h.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(d,b,E,l),l?(d.ifModified&&((_=E.getResponseHeader("Last-Modified"))&&(T.lastModified[i]=_),(_=E.getResponseHeader("etag"))&&(T.etag[i]=_)),204===t||"HEAD"===d.type?w="nocontent":304===t?w="notmodified":(w=b.state,f=b.data,l=!(p=b.error))):(p=w,!t&&w||(w="error",t<0&&(t=0))),E.status=t,E.statusText=(e||w)+"",l?m.resolveWith(g,[f,w,E]):m.rejectWith(g,[E,w,p]),E.statusCode(x),x=void 0,c&&v.trigger(l?"ajaxSuccess":"ajaxError",[E,d,l?f:p]),y.fireWith(g,[E,w]),c&&(v.trigger("ajaxComplete",[E,d]),--T.active||T.event.trigger("ajaxStop")))}return E},getJSON:function(t,e,r){return T.get(t,e,r,"json")},getScript:function(t,e){return T.get(t,void 0,e,"script")}}),T.each(["get","post"],function(t,e){T[e]=function(t,r,n,i){return y(r)&&(i=i||n,n=r,r=void 0),T.ajax(T.extend({url:t,type:e,dataType:i,data:r,success:n},T.isPlainObject(t)&&t))}}),T._evalUrl=function(t){return T.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},T.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=T(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return y(t)?this.each(function(e){T(this).wrapInner(t.call(this,e))}):this.each(function(){var e=T(this),r=e.contents();r.length?r.wrapAll(t):e.append(t)})},wrap:function(t){var e=y(t);return this.each(function(r){T(this).wrapAll(e?t.call(this,r):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){T(this).replaceWith(this.childNodes)}),this}}),T.expr.pseudos.hidden=function(t){return!T.expr.pseudos.visible(t)},T.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(t){}};var Ge={0:200,1223:204},We=T.ajaxSettings.xhr();m.cors=!!We&&"withCredentials"in We,m.ajax=We=!!We,T.ajaxTransport(function(t){var e,n;if(m.cors||We&&!t.crossDomain)return{send:function(i,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);e=function(t){return function(){e&&(e=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ge[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),n=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout(function(){e&&n()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),T.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return T.globalEval(t),t}}}),T.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),T.ajaxTransport("script",function(t){var e,r;if(t.crossDomain)return{send:function(n,i){e=T("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",r=function(t){e.remove(),r=null,t&&i("error"===t.type?404:200,t.type)}),s.head.appendChild(e[0])},abort:function(){r&&r()}}});var Ve,Xe=[],ze=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Xe.pop()||T.expando+"_"+we++;return this[t]=!0,t}}),T.ajaxPrefilter("json jsonp",function(t,e,n){var i,o,s,a=!1!==t.jsonp&&(ze.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ze.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(ze,"$1"+i):!1!==t.jsonp&&(t.url+=(Te.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||T.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=r[i],r[i]=function(){s=arguments},n.always(function(){void 0===o?T(r).removeProp(i):r[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,Xe.push(i)),s&&y(o)&&o(s[0]),s=o=void 0}),"script"}),m.createHTMLDocument=((Ve=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ve.childNodes.length),T.parseHTML=function(t,e,r){return"string"!=typeof t?[]:("boolean"==typeof e&&(r=e,e=!1),e||(m.createHTMLDocument?((n=(e=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,e.head.appendChild(n)):e=s),i=P.exec(t),o=!r&&[],i?[e.createElement(i[1])]:(i=_t([t],e,o),o&&o.length&&T(o).remove(),T.merge([],i.childNodes)));var n,i,o},T.fn.load=function(t,e,r){var n,i,o,s=this,a=t.indexOf(" ");return a>-1&&(n=ge(t.slice(a)),t=t.slice(0,a)),y(e)?(r=e,e=void 0):e&&"object"==typeof e&&(i="POST"),s.length>0&&T.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(n?T("<div>").append(T.parseHTML(t)).find(n):t)}).always(r&&function(t,e){s.each(function(){r.apply(this,o||[t.responseText,e,t])})}),this},T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){T.fn[e]=function(t){return this.on(e,t)}}),T.expr.pseudos.animated=function(t){return T.grep(T.timers,function(e){return t===e.elem}).length},T.offset={setOffset:function(t,e,r){var n,i,o,s,a,u,l=T.css(t,"position"),h=T(t),c={};"static"===l&&(t.style.position="relative"),a=h.offset(),o=T.css(t,"top"),u=T.css(t,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(s=(n=h.position()).top,i=n.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),y(e)&&(e=e.call(t,r,T.extend({},a))),null!=e.top&&(c.top=e.top-a.top+s),null!=e.left&&(c.left=e.left-a.left+i),"using"in e?e.using.call(t,c):h.css(c)}},T.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){T.offset.setOffset(this,t,e)});var e,r,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),r=n.ownerDocument.defaultView,{top:e.top+r.pageYOffset,left:e.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,r,n=this[0],i={top:0,left:0};if("fixed"===T.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),r=n.ownerDocument,t=n.offsetParent||r.documentElement;t&&(t===r.body||t===r.documentElement)&&"static"===T.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((i=T(t).offset()).top+=T.css(t,"borderTopWidth",!0),i.left+=T.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-T.css(n,"marginTop",!0),left:e.left-i.left-T.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===T.css(t,"position");)t=t.offsetParent;return t||wt})}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var r="pageYOffset"===e;T.fn[t]=function(n){return X(this,function(t,n,i){var o;if(x(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[n];o?o.scrollTo(r?o.pageXOffset:i,r?i:o.pageYOffset):t[n]=i},t,n,arguments.length)}}),T.each(["top","left"],function(t,e){T.cssHooks[e]=Vt(m.pixelPosition,function(t,r){if(r)return r=Wt(t,e),$t.test(r)?T(t).position()[e]+"px":r})}),T.each({Height:"height",Width:"width"},function(t,e){T.each({padding:"inner"+t,content:e,"":"outer"+t},function(r,n){T.fn[n]=function(i,o){var s=arguments.length&&(r||"boolean"!=typeof i),a=r||(!0===i||!0===o?"margin":"border");return X(this,function(e,r,i){var o;return x(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?T.css(e,r,a):T.style(e,r,i,a)},e,s?i:void 0,s)}})}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){T.fn[e]=function(t,r){return arguments.length>0?this.on(e,null,t,r):this.trigger(e)}}),T.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),T.fn.extend({bind:function(t,e,r){return this.on(t,null,e,r)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,r,n){return this.on(e,t,r,n)},undelegate:function(t,e,r){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",r)}}),T.proxy=function(t,e){var r,n,i;if("string"==typeof e&&(r=t[e],e=t,t=r),y(t))return n=u.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(u.call(arguments)))}).guid=t.guid=t.guid||T.guid++,i},T.holdReady=function(t){t?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=O,T.isFunction=y,T.isWindow=x,T.camelCase=q,T.type=w,T.now=Date.now,T.isNumeric=function(t){var e=T.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(n=function(){return T}.apply(e,[]))||(t.exports=n);var Ye=r.jQuery,He=r.$;return T.noConflict=function(t){return r.$===T&&(r.$=He),t&&r.jQuery===T&&(r.jQuery=Ye),T},i||(r.jQuery=r.$=T),T})},EWmC:function(t,e,r){var n=r("LZWt");t.exports=Array.isArray||function(t){return"Array"==n(t)}},EXMj:function(t,e){t.exports=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t}},EemH:function(t,e,r){var n=r("UqcF"),i=r("RjD/"),o=r("aCFj"),s=r("apmT"),a=r("aagx"),u=r("xpql"),l=Object.getOwnPropertyDescriptor;e.f=r("nh4g")?l:function(t,e){if(t=o(t),e=s(e,!0),u)try{return l(t,e)}catch(t){}if(a(t,e))return i(!n.f.call(t,e),t[e])}},"Ew+T":function(t,e,r){var n=r("XKFU"),i=r("GZEu");n(n.G+n.B,{setImmediate:i.set,clearImmediate:i.clear})},FEjr:function(t,e,r){"use strict";r("OGtf")("strike",function(t){return function(){return t(this,"strike","","")}})},FJW5:function(t,e,r){var n=r("hswa"),i=r("y3w9"),o=r("DVgA");t.exports=r("nh4g")?Object.defineProperties:function(t,e){i(t);for(var r,s=o(e),a=s.length,u=0;a>u;)n.f(t,r=s[u++],e[r]);return t}},FLlr:function(t,e,r){var n=r("XKFU");n(n.P,"String",{repeat:r("l0Rn")})},Faw5:function(t,e,r){r("7DDg")("Int16",2,function(t){return function(e,r,n){return t(this,e,r,n)}})},FlQf:function(t,e,r){"use strict";var n=r("ccE7")(!0);r("MPFp")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})})},FlsD:function(t,e,r){var n=r("0/R4");r("Xtr8")("isExtensible",function(t){return function(e){return!!n(e)&&(!t||t(e))}})},FpHa:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},G8Mo:function(t,e,r){var n=r("93I4");t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},GNAe:function(t,e,r){var n=r("XKFU"),i=r("PKUr");n(n.G+n.F*(parseInt!=i),{parseInt:i})},GQeE:function(t,e,r){t.exports={default:r("iq4v"),__esModule:!0}},GZEu:function(t,e,r){var n,i,o,s=r("m0Pp"),a=r("MfQN"),u=r("+rLv"),l=r("Iw71"),h=r("dyZX"),c=h.process,f=h.setImmediate,p=h.clearImmediate,d=h.MessageChannel,g=h.Dispatch,v=0,m={},y=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},x=function(t){y.call(t.data)};f&&p||(f=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return m[++v]=function(){a("function"==typeof t?t:Function(t),e)},n(v),v},p=function(t){delete m[t]},"process"==r("LZWt")(c)?n=function(t){c.nextTick(s(y,t,1))}:g&&g.now?n=function(t){g.now(s(y,t,1))}:d?(o=(i=new d).port2,i.port1.onmessage=x,n=s(o.postMessage,o,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(n=function(t){h.postMessage(t+"","*")},h.addEventListener("message",x,!1)):n="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),t.exports={set:f,clear:p}},H5GT:function(t,e,r){var n=r("XKFU"),i=r("6dIT"),o=r("kcoS");n(n.S,"Math",{fscale:function(t,e,r,n,s){return o(i(t,e,r,n,s))}})},H6hf:function(t,e,r){var n=r("y3w9");t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},"HAE/":function(t,e,r){var n=r("XKFU");n(n.S+n.F*!r("nh4g"),"Object",{defineProperty:r("hswa").f})},HEwt:function(t,e,r){"use strict";var n=r("m0Pp"),i=r("XKFU"),o=r("S/j/"),s=r("H6hf"),a=r("M6Qj"),u=r("ne8i"),l=r("8a7r"),h=r("J+6e");i(i.S+i.F*!r("XMVh")(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,i,c,f=o(t),p="function"==typeof this?this:Array,d=arguments.length,g=d>1?arguments[1]:void 0,v=void 0!==g,m=0,y=h(f);if(v&&(g=n(g,d>2?arguments[2]:void 0,2)),void 0==y||p==Array&&a(y))for(r=new p(e=u(f.length));e>m;m++)l(r,m,v?g(f[m],m):f[m]);else for(c=y.call(f),r=new p;!(i=c.next()).done;m++)l(r,m,v?s(c,g,[i.value,m],!0):i.value);return r.length=m,r}})},Hsns:function(t,e,r){var n=r("93I4"),i=r("5T2Y").document,o=n(i)&&n(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},Hxic:function(t,e,r){var n=r("XKFU");n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},I1BE:function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=function(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa){var i=(s=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),o=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[r].concat(o).concat([i]).join("\n")}var s;return[r].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&n[s[0]]||(r&&!s[2]?s[2]=r:r&&(s[2]="("+s[2]+") and ("+r+")"),e.push(s))}},e}},I5cv:function(t,e,r){var n=r("XKFU"),i=r("Kuth"),o=r("2OiF"),s=r("y3w9"),a=r("0/R4"),u=r("eeVq"),l=r("8MEG"),h=(r("dyZX").Reflect||{}).construct,c=u(function(){function t(){}return!(h(function(){},[],t)instanceof t)}),f=!u(function(){h(function(){})});n(n.S+n.F*(c||f),"Reflect",{construct:function(t,e){o(t),s(e);var r=arguments.length<3?t:o(arguments[2]);if(f&&!c)return h(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(l.apply(t,n))}var u=r.prototype,p=i(a(u)?u:Object.prototype),d=Function.apply.call(t,p,e);return a(d)?d:p}})},I74W:function(t,e,r){"use strict";r("qncB")("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},I78e:function(t,e,r){"use strict";var n=r("XKFU"),i=r("+rLv"),o=r("LZWt"),s=r("d/Gc"),a=r("ne8i"),u=[].slice;n(n.P+n.F*r("eeVq")(function(){i&&u.call(i)}),"Array",{slice:function(t,e){var r=a(this.length),n=o(this);if(e=void 0===e?r:e,"Array"==n)return u.call(this,t,e);for(var i=s(t,r),l=s(e,r),h=a(l-i),c=new Array(h),f=0;f<h;f++)c[f]="String"==n?this.charAt(i+f):this[i+f];return c}})},"I8a+":function(t,e,r){var n=r("LZWt"),i=r("K0xU")("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?r:o?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},INYr:function(t,e,r){"use strict";var n=r("XKFU"),i=r("CkkT")(6),o="findIndex",s=!0;o in[]&&Array(1)[o](function(){s=!1}),n(n.P+n.F*s,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r("nGyu")(o)},"IU+Z":function(t,e,r){"use strict";var n=r("Mukb"),i=r("KroJ"),o=r("eeVq"),s=r("vhPU"),a=r("K0xU");t.exports=function(t,e,r){var u=a(t),l=r(s,u,""[t]),h=l[0],c=l[1];o(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})&&(i(String.prototype,t,h),n(RegExp.prototype,u,2==e?function(t,e){return c.call(t,this,e)}:function(t){return c.call(t,this)}))}},IXt9:function(t,e,r){"use strict";var n=r("0/R4"),i=r("OP3Y"),o=r("K0xU")("hasInstance"),s=Function.prototype;o in s||r("hswa").f(s,o,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},"IbG+":function(t,e,r){(function(t){
/**
 * @license AngularJS v1.6.9
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(e){"use strict";var r={objectMaxDepth:5};function n(t){if(!j(t))return r;$(t.objectMaxDepth)&&(r.objectMaxDepth=i(t.objectMaxDepth)?t.objectMaxDepth:NaN)}function i(t){return V(t)&&t>0}function o(t,e){return e=e||Error,function(){var n,i,o=arguments[0],s=arguments[1],a="["+(t?t+":":"")+o+"] ",u=pt(arguments,2).map(function(t){return qt(t,r.objectMaxDepth)});for(a+=s.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1);return e<u.length?u[e]:t}),a+="\nhttp://errors.angularjs.org/1.6.9/"+(t?t+"/":"")+o,i=0,n="?";i<u.length;i++,n="&")a+=n+"p"+i+"="+encodeURIComponent(u[i]);return new e(a)}}var s=/^\/(.+)\/([a-z]*)$/,a="validity",u=Object.prototype.hasOwnProperty,l=function(t){return W(t)?t.toLowerCase():t},h=function(t){return W(t)?t.toUpperCase():t};"i"!=="I".toLowerCase()&&(l=function(t){return W(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},h=function(t){return W(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t});var c,f,p,d,g=[].slice,v=[].splice,m=[].push,y=Object.prototype.toString,x=Object.getPrototypeOf,b=o("ng"),_=e.angular||(e.angular={}),w=0;function T(t){if(null==t||Z(t))return!1;if(z(t)||W(t)||f&&t instanceof f)return!0;var e="length"in Object(t)&&t.length;return V(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function E(t,e,r){var n,i;if(t)if(H(t))for(n in t)"prototype"!==n&&"length"!==n&&"name"!==n&&t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else if(z(t)||T(t)){var o="object"!=typeof t;for(n=0,i=t.length;n<i;n++)(o||n in t)&&e.call(r,t[n],n,t)}else if(t.forEach&&t.forEach!==E)t.forEach(e,r,t);else if(G(t))for(n in t)e.call(r,t[n],n,t);else if("function"==typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t);else for(n in t)u.call(t,n)&&e.call(r,t[n],n,t);return t}function S(t,e,r){for(var n=Object.keys(t).sort(),i=0;i<n.length;i++)e.call(r,t[n[i]],n[i]);return n}function A(t){return function(e,r){t(r,e)}}function C(){return++w}function M(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function R(t,e,r){for(var n=t.$$hashKey,i=0,o=e.length;i<o;++i){var s=e[i];if(j(s)||H(s))for(var a=Object.keys(s),u=0,l=a.length;u<l;u++){var h=a[u],c=s[h];r&&j(c)?X(c)?t[h]=new Date(c.valueOf()):q(c)?t[h]=new RegExp(c):c.nodeName?t[h]=c.cloneNode(!0):nt(c)?t[h]=c.clone():(j(t[h])||(t[h]=z(c)?[]:{}),R(t[h],[c],!0)):t[h]=c}}return M(t,n),t}function O(t){return R(t,g.call(arguments,1),!1)}function P(t){return R(t,g.call(arguments,1),!0)}function D(t){return parseInt(t,10)}c=e.document.documentMode;var I=Number.isNaN||function(t){return t!=t};function L(t,e){return O(Object.create(t),e)}function F(){}function k(t){return t}function B(t){return function(){return t}}function N(t){return H(t.toString)&&t.toString!==y}function U(t){return void 0===t}function $(t){return void 0!==t}function j(t){return null!==t&&"object"==typeof t}function G(t){return null!==t&&"object"==typeof t&&!x(t)}function W(t){return"string"==typeof t}function V(t){return"number"==typeof t}function X(t){return"[object Date]"===y.call(t)}F.$inject=[],k.$inject=[];var z=Array.isArray;function Y(t){switch(y.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}}function H(t){return"function"==typeof t}function q(t){return"[object RegExp]"===y.call(t)}function Z(t){return t&&t.window===t}function K(t){return t&&t.$evalAsync&&t.$watch}function Q(t){return"boolean"==typeof t}function J(t){return t&&H(t.then)}var tt=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;var et=function(t){return W(t)?t.trim():t},rt=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function nt(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function it(t){return l(t.nodeName||t[0]&&t[0].nodeName)}function ot(t,e){return-1!==Array.prototype.indexOf.call(t,e)}function st(t,e){var r=t.indexOf(e);return r>=0&&t.splice(r,1),r}function at(t,e,r){var n,o,s=[],a=[];if(r=i(r)?r:NaN,e){if((o=e)&&V(o.length)&&tt.test(y.call(o))||(n=e,"[object ArrayBuffer]"===y.call(n)))throw b("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw b("cpi","Can't copy! Source and destination are identical.");return z(e)?e.length=0:E(e,function(t,r){"$$hashKey"!==r&&delete e[r]}),s.push(t),a.push(e),l(t,e,r)}return h(t,r);function l(t,e,r){if(--r<0)return"...";var n,i=e.$$hashKey;if(z(t))for(var o=0,s=t.length;o<s;o++)e.push(h(t[o],r));else if(G(t))for(n in t)e[n]=h(t[n],r);else if(t&&"function"==typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&(e[n]=h(t[n],r));else for(n in t)u.call(t,n)&&(e[n]=h(t[n],r));return M(e,i),e}function h(t,e){if(!j(t))return t;var r=s.indexOf(t);if(-1!==r)return a[r];if(Z(t)||K(t))throw b("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var n=!1,i=function(t){switch(y.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(h(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var r=new RegExp(t.source,t.toString().match(/[^/]*$/)[0]);return r.lastIndex=t.lastIndex,r;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(H(t.cloneNode))return t.cloneNode(!0)}(t);return void 0===i&&(i=z(t)?[]:Object.create(x(t)),n=!0),s.push(t),a.push(i),n?l(t,i,e):i}}function ut(t,e){return t===e||t!=t&&e!=e}function lt(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var r,n,i,o=typeof t;if(o===typeof e&&"object"===o){if(!z(t)){if(X(t))return!!X(e)&&ut(t.getTime(),e.getTime());if(q(t))return!!q(e)&&t.toString()===e.toString();if(K(t)||K(e)||Z(t)||Z(e)||z(e)||X(e)||q(e))return!1;for(n in i=jt(),t)if("$"!==n.charAt(0)&&!H(t[n])){if(!lt(t[n],e[n]))return!1;i[n]=!0}for(n in e)if(!(n in i)&&"$"!==n.charAt(0)&&$(e[n])&&!H(e[n]))return!1;return!0}if(!z(e))return!1;if((r=t.length)===e.length){for(n=0;n<r;n++)if(!lt(t[n],e[n]))return!1;return!0}}return!1}var ht=function(){if(!$(ht.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var r=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");ht.rules={noUnsafeEval:!r||-1!==r.indexOf("no-unsafe-eval"),noInlineStyle:!r||-1!==r.indexOf("no-inline-style")}}else ht.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(t){return!0}}(),noInlineStyle:!1}}return ht.rules},ct=function(){if($(ct.name_))return ct.name_;var t,r,n,i,o=Ct.length;for(r=0;r<o;++r)if(n=Ct[r],t=e.document.querySelector("["+n.replace(":","\\:")+"jq]")){i=t.getAttribute(n+"jq");break}return ct.name_=i};function ft(t,e,r){return t.concat(g.call(e,r))}function pt(t,e){return g.call(t,e||0)}function dt(t,e){var r=arguments.length>2?pt(arguments,2):[];return!H(e)||e instanceof RegExp?e:r.length?function(){return arguments.length?e.apply(t,ft(r,arguments,0)):e.apply(t,r)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function gt(t,r){var n=r;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?n=void 0:Z(r)?n="$WINDOW":r&&e.document===r?n="$DOCUMENT":K(r)&&(n="$SCOPE"),n}function vt(t,e){if(!U(t))return V(e)||(e=e?2:null),JSON.stringify(t,gt,e)}function mt(t){return W(t)?JSON.parse(t):t}var yt=/:/g;function xt(t,e){t=t.replace(yt,"");var r=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return I(r)?e:r}function bt(t,e,r){r=r?-1:1;var n=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(xt(e,n)-n))}function _t(t){t=f(t).clone().empty();var e=f("<div>").append(t).html();try{return t[0].nodeType===Vt?l(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(t,e){return"<"+l(e)})}catch(t){return l(e)}}function wt(t){try{return decodeURIComponent(t)}catch(t){}}function Tt(t){var e={};return E((t||"").split("&"),function(t){var r,n,i;t&&(n=t=t.replace(/\+/g,"%20"),-1!==(r=t.indexOf("="))&&(n=t.substring(0,r),i=t.substring(r+1)),$(n=wt(n))&&(i=!$(i)||wt(i),u.call(e,n)?z(e[n])?e[n].push(i):e[n]=[e[n],i]:e[n]=i))}),e}function Et(t){var e=[];return E(t,function(t,r){z(t)?E(t,function(t){e.push(At(r,!0)+(!0===t?"":"="+At(t,!0)))}):e.push(At(r,!0)+(!0===t?"":"="+At(t,!0)))}),e.length?e.join("&"):""}function St(t){return At(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function At(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}var Ct=["ng-","data-ng-","ng:","x-ng-"];var Mt=function(t){var r=t.currentScript;if(!r)return!0;if(!(r instanceof e.HTMLScriptElement||r instanceof e.SVGScriptElement))return!1;var n=r.attributes;return[n.getNamedItem("src"),n.getNamedItem("href"),n.getNamedItem("xlink:href")].every(function(e){if(!e)return!0;if(!e.value)return!1;var r=t.createElement("a");if(r.href=e.value,t.location.origin===r.origin)return!0;switch(r.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}(e.document);function Rt(t,r){var n,i,o={};if(E(Ct,function(e){var r=e+"app";!n&&t.hasAttribute&&t.hasAttribute(r)&&(n=t,i=t.getAttribute(r))}),E(Ct,function(e){var r,o=e+"app";!n&&(r=t.querySelector("["+o.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(o))}),n){if(!Mt)return void e.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");o.strictDi=null!==function(t,e){var r,n,i=Ct.length;for(n=0;n<i;++n)if(r=Ct[n]+e,W(r=t.getAttribute(r)))return r;return null}(n,"strict-di"),r(n,i?[i]:[],o)}}function Ot(t,r,n){j(n)||(n={});n=O({strictDi:!1},n);var i=function(){if((t=f(t)).injector()){var i=t[0]===e.document?"document":_t(t);throw b("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}(r=r||[]).unshift(["$provide",function(e){e.value("$rootElement",t)}]),n.debugInfoEnabled&&r.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),r.unshift("ng");var o=Ke(r,n.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,r,n){t.$apply(function(){e.data("$injector",n),r(e)(t)})}]),o},o=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(e&&o.test(e.name)&&(n.debugInfoEnabled=!0,e.name=e.name.replace(o,"")),e&&!s.test(e.name))return i();e.name=e.name.replace(s,""),_.resumeBootstrap=function(t){return E(t,function(t){r.push(t)}),i()},H(_.resumeDeferredBootstrap)&&_.resumeDeferredBootstrap()}function Pt(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function Dt(t){var e=_.element(t).injector();if(!e)throw b("test","no injector found for element argument to getTestability");return e.get("$$testability")}var It=/[A-Z]/g;function Lt(t,e){return e=e||"_",t.replace(It,function(t,r){return(r?e:"")+t.toLowerCase()})}var Ft=!1;function kt(t,e,r){if(!t)throw b("areq","Argument '{0}' is {1}",e||"?",r||"required");return t}function Bt(t,e,r){return r&&z(t)&&(t=t[t.length-1]),kt(H(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function Nt(t,e){if("hasOwnProperty"===t)throw b("badname","hasOwnProperty is not a valid {0} name",e)}function Ut(t,e,r){if(!e)return t;for(var n,i=e.split("."),o=t,s=i.length,a=0;a<s;a++)n=i[a],t&&(t=(o=t)[n]);return!r&&H(t)?dt(o,t):t}function $t(t){for(var e,r=t[0],n=t[t.length-1],i=1;r!==n&&(r=r.nextSibling);i++)(e||t[i]!==r)&&(e||(e=f(g.call(t,0,i))),e.push(r));return e||t}function jt(){return Object.create(null)}function Gt(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=!N(t)||z(t)||X(t)?vt(t):t.toString()}return t}var Wt=1,Vt=3,Xt=8,zt=9,Yt=11;function Ht(t,e){if(z(t)){e=e||[];for(var r=0,n=t.length;r<n;r++)e[r]=t[r]}else if(j(t))for(var i in e=e||{},t)"$"===i.charAt(0)&&"$"===i.charAt(1)||(e[i]=t[i]);return e||t}function qt(t,e){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):U(t)?"undefined":"string"!=typeof t?function(t,e){var r=[];return i(e)&&(t=_.copy(t,null,e)),JSON.stringify(t,function(t,e){if(j(e=gt(t,e))){if(r.indexOf(e)>=0)return"...";r.push(e)}return e})}(t,e):t}var Zt={full:"1.6.9",major:1,minor:6,dot:9,codeName:"fiery-basilisk"};de.expando="ng339";var Kt=de.cache={},Qt=1;de._data=function(t){return this.cache[t[this.expando]]||{}};var Jt=/-([a-z])/g,te=/^-ms-/,ee={mouseleave:"mouseout",mouseenter:"mouseover"},re=o("jqLite");function ne(t,e){return e.toUpperCase()}function ie(t){return t.replace(Jt,ne)}var oe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,se=/<|&#?\w+;/,ae=/<([\w:-]+)/,ue=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,le={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function he(t){return!se.test(t)}function ce(t){var e=t.nodeType;return e===Wt||!e||e===zt}function fe(t,e){var r,n,i,o,s=e.createDocumentFragment(),a=[];if(he(t))a.push(e.createTextNode(t));else{for(r=s.appendChild(e.createElement("div")),n=(ae.exec(t)||["",""])[1].toLowerCase(),i=le[n]||le._default,r.innerHTML=i[1]+t.replace(ue,"<$1></$2>")+i[2],o=i[0];o--;)r=r.lastChild;a=ft(a,r.childNodes),(r=s.firstChild).textContent=""}return s.textContent="",s.innerHTML="",E(a,function(t){s.appendChild(t)}),s}le.optgroup=le.option,le.tbody=le.tfoot=le.colgroup=le.caption=le.thead,le.th=le.td;var pe=e.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};function de(t){if(t instanceof de)return t;var r,n,i,o;if(W(t)&&(t=et(t),r=!0),!(this instanceof de)){if(r&&"<"!==t.charAt(0))throw re("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new de(t)}r?Ee(this,(n=t,i=i||e.document,(o=oe.exec(n))?[i.createElement(o[1])]:(o=fe(n,i))?o.childNodes:[])):H(t)?Re(t):Ee(this,t)}function ge(t){return t.cloneNode(!0)}function ve(t,e){!e&&ce(t)&&f.cleanData([t]),t.querySelectorAll&&f.cleanData(t.querySelectorAll("*"))}function me(t,e,r,n){if($(n))throw re("offargs","jqLite#off() does not support the `selector` argument");var i=xe(t),o=i&&i.events,s=i&&i.handle;if(s)if(e){var a=function(e){var n=o[e];$(r)&&st(n||[],r),$(r)&&n&&n.length>0||(t.removeEventListener(e,s),delete o[e])};E(e.split(" "),function(t){a(t),ee[t]&&a(ee[t])})}else for(e in o)"$destroy"!==e&&t.removeEventListener(e,s),delete o[e]}function ye(t,e){var r=t.ng339,n=r&&Kt[r];if(n){if(e)return void delete n.data[e];n.handle&&(n.events.$destroy&&n.handle({},"$destroy"),me(t)),delete Kt[r],t.ng339=void 0}}function xe(t,e){var r=t.ng339,n=r&&Kt[r];return e&&!n&&(t.ng339=r=++Qt,n=Kt[r]={events:{},data:{},handle:void 0}),n}function be(t,e,r){if(ce(t)){var n,i=$(r),o=!i&&e&&!j(e),s=!e,a=xe(t,!o),u=a&&a.data;if(i)u[ie(e)]=r;else{if(s)return u;if(o)return u&&u[ie(e)];for(n in e)u[ie(n)]=e[n]}}}function _e(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function we(t,e){if(e&&t.setAttribute){var r=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),n=r;E(e.split(" "),function(t){t=et(t),n=n.replace(" "+t+" "," ")}),n!==r&&t.setAttribute("class",et(n))}}function Te(t,e){if(e&&t.setAttribute){var r=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),n=r;E(e.split(" "),function(t){t=et(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),n!==r&&t.setAttribute("class",et(n))}}function Ee(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var r=e.length;if("number"==typeof r&&e.window!==e){if(r)for(var n=0;n<r;n++)t[t.length++]=e[n]}else t[t.length++]=e}}function Se(t,e){return Ae(t,"$"+(e||"ngController")+"Controller")}function Ae(t,e,r){t.nodeType===zt&&(t=t.documentElement);for(var n=z(e)?e:[e];t;){for(var i=0,o=n.length;i<o;i++)if($(r=f.data(t,n[i])))return r;t=t.parentNode||t.nodeType===Yt&&t.host}}function Ce(t){for(ve(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Me(t,e){e||ve(t);var r=t.parentNode;r&&r.removeChild(t)}function Re(t){function r(){e.document.removeEventListener("DOMContentLoaded",r),e.removeEventListener("load",r),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",r),e.addEventListener("load",r))}var Oe=de.prototype={ready:Re,toString:function(){var t=[];return E(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return f(t>=0?this[t]:this[this.length+t])},length:0,push:m,sort:[].sort,splice:[].splice},Pe={};E("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Pe[l(t)]=t});var De={};E("input,select,option,textarea,button,form,details".split(","),function(t){De[t]=!0});var Ie={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function Le(t,e){var r=Pe[e.toLowerCase()];return r&&De[it(t)]&&r}function Fe(t,e,r){r.call(t,e)}function ke(t,e,r){var n=e.relatedTarget;n&&(n===t||pe.call(t,n))||r.call(t,e)}function Be(){this.$get=function(){return O(de,{hasClass:function(t,e){return t.attr&&(t=t[0]),_e(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Te(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),we(t,e)}})}}function Ne(t,e){var r=t&&t.$$hashKey;if(r)return"function"==typeof r&&(r=t.$$hashKey()),r;var n=typeof t;return r="function"===n||"object"===n&&null!==t?t.$$hashKey=n+":"+(e||C)():n+":"+t}E({data:be,removeData:ye,hasData:function(t){for(var e in Kt[t.ng339])return!0;return!1},cleanData:function(t){for(var e=0,r=t.length;e<r;e++)ye(t[e])}},function(t,e){de[e]=t}),E({data:be,inheritedData:Ae,scope:function(t){return f.data(t,"$scope")||Ae(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return f.data(t,"$isolateScope")||f.data(t,"$isolateScopeNoTemplate")},controller:Se,injector:function(t){return Ae(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:_e,css:function(t,e,r){if(e=function(t){return ie(t.replace(te,"ms-"))}(e),!$(r))return t.style[e];t.style[e]=r},attr:function(t,e,r){var n,i=t.nodeType;if(i!==Vt&&2!==i&&i!==Xt&&t.getAttribute){var o=l(e),s=Pe[o];if(!$(r))return n=t.getAttribute(e),s&&null!==n&&(n=o),null===n?void 0:n;null===r||!1===r&&s?t.removeAttribute(e):t.setAttribute(e,s?o:r)}},prop:function(t,e,r){if(!$(r))return t[e];t[e]=r},text:function(){return t.$dv="",t;function t(t,e){if(U(e)){var r=t.nodeType;return r===Wt||r===Vt?t.textContent:""}t.textContent=e}}(),val:function(t,e){if(U(e)){if(t.multiple&&"select"===it(t)){var r=[];return E(t.options,function(t){t.selected&&r.push(t.value||t.text)}),r}return t.value}t.value=e},html:function(t,e){if(U(e))return t.innerHTML;ve(t,!0),t.innerHTML=e},empty:Ce},function(t,e){de.prototype[e]=function(e,r){var n,i,o=this.length;if(t!==Ce&&U(2===t.length&&t!==_e&&t!==Se?e:r)){if(j(e)){for(n=0;n<o;n++)if(t===be)t(this[n],e);else for(i in e)t(this[n],i,e[i]);return this}for(var s=t.$dv,a=U(s)?Math.min(o,1):o,u=0;u<a;u++){var l=t(this[u],e,r);s=s?s+l:l}return s}for(n=0;n<o;n++)t(this[n],e,r);return this}}),E({removeData:ye,on:function(t,e,r,n){if($(n))throw re("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ce(t)){var i=xe(t,!0),o=i.events,s=i.handle;s||(s=i.handle=function(t,e){var r=function(r,n){r.isDefaultPrevented=function(){return r.defaultPrevented};var i=e[n||r.type],o=i?i.length:0;if(o){if(U(r.immediatePropagationStopped)){var s=r.stopImmediatePropagation;r.stopImmediatePropagation=function(){r.immediatePropagationStopped=!0,r.stopPropagation&&r.stopPropagation(),s&&s.call(r)}}r.isImmediatePropagationStopped=function(){return!0===r.immediatePropagationStopped};var a=i.specialHandlerWrapper||Fe;o>1&&(i=Ht(i));for(var u=0;u<o;u++)r.isImmediatePropagationStopped()||a(t,r,i[u])}};return r.elem=t,r}(t,o));for(var a=e.indexOf(" ")>=0?e.split(" "):[e],u=a.length,l=function(e,n,i){var a=o[e];a||((a=o[e]=[]).specialHandlerWrapper=n,"$destroy"===e||i||t.addEventListener(e,s)),a.push(r)};u--;)e=a[u],ee[e]?(l(ee[e],ke),l(e,void 0,!0)):l(e)}},off:me,one:function(t,e,r){(t=f(t)).on(e,function n(){t.off(e,r),t.off(e,n)}),t.on(e,r)},replaceWith:function(t,e){var r,n=t.parentNode;ve(t),E(new de(e),function(e){r?n.insertBefore(e,r.nextSibling):n.replaceChild(e,t),r=e})},children:function(t){var e=[];return E(t.childNodes,function(t){t.nodeType===Wt&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var r=t.nodeType;if(r===Wt||r===Yt)for(var n=0,i=(e=new de(e)).length;n<i;n++){var o=e[n];t.appendChild(o)}},prepend:function(t,e){if(t.nodeType===Wt){var r=t.firstChild;E(new de(e),function(e){t.insertBefore(e,r)})}},wrap:function(t,e){var r,n,i;r=t,n=f(e).eq(0).clone()[0],(i=r.parentNode)&&i.replaceChild(n,r),n.appendChild(r)},remove:Me,detach:function(t){Me(t,!0)},after:function(t,e){var r=t,n=t.parentNode;if(n)for(var i=0,o=(e=new de(e)).length;i<o;i++){var s=e[i];n.insertBefore(s,r.nextSibling),r=s}},addClass:Te,removeClass:we,toggleClass:function(t,e,r){e&&E(e.split(" "),function(e){var n=r;U(n)&&(n=!_e(t,e)),(n?Te:we)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Yt?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:ge,triggerHandler:function(t,e,r){var n,i,o,s=e.type||e,a=xe(t),u=a&&a.events,l=u&&u[s];l&&(n={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:F,type:s,target:t},e.type&&(n=O(n,e)),i=Ht(l),o=r?[n].concat(r):[n],E(i,function(e){n.isImmediatePropagationStopped()||e.apply(t,o)}))}},function(t,e){de.prototype[e]=function(e,r,n){for(var i,o=0,s=this.length;o<s;o++)U(i)?$(i=t(this[o],e,r,n))&&(i=f(i)):Ee(i,t(this[o],e,r,n));return $(i)?i:this}}),de.prototype.bind=de.prototype.on,de.prototype.unbind=de.prototype.off;var Ue=Object.create(null);function $e(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}$e.prototype={_idx:function(t){return t===this._lastKey?this._lastIndex:(this._lastKey=t,this._lastIndex=this._keys.indexOf(t),this._lastIndex)},_transformKey:function(t){return I(t)?Ue:t},get:function(t){t=this._transformKey(t);var e=this._idx(t);if(-1!==e)return this._values[e]},set:function(t,e){t=this._transformKey(t);var r=this._idx(t);-1===r&&(r=this._lastIndex=this._keys.length),this._keys[r]=t,this._values[r]=e},delete:function(t){t=this._transformKey(t);var e=this._idx(t);return-1!==e&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var je=$e,Ge=[function(){this.$get=[function(){return je}]}],We=/^([^(]+?)=>/,Ve=/^[^(]*\(\s*([^)]*)\)/m,Xe=/,/,ze=/^\s*(_?)(\S+?)\1\s*$/,Ye=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,He=o("$injector");function qe(t){return Function.prototype.toString.call(t)}function Ze(t){var e=qe(t).replace(Ye,"");return e.match(We)||e.match(Ve)}function Ke(t,e){e=!0===e;var r={},n="Provider",i=[],o=new je,s={$provide:{provider:p(g),factory:p(v),service:p(function(t,e){return v(t,["$injector",function(t){return t.instantiate(e)}])}),value:p(function(t,e){return v(t,B(e),!1)}),constant:p(function(t,e){Nt(t,"constant"),s[t]=e,u[t]=e}),decorator:function(t,e){var r=a.get(t+n),i=r.$get;r.$get=function(){var t=h.invoke(i,r);return h.invoke(e,null,{$delegate:t})}}}},a=s.$injector=y(s,function(t,e){throw _.isString(e)&&i.push(e),He("unpr","Unknown provider: {0}",i.join(" <- "))}),u={},l=y(u,function(t,e){var r=a.get(t+n,e);return h.invoke(r.$get,r,void 0,t)}),h=l;s["$injector"+n]={$get:B(l)},h.modules=a.modules=jt();var f=m(t);return(h=l.get("$injector")).strictDi=e,E(f,function(t){t&&h.invoke(t)}),h.loadNewModules=function(t){E(m(t),function(t){t&&h.invoke(t)})},h;function p(t){return function(e,r){if(!j(e))return t(e,r);E(e,A(t))}}function g(t,e){if(Nt(t,"service"),(H(e)||z(e))&&(e=a.instantiate(e)),!e.$get)throw He("pget","Provider '{0}' must define $get factory method.",t);return s[t+n]=e}function v(t,e,r){return g(t,{$get:!1!==r?function(t,e){return function(){var r=h.invoke(e,this);if(U(r))throw He("undef","Provider '{0}' must return a value from $get factory method.",t);return r}}(t,e):e})}function m(t){kt(U(t)||z(t),"modulesToLoad","not an array");var e,r=[];return E(t,function(t){if(!o.get(t)){o.set(t,!0);try{W(t)?(e=d(t),h.modules[t]=e,r=r.concat(m(e.requires)).concat(e._runBlocks),n(e._invokeQueue),n(e._configBlocks)):H(t)?r.push(a.invoke(t)):z(t)?r.push(a.invoke(t)):Bt(t,"module")}catch(e){throw z(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),He("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}function n(t){var e,r;for(e=0,r=t.length;e<r;e++){var n=t[e],i=a.get(n[0]);i[n[1]].apply(i,n[2])}}}),r}function y(t,o){function a(e,n){if(t.hasOwnProperty(e)){if(t[e]===r)throw He("cdep","Circular dependency found: {0}",e+" <- "+i.join(" <- "));return t[e]}try{return i.unshift(e),t[e]=r,t[e]=o(e,n),t[e]}catch(n){throw t[e]===r&&delete t[e],n}finally{i.shift()}}function u(t,r,n){for(var i=[],o=Ke.$$annotate(t,e,n),s=0,u=o.length;s<u;s++){var l=o[s];if("string"!=typeof l)throw He("itkn","Incorrect injection token! Expected service name as string, got {0}",l);i.push(r&&r.hasOwnProperty(l)?r[l]:a(l,n))}return i}return{invoke:function(t,e,r,n){"string"==typeof r&&(n=r,r=null);var i=u(t,r,n);return z(t)&&(t=t[t.length-1]),function(t){if(c||"function"!=typeof t)return!1;var e=t.$$ngIsClass;return Q(e)||(e=t.$$ngIsClass=/^(?:class\b|constructor\()/.test(qe(t))),e}(t)?(i.unshift(null),new(Function.prototype.bind.apply(t,i))):t.apply(e,i)},instantiate:function(t,e,r){var n=z(t)?t[t.length-1]:t,i=u(t,e,r);return i.unshift(null),new(Function.prototype.bind.apply(n,i))},get:a,annotate:Ke.$$annotate,has:function(e){return s.hasOwnProperty(e+n)||t.hasOwnProperty(e)}}}}function Qe(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(r,n,i){var o=r.document;function s(t){if(t){t.scrollIntoView();var e=function(){var t=a.yOffset;if(H(t))t=t();else if(nt(t)){var e=t[0];t="fixed"!==r.getComputedStyle(e).position?0:e.getBoundingClientRect().bottom}else V(t)||(t=0);return t}();if(e){var n=t.getBoundingClientRect().top;r.scrollBy(0,n-e)}}else r.scrollTo(0,0)}function a(t){var e,r,i;(t=W(t)?t:V(t)?t.toString():n.hash())?(e=o.getElementById(t))?s(e):(r=o.getElementsByName(t),i=null,Array.prototype.some.call(r,function(t){if("a"===it(t))return i=t,!0}),(e=i)?s(e):"top"===t&&s(null)):s(null)}return t&&i.$watch(function(){return n.hash()},function(t,r){var n,o;t===r&&""===t||(n=function(){i.$evalAsync(a)},"complete"===(o=o||e).document.readyState?o.setTimeout(n):f(o).on("load",n))}),a}]}Ke.$$annotate=function(t,e,r){var n,i;if("function"==typeof t){if(!(n=t.$inject)){if(n=[],t.length){if(e)throw W(r)&&r||(r=t.name||function(t){var e=Ze(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(t)),He("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",r);E(Ze(t)[1].split(Xe),function(t){t.replace(ze,function(t,e,r){n.push(r)})})}t.$inject=n}}else z(t)?(Bt(t[i=t.length-1],"fn"),n=t.slice(0,i)):Bt(t,"fn",!0);return n};var Je=o("$animate"),tr=1;function er(t,e){return t||e?t?e?(z(t)&&(t=t.join(" ")),z(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function rr(t){return j(t)?t:{}}var nr=function(){this.$get=F},ir=function(){var t=new je,e=[];this.$get=["$$AnimateRunner","$rootScope",function(r,n){return{enabled:F,on:F,off:F,pin:F,push:function(s,a,u,l){l&&l(),(u=u||{}).from&&s.css(u.from),u.to&&s.css(u.to),(u.addClass||u.removeClass)&&function(r,s,a){var u=t.get(r)||{},l=i(u,s,!0),h=i(u,a,!1);(l||h)&&(t.set(r,u),e.push(r),1===e.length&&n.$$postDigest(o))}(s,u.addClass,u.removeClass);var h=new r;return h.complete(),h}};function i(t,e,r){var n=!1;return e&&E(e=W(e)?e.split(" "):z(e)?e:[],function(e){e&&(n=!0,t[e]=r)}),n}function o(){E(e,function(e){var r=t.get(e);if(r){var n=function(t){W(t)&&(t=t.split(" "));var e=jt();return E(t,function(t){t.length&&(e[t]=!0)}),e}(e.attr("class")),i="",o="";E(r,function(t,e){t!==!!n[e]&&(t?i+=(i.length?" ":"")+e:o+=(o.length?" ":"")+e)}),E(e,function(t){i&&Te(t,i),o&&we(t,o)}),t.delete(e)}}),e.length=0}}]},or=["$provide",function(t){var e=this,r=null,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(r,n){if(r&&"."!==r.charAt(0))throw Je("notcsel","Expecting class selector starting with '.' got '{0}'.",r);var i=r+"-animation";e.$$registeredAnimations[r.substr(1)]=i,t.factory(i,n)},this.customFilter=function(t){return 1===arguments.length&&(n=H(t)?t:null),n},this.classNameFilter=function(t){if(1===arguments.length&&((r=t instanceof RegExp?t:null)&&new RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]").test(r.toString())))throw r=null,Je("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate");return r},this.$get=["$$animateQueue",function(t){function e(t,e,r){if(r){var n=function(t){for(var e=0;e<t.length;e++){var r=t[e];if(r.nodeType===tr)return r}}(r);!n||n.parentNode||n.previousElementSibling||(r=null)}r?r.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(r,n,i,o){return n=n&&f(n),i=i&&f(i),e(r,n=n||i.parent(),i),t.push(r,"enter",rr(o))},move:function(r,n,i,o){return n=n&&f(n),i=i&&f(i),e(r,n=n||i.parent(),i),t.push(r,"move",rr(o))},leave:function(e,r){return t.push(e,"leave",rr(r),function(){e.remove()})},addClass:function(e,r,n){return(n=rr(n)).addClass=er(n.addclass,r),t.push(e,"addClass",n)},removeClass:function(e,r,n){return(n=rr(n)).removeClass=er(n.removeClass,r),t.push(e,"removeClass",n)},setClass:function(e,r,n,i){return(i=rr(i)).addClass=er(i.addClass,r),i.removeClass=er(i.removeClass,n),t.push(e,"setClass",i)},animate:function(e,r,n,i,o){return(o=rr(o)).from=o.from?O(o.from,r):r,o.to=o.to?O(o.to,n):n,i=i||"ng-inline-animate",o.tempClasses=er(o.tempClasses,i),t.push(e,"animate",o)}}}]}],sr=function(){this.$get=["$$rAF",function(t){var e=[];function r(r){e.push(r),e.length>1||t(function(){for(var t=0;t<e.length;t++)e[t]();e=[]})}return function(){var t=!1;return r(function(){t=!0}),function(e){t?e():r(e)}}}]},ar=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,r,n,i){function o(t){this.setHost(t);var e=r();this._doneCallbacks=[],this._tick=function(t){n()?function(t){i(t,0,!1)}(t):e(t)},this._state=0}return o.chain=function(t,e){var r=0;!function n(){if(r===t.length)return void e(!0);t[r](function(t){!1!==t?(r++,n()):e(!1)})}()},o.all=function(t,e){var r=0,n=!0;function i(i){n=n&&i,++r===t.length&&e(n)}E(t,function(t){t.done(i)})},o.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:F,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,r){e.done(function(e){!1===e?r():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick(function(){e._resolve(t)}))},_resolve:function(t){2!==this._state&&(E(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},o}]},ur=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,r){return function(e,n){var i=n||{};i.$$prepared||(i=at(i)),i.cleanupStyles&&(i.from=i.to=null),i.from&&(e.css(i.from),i.from=null);var o,s=new r;return{start:a,end:a};function a(){return t(function(){!function(){i.addClass&&(e.addClass(i.addClass),i.addClass=null);i.removeClass&&(e.removeClass(i.removeClass),i.removeClass=null);i.to&&(e.css(i.to),i.to=null)}(),o||s.complete(),o=!0}),s}}}]};function lr(){this.$get=["$window","$log","$sniffer","$document",function(t,e,r,n){return new function(t,e,r,n){var i=this,o=t.location,s=t.history,a=t.setTimeout,u=t.clearTimeout,l={};i.isMock=!1;var h=0,c=[];function p(t){try{t.apply(null,pt(arguments,1))}finally{if(0==--h)for(;c.length;)try{c.pop()()}catch(t){r.error(t)}}}i.$$completeOutstandingRequest=p,i.$$incOutstandingRequestCount=function(){h++},i.notifyWhenNoOutstandingRequests=function(t){0===h?t():c.push(t)};var d,g,v=o.href,m=e.find("base"),y=null,x=n.history?function(){try{return s.state}catch(t){}}:F;S(),i.url=function(e,r,a){if(U(a)&&(a=null),o!==t.location&&(o=t.location),s!==t.history&&(s=t.history),e){var u=g===a;if(v===e&&(!n.history||u))return i;var l=v&&on(v)===on(e);return v=e,g=a,!n.history||l&&u?(l||(y=e),r?o.replace(e):l?o.hash=function(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}(e):o.href=e,o.href!==e&&(y=e)):(s[r?"replaceState":"pushState"](a,"",e),S()),y&&(y=e),i}return y||o.href.replace(/%27/g,"'")},i.state=function(){return d};var b=[],_=!1;function w(){y=null,A()}var T=null;function S(){lt(d=U(d=x())?null:d,T)&&(d=T),T=d,g=d}function A(){var t=g;S(),v===i.url()&&t===d||(v=i.url(),g=d,E(b,function(t){t(i.url(),d)}))}i.onUrlChange=function(e){return _||(n.history&&f(t).on("popstate",w),f(t).on("hashchange",w),_=!0),b.push(e),e},i.$$applicationDestroyed=function(){f(t).off("hashchange popstate",w)},i.$$checkUrlChange=A,i.baseHref=function(){var t=m.attr("href");return t?t.replace(/^(https?:)?\/\/[^/]*/,""):""},i.defer=function(t,e){var r;return h++,r=a(function(){delete l[r],p(t)},e||0),l[r]=!0,r},i.defer.cancel=function(t){return!!l[t]&&(delete l[t],u(t),p(F),!0)}}(t,n,e,r)}]}function hr(){this.$get=function(){var t={};function e(e,r){if(e in t)throw o("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var n=0,i=O({},r,{id:e}),s=jt(),a=r&&r.capacity||Number.MAX_VALUE,u=jt(),l=null,h=null;return t[e]={put:function(t,e){if(!U(e)){if(a<Number.MAX_VALUE)c(u[t]||(u[t]={key:t}));return t in s||n++,s[t]=e,n>a&&this.remove(h.key),e}},get:function(t){if(a<Number.MAX_VALUE){var e=u[t];if(!e)return;c(e)}return s[t]},remove:function(t){if(a<Number.MAX_VALUE){var e=u[t];if(!e)return;e===l&&(l=e.p),e===h&&(h=e.n),f(e.n,e.p),delete u[t]}t in s&&(delete s[t],n--)},removeAll:function(){s=jt(),n=0,u=jt(),l=h=null},destroy:function(){s=null,i=null,u=null,delete t[e]},info:function(){return O({},i,{size:n})}};function c(t){t!==l&&(h?h===t&&(h=t.n):h=t,f(t.n,t.p),f(t,l),(l=t).n=null)}function f(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}}return e.info=function(){var e={};return E(t,function(t,r){e[r]=t.info()}),e},e.get=function(e){return t[e]},e}}function cr(){this.$get=["$cacheFactory",function(t){return t("templates")}]}var fr=o("$compile");var pr=new function(){};function dr(t,r){var n={},i="Directive",o=/^\s*directive:\s*([\w-]+)\s+(.*)$/,s=/(([\w-]+)(?::([^;]+))?;?)/,a=function(t){var e,r={},n=t.split(",");for(e=0;e<n.length;e++)r[n[e]]=!0;return r}("ngSrc,ngSrcset,src,srcset"),h=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,p=/^(on[a-z]+|formaction)$/,d=jt();function g(t,e,r){var n=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,i=jt();return E(t,function(t,o){if(t in d)i[o]=d[t];else{var s=t.match(n);if(!s)throw fr("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,o,t,r?"controller bindings definition":"isolate scope definition");i[o]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||o},s[4]&&(d[t]=i[o])}}),i}function v(t,e){var r={isolateScope:null,bindToController:null};if(j(t.scope)&&(!0===t.bindToController?(r.bindToController=g(t.scope,e,!0),r.isolateScope={}):r.isolateScope=g(t.scope,e,!1)),j(t.bindToController)&&(r.bindToController=g(t.bindToController,e,!0)),r.bindToController&&!t.controller)throw fr("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);return r}this.directive=function e(r,o){return kt(r,"name"),Nt(r,"directive"),W(r)?(!function(t){var e=t.charAt(0);if(!e||e!==l(e))throw fr("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw fr("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}(r),kt(o,"directiveFactory"),n.hasOwnProperty(r)||(n[r]=[],t.factory(r+i,["$injector","$exceptionHandler",function(t,e){var i=[];return E(n[r],function(n,o){try{var s=t.invoke(n);H(s)?s={compile:B(s)}:!s.compile&&s.link&&(s.compile=B(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||r,s.require=function(t){var e=t.require||t.controller&&t.name;return!z(e)&&j(e)&&E(e,function(t,r){var n=t.match(h);t.substring(n[0].length)||(e[r]=n[0]+r)}),e}(s),s.restrict=function(t,e){if(t&&(!W(t)||!/[EACM]/.test(t)))throw fr("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e);return t||"EA"}(s.restrict,r),s.$$moduleName=n.$$moduleName,i.push(s)}catch(t){e(t)}}),i}])),n[r].push(o)):E(r,A(e)),this},this.component=function t(e,r){if(!W(e))return E(e,A(dt(this,t))),this;var n=r.controller||function(){};function i(t){function e(e){return H(e)||z(e)?function(r,n){return t.invoke(e,this,{$element:r,$attrs:n})}:e}var i=r.template||r.templateUrl?r.template:"",o={controller:n,controllerAs:function(t,e){if(e&&W(e))return e;if(W(t)){var r=wr.exec(t);if(r)return r[3]}}(r.controller)||r.controllerAs||"$ctrl",template:e(i),templateUrl:e(r.templateUrl),transclude:r.transclude,scope:{},bindToController:r.bindings||{},restrict:"E",require:r.require};return E(r,function(t,e){"$"===e.charAt(0)&&(o[e]=t)}),o}return E(r,function(t,e){"$"===e.charAt(0)&&(i[e]=t,H(n)&&(n[e]=t))}),i.$inject=["$injector"],this.directive(e,i)},this.aHrefSanitizationWhitelist=function(t){return $(t)?(r.aHrefSanitizationWhitelist(t),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return $(t)?(r.imgSrcSanitizationWhitelist(t),this):r.imgSrcSanitizationWhitelist()};var m=!0;this.debugInfoEnabled=function(t){return $(t)?(m=t,this):m};var x=!1;this.preAssignBindingsEnabled=function(t){return $(t)?(x=t,this):x};var b=!1;this.strictComponentBindingsEnabled=function(t){return $(t)?(b=t,this):b};var _=10;this.onChangesTtl=function(t){return arguments.length?(_=t,this):_};var w=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(w=t,this):w};var T=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(T=t,this):T},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,r,d,g,S,A,C,M,R,P){var D,I=/^\w/,B=e.document.createElement("div"),N=w,G=T,V=_;function X(){try{if(!--V)throw D=void 0,fr("infchng","{0} $onChanges() iterations reached. Aborting!\n",_);C.$apply(function(){for(var t=[],e=0,r=D.length;e<r;++e)try{D[e]()}catch(e){t.push(e)}if(D=void 0,t.length)throw t})}finally{V++}}function q(t,e){if(e){var r,n,i,o=Object.keys(e);for(r=0,n=o.length;r<n;r++)this[i=o[r]]=e[i]}else this.$attr={};this.$$element=t}function Z(t,e){try{t.addClass(e)}catch(t){}}q.prototype={$normalize:yr,$addClass:function(t){t&&t.length>0&&R.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&R.removeClass(this.$$element,t)},$updateClass:function(t,e){var r=xr(t,e);r&&r.length&&R.addClass(this.$$element,r);var n=xr(e,t);n&&n.length&&R.removeClass(this.$$element,n)},$set:function(t,e,r,n){var i,o=Le(this.$$element[0],t),s=Ie[t],a=t;if(o?(this.$$element.prop(t,e),n=o):s&&(this[s]=e,a=s),this[t]=e,n?this.$attr[t]=n:(n=this.$attr[t])||(this.$attr[t]=n=Lt(t,"-")),"a"===(i=it(this.$$element))&&("href"===t||"xlinkHref"===t)||"img"===i&&"src"===t)this[t]=e=P(e,"src"===t);else if("img"===i&&"srcset"===t&&$(e)){for(var u="",l=et(e),h=/\s/.test(l)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,c=l.split(h),f=Math.floor(c.length/2),p=0;p<f;p++){var g=2*p;u+=P(et(c[g]),!0),u+=" "+et(c[g+1])}var v=et(c[2*p]).split(/\s/);u+=P(et(v[0]),!0),2===v.length&&(u+=" "+et(v[1])),this[t]=e=u}!1!==r&&(null===e||U(e)?this.$$element.removeAttr(n):I.test(n)?this.$$element.attr(n,e):function(t,e,r){B.innerHTML="<span "+e+">";var n=B.firstChild.attributes,i=n[0];n.removeNamedItem(i.name),i.value=r,t.attributes.setNamedItem(i)}(this.$$element[0],n,e));var m=this.$$observers;m&&E(m[a],function(t){try{t(e)}catch(t){d(t)}})},$observe:function(t,e){var r=this,n=r.$$observers||(r.$$observers=jt()),i=n[t]||(n[t]=[]);return i.push(e),C.$evalAsync(function(){i.$$inter||!r.hasOwnProperty(t)||U(r[t])||e(r[t])}),function(){st(i,e)}}};var J=r.startSymbol(),tt=r.endSymbol(),rt="{{"===J&&"}}"===tt?k:function(t){return t.replace(/\{\{/g,J).replace(/}}/g,tt)},nt=/^ngAttr[A-Z]/,ot=/^(.+)Start$/;return at.$$addBindingInfo=m?function(t,e){var r=t.data("$binding")||[];z(e)?r=r.concat(e):r.push(e),t.data("$binding",r)}:F,at.$$addBindingClass=m?function(t){Z(t,"ng-binding")}:F,at.$$addScopeInfo=m?function(t,e,r,n){var i=r?n?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:F,at.$$addScopeClass=m?function(t,e){Z(t,e?"ng-isolate-scope":"ng-scope")}:F,at.$$createComment=function(t,r){var n="";return m&&(n=" "+(t||"")+": ",r&&(n+=r+" ")),e.document.createComment(n)},at;function at(t,e,r,n,i){t instanceof f||(t=f(t));var o=ht(t,e,t,r,n,i);at.$$addScopeClass(t);var s=null;return function(e,r,n){if(!t)throw fr("multilink","This element has already been linked.");kt(e,"scope"),i&&i.needsNewScope&&(e=e.$parent.$new());var a,u,l,h=(n=n||{}).parentBoundTranscludeFn,c=n.transcludeControllers,p=n.futureParentElement;if(h&&h.$$boundTransclude&&(h=h.$$boundTransclude),s||(u=(a=p)&&a[0],s=u&&"foreignobject"!==it(u)&&y.call(u).match(/SVG/)?"svg":"html"),l="html"!==s?f(Rt(s,f("<div>").append(t).html())):r?Oe.clone.call(t):t,c)for(var d in c)l.data("$"+d+"Controller",c[d].instance);return at.$$addScopeInfo(l,e),r&&r(l,e),o&&o(e,l,l,h),r||(t=o=null),l}}function ht(t,e,r,n,i,o){for(var s,a,u,l,h,p,d,g=[],v=z(t)||t instanceof f,m=0;m<t.length;m++)s=new q,11===c&&ct(t,m,v),(u=(a=gt(t[m],[],s,0===m?n:void 0,i)).length?xt(a,t[m],s,e,r,null,[],[],o):null)&&u.scope&&at.$$addScopeClass(s.$$element),h=u&&u.terminal||!(l=t[m].childNodes)||!l.length?null:ht(l,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:e),(u||h)&&(g.push(m,u,h),p=!0,d=d||u),o=null;return p?function(t,r,n,i){var o,s,a,u,l,h,c,p,v;if(d){var m=r.length;for(v=new Array(m),l=0;l<g.length;l+=3)c=g[l],v[c]=r[c]}else v=r;for(l=0,h=g.length;l<h;)a=v[g[l++]],o=g[l++],s=g[l++],o?(o.scope?(u=t.$new(),at.$$addScopeInfo(f(a),u)):u=t,p=o.transcludeOnThisElement?ft(t,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&e?ft(t,e):null,o(s,u,a,n,p)):s&&s(t,a.childNodes,void 0,i)}:null}function ct(t,e,r){var n,i=t[e],o=i.parentNode;if(i.nodeType===Vt)for(;(n=o?i.nextSibling:t[e+1])&&n.nodeType===Vt;)i.nodeValue=i.nodeValue+n.nodeValue,n.parentNode&&n.parentNode.removeChild(n),r&&n===t[e+1]&&t.splice(e+1,1)}function ft(t,e,r){function n(n,i,o,s,a){return n||((n=t.$new(!1,a)).$$transcluded=!0),e(n,i,{parentBoundTranscludeFn:r,transcludeControllers:o,futureParentElement:s})}var i=n.$$slots=jt();for(var o in e.$$slots)e.$$slots[o]?i[o]=ft(t,e.$$slots[o],r):i[o]=null;return n}function gt(t,e,n,i,a){var u,l,h,c=t.nodeType,f=n.$attr;switch(c){case Wt:Tt(e,yr(l=it(t)),"E",i,a);for(var p,d,g,v,m,y,x=t.attributes,b=0,_=x&&x.length;b<_;b++){var w=!1,T=!1;d=(p=x[b]).name,m=p.value,v=yr(d),(y=nt.test(v))&&(d=d.replace(vr,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var E=v.match(ot);E&&Et(E[1])&&(w=d,T=d.substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),f[g=yr(d.toLowerCase())]=d,!y&&n.hasOwnProperty(g)||(n[g]=m,Le(t,g)&&(n[g]=!0)),Ot(t,e,m,g,y),Tt(e,g,"A",i,a,w,T)}if("input"===l&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!G)break;if(j(h=t.className)&&(h=h.animVal),W(h)&&""!==h)for(;u=s.exec(h);)Tt(e,g=yr(u[2]),"C",i,a)&&(n[g]=et(u[3])),h=h.substr(u.index+u[0].length);break;case Vt:!function(t,e){var n=r(e,!0);n&&t.push({priority:0,compile:function(t){var e=t.parent(),r=!!e.length;return r&&at.$$addBindingClass(e),function(t,e){var i=e.parent();r||at.$$addBindingClass(i),at.$$addBindingInfo(i,n.expressions),t.$watch(n,function(t){e[0].nodeValue=t})}}})}(e,t.nodeValue);break;case Xt:if(!N)break;!function(t,e,r,n,i){try{var s=o.exec(t.nodeValue);if(s){var a=yr(s[1]);Tt(e,a,"M",n,i)&&(r[a]=et(s[2]))}}catch(t){}}(t,e,n,i,a)}return e.sort(Ct),e}function vt(t,e,r){var n=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw fr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,r);t.nodeType===Wt&&(t.hasAttribute(e)&&i++,t.hasAttribute(r)&&i--),n.push(t),t=t.nextSibling}while(i>0);else n.push(t);return f(n)}function mt(t,e,r){return function(n,i,o,s,a){return i=vt(i[0],e,r),t(n,i,o,s,a)}}function yt(t,e,r,n,i,o){var s;return t?at(e,r,n,i,o):function(){return s||(s=at(e,r,n,i,o),e=r=o=null),s.apply(this,arguments)}}function xt(t,e,r,n,i,o,s,a,u){u=u||{};for(var l,h,c,p,g,v=-Number.MAX_VALUE,m=u.newScopeDirective,y=u.controllerDirectives,b=u.newIsolateScopeDirective,_=u.templateDirective,w=u.nonTlbTranscludeDirective,T=!1,S=!1,C=u.hasElementTranscludeDirective,M=r.$$element=f(e),R=o,P=n,D=!1,I=!1,L=0,F=t.length;L<F;L++){var k=(l=t[L]).$$start,B=l.$$end;if(k&&(M=vt(e,k,B)),c=void 0,v>l.priority)break;if((g=l.scope)&&(l.templateUrl||(j(g)?(Mt("new/isolated scope",b||m,l,M),b=l):Mt("new/isolated scope",b,l,M)),m=m||l),h=l.name,!D&&(l.replace&&(l.templateUrl||l.template)||l.transclude&&!l.$$tlb)){for(var N,$=L+1;N=t[$++];)if(N.transclude&&!N.$$tlb||N.replace&&(N.templateUrl||N.template)){I=!0;break}D=!0}if(!l.templateUrl&&l.controller&&(y=y||jt(),Mt("'"+h+"' controller",y[h],l,M),y[h]=l),g=l.transclude)if(T=!0,l.$$tlb||(Mt("transclusion",w,l,M),w=l),"element"===g)C=!0,v=l.priority,c=M,M=r.$$element=f(at.$$createComment(h,r[h])),e=M[0],Pt(i,pt(c),e),c[0].$$parentNode=c[0].parentNode,P=yt(I,c,n,v,R&&R.name,{nonTlbTranscludeDirective:w});else{var G=jt();if(j(g)){c=[];var W=jt(),V=jt();for(var X in E(g,function(t,e){var r="?"===t.charAt(0);t=r?t.substring(1):t,W[t]=e,G[e]=null,V[e]=r}),E(M.contents(),function(t){var e=W[yr(it(t))];e?(V[e]=!0,G[e]=G[e]||[],G[e].push(t)):c.push(t)}),E(V,function(t,e){if(!t)throw fr("reqslot","Required transclusion slot `{0}` was not filled.",e)}),G)G[X]&&(G[X]=yt(I,G[X],n))}else c=f(ge(e)).contents();M.empty(),(P=yt(I,c,n,void 0,void 0,{needsNewScope:l.$$isolateScope||l.$$newScope})).$$slots=G}if(l.template)if(S=!0,Mt("template",_,l,M),_=l,g=H(l.template)?l.template(M,r):l.template,g=rt(g),l.replace){if(R=l,c=he(g)?[]:br(Rt(l.templateNamespace,et(g))),e=c[0],1!==c.length||e.nodeType!==Wt)throw fr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",h,"");Pt(i,M,e);var Y={$attr:{}},Z=gt(e,[],Y),Q=t.splice(L+1,t.length-(L+1));(b||m)&&wt(Z,b,m),t=t.concat(Z).concat(Q),St(r,Y),F=t.length}else M.html(g);if(l.templateUrl)S=!0,Mt("template",_,l,M),_=l,l.replace&&(R=l),nt=At(t.splice(L,t.length-L),M,r,i,T&&P,s,a,{controllerDirectives:y,newScopeDirective:m!==l&&m,newIsolateScopeDirective:b,templateDirective:_,nonTlbTranscludeDirective:w}),F=t.length;else if(l.compile)try{p=l.compile(M,r,P);var J=l.$$originalDirective||l;H(p)?tt(null,dt(J,p),k,B):p&&tt(dt(J,p.pre),dt(J,p.post),k,B)}catch(t){d(t,_t(M))}l.terminal&&(nt.terminal=!0,v=Math.max(v,l.priority))}return nt.scope=m&&!0===m.scope,nt.transcludeOnThisElement=T,nt.templateOnThisElement=S,nt.transclude=P,u.hasElementTranscludeDirective=C,nt;function tt(t,e,r,n){t&&(r&&(t=mt(t,r,n)),t.require=l.require,t.directiveName=h,(b===l||l.$$isolateScope)&&(t=Dt(t,{isolateScope:!0})),s.push(t)),e&&(r&&(e=mt(e,r,n)),e.require=l.require,e.directiveName=h,(b===l||l.$$isolateScope)&&(e=Dt(e,{isolateScope:!0})),a.push(e))}function nt(t,n,i,o,u){var l,h,c,p,g,v,w,T,S,M;for(var R in e===i?(S=r,T=r.$$element):S=new q(T=f(i),r),g=n,b?p=n.$new(!0):m&&(g=n.$parent),u&&((w=function(t,e,r,n){var i;K(t)||(n=r,r=e,e=t,t=void 0);C&&(i=v);r||(r=C?T.parent():T);if(!n)return u(t,e,i,r,F);var o=u.$$slots[n];if(o)return o(t,e,i,r,F);if(U(o))throw fr("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',n,_t(T))}).$$boundTransclude=u,w.isSlotFilled=function(t){return!!u.$$slots[t]}),y&&(v=function(t,e,r,n,i,o,s){var a=jt();for(var u in n){var l=n[u],h={$scope:l===s||l.$$isolateScope?i:o,$element:t,$attrs:e,$transclude:r},c=l.controller;"@"===c&&(c=e[l.name]);var f=A(c,h,!0,l.controllerAs);a[l.name]=f,t.data("$"+l.name+"Controller",f.instance)}return a}(T,S,w,y,p,n,b)),b&&(at.$$addScopeInfo(T,p,!0,!(_&&(_===b||_===b.$$originalDirective))),at.$$addScopeClass(T,!0),p.$$isolateBindings=b.$$isolateBindings,(M=Bt(n,S,p,p.$$isolateBindings,b)).removeWatches&&p.$on("$destroy",M.removeWatches)),v){var P=y[R],D=v[R],I=P.$$bindings.bindToController;if(x){D.bindingInfo=I?Bt(g,S,D.instance,I,P):{};var L=D();L!==D.instance&&(D.instance=L,T.data("$"+P.name+"Controller",L),D.bindingInfo.removeWatches&&D.bindingInfo.removeWatches(),D.bindingInfo=Bt(g,S,D.instance,I,P))}else D.instance=D(),T.data("$"+P.name+"Controller",D.instance),D.bindingInfo=Bt(g,S,D.instance,I,P)}for(E(y,function(t,e){var r=t.require;t.bindToController&&!z(r)&&j(r)&&O(v[e].instance,bt(e,r,T,v))}),E(v,function(t){var e=t.instance;if(H(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){d(t)}if(H(e.$onInit))try{e.$onInit()}catch(t){d(t)}H(e.$doCheck)&&(g.$watch(function(){e.$doCheck()}),e.$doCheck()),H(e.$onDestroy)&&g.$on("$destroy",function(){e.$onDestroy()})}),l=0,h=s.length;l<h;l++)It(c=s[l],c.isolateScope?p:n,T,S,c.require&&bt(c.directiveName,c.require,T,v),w);var F=n;for(b&&(b.template||null===b.templateUrl)&&(F=p),t&&t(F,i.childNodes,void 0,u),l=a.length-1;l>=0;l--)It(c=a[l],c.isolateScope?p:n,T,S,c.require&&bt(c.directiveName,c.require,T,v),w);E(v,function(t){var e=t.instance;H(e.$postLink)&&e.$postLink()})}}function bt(t,e,r,n){var i;if(W(e)){var o=e.match(h),s=e.substring(o[0].length),a=o[1]||o[3],u="?"===o[2];if("^^"===a?r=r.parent():i=(i=n&&n[s])&&i.instance,!i){var l="$"+s+"Controller";i=a?r.inheritedData(l):r.data(l)}if(!i&&!u)throw fr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,t)}else if(z(e)){i=[];for(var c=0,f=e.length;c<f;c++)i[c]=bt(t,e[c],r,n)}else j(e)&&(i={},E(e,function(e,o){i[o]=bt(t,e,r,n)}));return i||null}function wt(t,e,r){for(var n=0,i=t.length;n<i;n++)t[n]=L(t[n],{$$isolateScope:e,$$newScope:r})}function Tt(e,r,o,s,a,u,l){if(r===a)return null;var h=null;if(n.hasOwnProperty(r))for(var c,f=t.get(r+i),p=0,d=f.length;p<d;p++)if(c=f[p],(U(s)||s>c.priority)&&-1!==c.restrict.indexOf(o)){if(u&&(c=L(c,{$$start:u,$$end:l})),!c.$$bindings){var g=c.$$bindings=v(c,c.name);j(g.isolateScope)&&(c.$$isolateBindings=g.isolateScope)}e.push(c),h=c}return h}function Et(e){if(n.hasOwnProperty(e))for(var r=t.get(e+i),o=0,s=r.length;o<s;o++)if(r[o].multiElement)return!0;return!1}function St(t,e){var r=e.$attr,n=t.$attr;E(t,function(n,i){"$"!==i.charAt(0)&&(e[i]&&e[i]!==n&&(n.length?n+=("style"===i?";":" ")+e[i]:n=e[i]),t.$set(i,n,!0,r[i]))}),E(e,function(e,i){t.hasOwnProperty(i)||"$"===i.charAt(0)||(t[i]=e,"class"!==i&&"style"!==i&&(n[i]=r[i]))})}function At(t,e,r,n,i,o,s,a){var u,l,h=[],c=e[0],p=t.shift(),v=L(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),m=H(p.templateUrl)?p.templateUrl(e,r):p.templateUrl,y=p.templateNamespace;return e.empty(),g(m).then(function(d){var g,x,b,_;if(d=rt(d),p.replace){if(b=he(d)?[]:br(Rt(y,et(d))),g=b[0],1!==b.length||g.nodeType!==Wt)throw fr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,m);x={$attr:{}},Pt(n,e,g);var w=gt(g,[],x);j(p.scope)&&wt(w,!0),t=w.concat(t),St(r,x)}else g=c,e.html(d);for(t.unshift(v),u=xt(t,g,r,i,e,p,o,s,a),E(n,function(t,r){t===g&&(n[r]=e[0])}),l=ht(e[0].childNodes,i);h.length;){var T=h.shift(),S=h.shift(),A=h.shift(),C=h.shift(),M=e[0];if(!T.$$destroyed){if(S!==c){var R=S.className;a.hasElementTranscludeDirective&&p.replace||(M=ge(g)),Pt(A,f(S),M),Z(f(M),R)}_=u.transcludeOnThisElement?ft(T,u.transclude,C):C,u(l,T,M,n,_)}}h=null}).catch(function(t){Y(t)&&d(t)}),function(t,e,r,n,i){var o=i;e.$$destroyed||(h?h.push(e,r,n,o):(u.transcludeOnThisElement&&(o=ft(e,u.transclude,i)),u(l,e,r,n,o)))}}function Ct(t,e){var r=e.priority-t.priority;return 0!==r?r:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function Mt(t,e,r,n){function i(t){return t?" (module: "+t+")":""}if(e)throw fr("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,i(e.$$moduleName),r.name,i(r.$$moduleName),t,_t(n))}function Rt(t,r){switch(t=l(t||"html")){case"svg":case"math":var n=e.document.createElement("div");return n.innerHTML="<"+t+">"+r+"</"+t+">",n.childNodes[0].childNodes;default:return r}}function Ot(t,e,n,i,o){var s=function(t,e){if("srcdoc"===e)return M.HTML;var r=it(t);if("src"===e||"ngSrc"===e){if(-1===["img","video","audio","source","track"].indexOf(r))return M.RESOURCE_URL}else if("xlinkHref"===e||"form"===r&&"action"===e||"link"===r&&"href"===e)return M.RESOURCE_URL}(t,i),u=!o,l=a[i]||o,h=r(n,u,s,l);if(h){if("multiple"===i&&"select"===it(t))throw fr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",_t(t));if(p.test(i))throw fr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");e.push({priority:100,compile:function(){return{pre:function(t,e,o){var a=o.$$observers||(o.$$observers=jt()),u=o[i];u!==n&&(h=u&&r(u,!0,s,l),n=u),h&&(o[i]=h(t),(a[i]||(a[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||t).$watch(h,function(t,e){"class"===i&&t!==e?o.$updateClass(t,e):o.$set(i,t)}))}}}})}}function Pt(t,r,n){var i,o,s=r[0],a=r.length,u=s.parentNode;if(t)for(i=0,o=t.length;i<o;i++)if(t[i]===s){t[i++]=n;for(var l=i,h=l+a-1,c=t.length;l<c;l++,h++)h<c?t[l]=t[h]:delete t[l];t.length-=a-1,t.context===s&&(t.context=n);break}u&&u.replaceChild(n,s);var p=e.document.createDocumentFragment();for(i=0;i<a;i++)p.appendChild(r[i]);for(f.hasData(s)&&(f.data(n,f.data(s)),f(s).off("$destroy")),f.cleanData(p.querySelectorAll("*")),i=1;i<a;i++)delete r[i];r[0]=n,r.length=1}function Dt(t,e){return O(function(){return t.apply(null,arguments)},t,e)}function It(t,e,r,n,i,o){try{t(e,r,n,i,o)}catch(t){d(t,_t(r))}}function Ft(t,e){if(b)throw fr("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",t,e)}function Bt(t,e,n,i,o){var s,a=[],l={};function h(e,r,i){H(n.$onChanges)&&!ut(r,i)&&(D||(t.$$postDigest(X),D=[]),s||(s={},D.push(c)),s[e]&&(i=s[e].previousValue),s[e]=new gr(i,r))}function c(){n.$onChanges(s),s=void 0}return E(i,function(i,s){var c,f,p,d,g,v=i.attrName,m=i.optional;switch(i.mode){case"@":m||u.call(e,v)||(Ft(v,o.name),n[s]=e[v]=void 0),g=e.$observe(v,function(t){if(W(t)||Q(t)){var e=n[s];h(s,t,e),n[s]=t}}),e.$$observers[v].$$scope=t,W(c=e[v])?n[s]=r(c)(t):Q(c)&&(n[s]=c),l[s]=new gr(pr,n[s]),a.push(g);break;case"=":if(!u.call(e,v)){if(m)break;Ft(v,o.name),e[v]=void 0}if(m&&!e[v])break;f=S(e[v]),d=f.literal?lt:ut,p=f.assign||function(){throw c=n[s]=f(t),fr("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[v],v,o.name)},c=n[s]=f(t);var y=function(e){return d(e,n[s])||(d(e,c)?p(t,e=n[s]):n[s]=e),c=e};y.$stateful=!0,g=i.collection?t.$watchCollection(e[v],y):t.$watch(S(e[v],y),null,f.literal),a.push(g);break;case"<":if(!u.call(e,v)){if(m)break;Ft(v,o.name),e[v]=void 0}if(m&&!e[v])break;var x=(f=S(e[v])).literal,b=n[s]=f(t);l[s]=new gr(pr,n[s]),g=t.$watch(f,function(t,e){if(e===t){if(e===b||x&&lt(e,b))return;e=b}h(s,t,e),n[s]=t},x),a.push(g);break;case"&":if(m||u.call(e,v)||Ft(v,o.name),(f=e.hasOwnProperty(v)?S(e[v]):F)===F&&m)break;n[s]=function(e){return f(t,e)}}}),{initialChanges:l,removeWatches:a.length&&function(){for(var t=0,e=a.length;t<e;++t)a[t]()}}}}]}function gr(t,e){this.previousValue=t,this.currentValue=e}dr.$inject=["$provide","$$sanitizeUriProvider"],gr.prototype.isFirstChange=function(){return this.previousValue===pr};var vr=/^((?:x|data)[:\-_])/i,mr=/[:\-_]+(.)/g;function yr(t){return t.replace(vr,"").replace(mr,function(t,e,r){return r?e.toUpperCase():e})}function xr(t,e){var r="",n=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<n.length;o++){for(var s=n[o],a=0;a<i.length;a++)if(s===i[a])continue t;r+=(r.length>0?" ":"")+s}return r}function br(t){var e=(t=f(t)).length;if(e<=1)return t;for(;e--;){var r=t[e];(r.nodeType===Xt||r.nodeType===Vt&&""===r.nodeValue.trim())&&v.call(t,e,1)}return t}var _r=o("$controller"),wr=/^(\S+)(\s+as\s+([\w$]+))?$/;function Tr(){var t={},e=!1;this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,r){Nt(e,"controller"),j(e)?O(t,e):t[e]=r},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(r,n){return function(o,s,a,u){var l,h,c,f;if(a=!0===a,u&&W(u)&&(f=u),W(o)){if(!(h=o.match(wr)))throw _r("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",o);if(c=h[1],f=f||h[3],!(o=t.hasOwnProperty(c)?t[c]:Ut(s.$scope,c,!0)||(e?Ut(n,c,!0):void 0)))throw _r("ctrlreg","The controller with the name '{0}' is not registered.",c);Bt(o,c,!0)}if(a){var p=(z(o)?o[o.length-1]:o).prototype;return l=Object.create(p||null),f&&i(s,f,l,c||o.name),O(function(){var t=r.invoke(o,l,s,c);return t!==l&&(j(t)||H(t))&&(l=t,f&&i(s,f,l,c||o.name)),l},{instance:l,identifier:f})}return l=r.instantiate(o,s,c),f&&i(s,f,l,c||o.name),l};function i(t,e,r,n){if(!t||!j(t.$scope))throw o("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",n,e);t.$scope[e]=r}}]}function Er(){this.$get=["$window",function(t){return f(t.document)}]}function Sr(){this.$get=["$document","$rootScope",function(t,e){var r=t[0],n=r&&r.hidden;function i(){n=r.hidden}return t.on("visibilitychange",i),e.$on("$destroy",function(){t.off("visibilitychange",i)}),function(){return n}}]}function Ar(){this.$get=["$log",function(t){return function(e,r){t.error.apply(t,arguments)}}]}var Cr=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof f&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},Mr="application/json",Rr={"Content-Type":Mr+";charset=utf-8"},Or=/^\[|^\{(?!\{)/,Pr={"[":/]$/,"{":/}$/},Dr=/^\)]\}',?\n/,Ir=o("$http");function Lr(t){return j(t)?X(t)?t.toISOString():vt(t):t}function Fr(){this.$get=function(){return function(t){if(!t)return"";var e=[];return S(t,function(t,r){null===t||U(t)||H(t)||(z(t)?E(t,function(t){e.push(At(r)+"="+At(Lr(t)))}):e.push(At(r)+"="+At(Lr(t))))}),e.join("&")}}}function kr(){this.$get=function(){return function(t){if(!t)return"";var e=[];return function t(r,n,i){if(null===r||U(r))return;z(r)?E(r,function(e,r){t(e,n+"["+(j(e)?r:"")+"]")}):j(r)&&!X(r)?S(r,function(e,r){t(e,n+(i?"":"[")+r+(i?"":"]"))}):e.push(At(n)+"="+At(Lr(r)))}(t,"",!0),e.join("&")}}}function Br(t,e){if(W(t)){var r=t.replace(Dr,"").trim();if(r){var n=e("Content-Type"),i=n&&0===n.indexOf(Mr);if(i||(s=(o=r).match(Or))&&Pr[s[0]].test(o))try{t=mt(r)}catch(e){if(!i)return t;throw Ir("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',t,e)}}}var o,s;return t}function Nr(t){var e,r=jt();function n(t,e){t&&(r[t]=r[t]?r[t]+", "+e:e)}return W(t)?E(t.split("\n"),function(t){e=t.indexOf(":"),n(l(et(t.substr(0,e))),et(t.substr(e+1)))}):j(t)&&E(t,function(t,e){n(l(e),et(t))}),r}function Ur(t){var e;return function(r){if(e||(e=Nr(t)),r){var n=e[l(r)];return void 0===n&&(n=null),n}return e}}function $r(t,e,r,n){return H(n)?n(t,e,r):(E(n,function(n){t=n(t,e,r)}),t)}function jr(t){return 200<=t&&t<300}function Gr(){var t=this.defaults={transformResponse:[Br],transformRequest:[function(t){return!j(t)||(e=t,"[object File]"===y.call(e))||function(t){return"[object Blob]"===y.call(t)}(t)||function(t){return"[object FormData]"===y.call(t)}(t)?t:vt(t);var e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:Ht(Rr),put:Ht(Rr),patch:Ht(Rr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},e=!1;this.useApplyAsync=function(t){return $(t)?(e=!!t,this):e};var r=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(n,i,s,a,u,c,f,p){var d=a("$http");t.paramSerializer=W(t.paramSerializer)?f.get(t.paramSerializer):t.paramSerializer;var g=[];function v(r){if(!j(r))throw o("$http")("badreq","Http request configuration must be an object.  Received: {0}",r);if(!W(p.valueOf(r.url)))throw o("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",r.url);var a=O({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer,jsonpCallbackParam:t.jsonpCallbackParam},r);a.headers=function(e){var r,n,i,o=t.headers,s=O({},e.headers);o=O({},o.common,o[l(e.method)]);t:for(r in o){for(i in n=l(r),s)if(l(i)===n)continue t;s[r]=o[r]}return function(t,e){var r,n={};return E(t,function(t,i){H(t)?null!=(r=t(e))&&(n[i]=r):n[i]=t}),n}(s,Ht(e))}(r),a.method=h(a.method),a.paramSerializer=W(a.paramSerializer)?f.get(a.paramSerializer):a.paramSerializer,n.$$incOutstandingRequestCount();var m=[],y=[],x=c.resolve(a);return E(g,function(t){(t.request||t.requestError)&&m.unshift(t.request,t.requestError),(t.response||t.responseError)&&y.push(t.response,t.responseError)}),x=(x=b(x=(x=b(x,m)).then(function(r){var n=r.headers,o=$r(r.data,Ur(n),void 0,r.transformRequest);U(o)&&E(n,function(t,e){"content-type"===l(e)&&delete n[e]});U(r.withCredentials)&&!U(t.withCredentials)&&(r.withCredentials=t.withCredentials);return function(r,n){var o,a,h=c.defer(),f=h.promise,g=r.headers,m="jsonp"===l(r.method),y=r.url;m?y=p.getTrustedResourceUrl(y):W(y)||(y=p.valueOf(y));y=function(t,e){return e.length>0&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}(y,r.paramSerializer(r.params)),m&&(y=function(t,e){var r=t.split("?");if(r.length>2)throw Ir("badjsonp",'Illegal use more than one "?", in url, "{1}"',t);return E(Tt(r[1]),function(r,n){if("JSON_CALLBACK"===r)throw Ir("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',t);if(n===e)throw Ir("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',e,t)}),t+=(-1===t.indexOf("?")?"?":"&")+e+"=JSON_CALLBACK"}(y,r.jsonpCallbackParam));v.pendingRequests.push(r),f.then(T,T),!r.cache&&!t.cache||!1===r.cache||"GET"!==r.method&&"JSONP"!==r.method||(o=j(r.cache)?r.cache:j(t.cache)?t.cache:d);o&&($(a=o.get(y))?J(a)?a.then(w,w):z(a)?_(a[1],a[0],Ht(a[2]),a[3],a[4]):_(a,200,{},"OK","complete"):o.put(y,f));if(U(a)){var x=oi(r.url)?s()[r.xsrfCookieName||t.xsrfCookieName]:void 0;x&&(g[r.xsrfHeaderName||t.xsrfHeaderName]=x),i(r.method,y,n,function(t,r,n,i,s){o&&(jr(t)?o.put(y,[t,r,Nr(n),i,s]):o.remove(y));function a(){_(r,t,n,i,s)}e?u.$applyAsync(a):(a(),u.$$phase||u.$apply())},g,r.timeout,r.withCredentials,r.responseType,b(r.eventHandlers),b(r.uploadEventHandlers))}return f;function b(t){if(t){var r={};return E(t,function(t,n){r[n]=function(r){function n(){t(r)}e?u.$applyAsync(n):u.$$phase?n():u.$apply(n)}}),r}}function _(t,e,n,i,o){(jr(e=e>=-1?e:0)?h.resolve:h.reject)({data:t,status:e,headers:Ur(n),config:r,statusText:i,xhrStatus:o})}function w(t){_(t.data,t.status,Ht(t.headers()),t.statusText,t.xhrStatus)}function T(){var t=v.pendingRequests.indexOf(r);-1!==t&&v.pendingRequests.splice(t,1)}}(r,o).then(_,_)}),y)).finally(function(){n.$$completeOutstandingRequest(F)});function b(t,e){for(var r=0,n=e.length;r<n;){var i=e[r++],o=e[r++];t=t.then(i,o)}return e.length=0,t}function _(t){var e=O({},t);return e.data=$r(t.data,t.headers,t.status,a.transformResponse),jr(t.status)?e:c.reject(e)}}return E(r,function(t){g.unshift(W(t)?f.get(t):f.invoke(t))}),v.pendingRequests=[],function(t){E(arguments,function(t){v[t]=function(e,r){return v(O({},r||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(t){E(arguments,function(t){v[t]=function(e,r,n){return v(O({},n||{},{method:t,url:e,data:r}))}})}("post","put","patch"),v.defaults=t,v}]}function Wr(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Vr(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,r,n){return function(t,e,r,n,i){return function(o,s,a,u,h,c,f,p,d,g){if(s=s||t.url(),"jsonp"===l(o))var v=n.createCallback(s),m=function(t,e,r){t=t.replace("JSON_CALLBACK",e);var o=i.createElement("script"),s=null;return o.type="text/javascript",o.src=t,o.async=!0,s=function(t){o.removeEventListener("load",s),o.removeEventListener("error",s),i.body.removeChild(o),o=null;var a=-1,u="unknown";t&&("load"!==t.type||n.wasCalled(e)||(t={type:"error"}),u=t.type,a="error"===t.type?404:200),r&&r(a,u)},o.addEventListener("load",s),o.addEventListener("error",s),i.body.appendChild(o),s}(s,v,function(t,e){var r=200===t&&n.getResponse(v);_(u,t,r,"",e,"complete"),n.removeCallback(v)});else{var y=e(o,s);y.open(o,s,!0),E(h,function(t,e){$(t)&&y.setRequestHeader(e,t)}),y.onload=function(){var t=y.statusText||"",e="response"in y?y.response:y.responseText,r=1223===y.status?204:y.status;0===r&&(r=e?200:"file"===ii(s).protocol?404:0),_(u,r,e,y.getAllResponseHeaders(),t,"complete")};if(y.onerror=function(){_(u,-1,null,null,"","error")},y.onabort=function(){_(u,-1,null,null,"","abort")},y.ontimeout=function(){_(u,-1,null,null,"","timeout")},E(d,function(t,e){y.addEventListener(e,t)}),E(g,function(t,e){y.upload.addEventListener(e,t)}),f&&(y.withCredentials=!0),p)try{y.responseType=p}catch(t){if("json"!==p)throw t}y.send(U(a)?null:a)}if(c>0)var x=r(b,c);else J(c)&&c.then(b);function b(){m&&m(),y&&y.abort()}function _(t,e,n,i,o,s){$(x)&&r.cancel(x),m=y=null,t(e,n,i,o,s)}}}(t,n,t.defer,e,r[0])}]}var Xr=_.$interpolateMinErr=o("$interpolate");function zr(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(r,n,i){var o=t.length,s=e.length,a=new RegExp(t.replace(/./g,l),"g"),u=new RegExp(e.replace(/./g,l),"g");function l(t){return"\\\\\\"+t}function h(r){return r.replace(a,t).replace(u,e)}function c(t,e,r,n){var i=t.$watch(function(t){return i(),n(t)},e,r);return i}function f(a,u,l,f){if(!a.length||-1===a.indexOf(t)){var p;if(!u)(p=B(h(a))).exp=a,p.expressions=[],p.$$watchDelegate=c;return p}f=!!f;for(var d,g,v,m=0,y=[],x=[],b=a.length,_=[],w=[];m<b;){if(-1===(d=a.indexOf(t,m))||-1===(g=a.indexOf(e,d+o))){m!==b&&_.push(h(a.substring(m)));break}m!==d&&_.push(h(a.substring(m,d))),v=a.substring(d+o,g),y.push(v),x.push(r(v,S)),m=g+s,w.push(_.length),_.push("")}if(l&&_.length>1&&Xr.throwNoconcat(a),!u||y.length){var T=function(t){for(var e=0,r=y.length;e<r;e++){if(f&&U(t[e]))return;_[w[e]]=t[e]}return _.join("")},E=function(t){return l?i.getTrusted(l,t):i.valueOf(t)};return O(function(t){var e=0,r=y.length,i=new Array(r);try{for(;e<r;e++)i[e]=x[e](t);return T(i)}catch(t){n(Xr.interr(a,t))}},{exp:a,expressions:y,$$watchDelegate:function(t,e){var r;return t.$watchGroup(x,function(n,i){var o=T(n);e.call(this,o,n!==i?r:o,t),r=o})}})}function S(t){try{return t=E(t),f&&!$(t)?t:Gt(t)}catch(t){n(Xr.interr(a,t))}}}return f.startSymbol=function(){return t},f.endSymbol=function(){return e},f}]}function Yr(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(t,e,r,n,i){var o={};function s(s,a,u,l){var h=arguments.length>4,c=h?pt(arguments,4):[],f=e.setInterval,p=e.clearInterval,d=0,g=$(l)&&!l,v=(g?n:r).defer(),m=v.promise;return u=$(u)?u:0,m.$$intervalId=f(function(){g?i.defer(y):t.$evalAsync(y),v.notify(d++),u>0&&d>=u&&(v.resolve(d),p(m.$$intervalId),delete o[m.$$intervalId]),g||t.$apply()},a),o[m.$$intervalId]=v,m;function y(){h?s.apply(null,c):s(d)}}return s.cancel=function(t){return!!(t&&t.$$intervalId in o)&&($n(o[t.$$intervalId].promise),o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0)},s}]}Xr.throwNoconcat=function(t){throw Xr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Xr.interr=function(t,e){return Xr("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var Hr=function(){this.$get=function(){var t=_.callbacks,e={};return{createCallback:function(r){var n="_"+(t.$$counter++).toString(36),i="angular.callbacks."+n,o=function(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}(n);return e[i]=t[n]=o,i},wasCalled:function(t){return e[t].called},getResponse:function(t){return e[t].data},removeCallback:function(r){var n=e[r];delete t[n.id],delete e[r]}}}},qr=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Zr={http:80,https:443,ftp:21},Kr=o("$location");function Qr(t){for(var e=t.split("/"),r=e.length;r--;)e[r]=St(e[r].replace(/%2F/g,"/"));return e.join("/")}function Jr(t,e){var r=ii(t);e.$$protocol=r.protocol,e.$$host=r.hostname,e.$$port=D(r.port)||Zr[r.protocol]||null}var tn=/^\s*[\\/]{2,}/;function en(t,e,r){if(tn.test(t))throw Kr("badpath",'Invalid url "{0}".',t);var n="/"!==t.charAt(0);n&&(t="/"+t);var i=ii(t),o=n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname;e.$$path=function(t,e){for(var r=t.split("/"),n=r.length;n--;)r[n]=decodeURIComponent(r[n]),e&&(r[n]=r[n].replace(/\//g,"%2F"));return r.join("/")}(o,r),e.$$search=Tt(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function rn(t,e){return t.slice(0,e.length)===e}function nn(t,e){if(rn(e,t))return e.substr(t.length)}function on(t){var e=t.indexOf("#");return-1===e?t:t.substr(0,e)}function sn(t){return t.replace(/(#.+)|#$/,"$1")}function an(t,e,r){this.$$html5=!0,r=r||"",Jr(t,this),this.$$parse=function(t){var r=nn(e,t);if(!W(r))throw Kr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);en(r,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=Et(this.$$search),r=this.$$hash?"#"+St(this.$$hash):"";this.$$url=Qr(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(n,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):($(o=nn(t,n))?(s=o,a=r&&$(o=nn(r,o))?e+(nn("/",o)||o):t+s):$(o=nn(e,n))?a=e+o:e===n+"/"&&(a=e),a&&this.$$parse(a),!!a);var o,s,a}}function un(t,e,r){Jr(t,this),this.$$parse=function(n){var i,o=nn(t,n)||nn(e,n);U(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",U(o)&&(t=n,this.replace())):U(i=nn(r,o))&&(i=o),en(i,this,!1),this.$$path=function(t,e,r){var n,i=/^\/[A-Z]:(\/.*)/;rn(e,r)&&(e=e.replace(r,""));if(i.exec(e))return t;return(n=i.exec(t))?n[1]:t}(this.$$path,i,t),this.$$compose()},this.$$compose=function(){var e=Et(this.$$search),n=this.$$hash?"#"+St(this.$$hash):"";this.$$url=Qr(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+(this.$$url?r+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(e,r){return on(t)===on(e)&&(this.$$parse(e),!0)}}function ln(t,e,r){this.$$html5=!0,un.apply(this,arguments),this.$$parseLinkUrl=function(n,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(t===on(n)?o=n:(s=nn(e,n))?o=t+r+s:e===n+"/"&&(o=e),o&&this.$$parse(o),!!o);var o,s},this.$$compose=function(){var e=Et(this.$$search),n=this.$$hash?"#"+St(this.$$hash):"";this.$$url=Qr(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+r+this.$$url,this.$$urlUpdatedByLocation=!0}}var hn={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:cn("$$absUrl"),url:function(t){if(U(t))return this.$$url;var e=qr.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:cn("$$protocol"),host:cn("$$host"),port:cn("$$port"),path:fn("$$path",function(t){return"/"===(t=null!==t?t.toString():"").charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(W(t)||V(t))t=t.toString(),this.$$search=Tt(t);else{if(!j(t))throw Kr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");E(t=at(t,{}),function(e,r){null==e&&delete t[r]}),this.$$search=t}break;default:U(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:fn("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};function cn(t){return function(){return this[t]}}function fn(t,e){return function(r){return U(r)?this[t]:(this[t]=e(r),this.$$compose(),this)}}function pn(){var t="!",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return $(e)?(t=e,this):t},this.html5Mode=function(t){return Q(t)?(e.enabled=t,this):j(t)?(Q(t.enabled)&&(e.enabled=t.enabled),Q(t.requireBase)&&(e.requireBase=t.requireBase),(Q(t.rewriteLinks)||W(t.rewriteLinks))&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(r,n,i,o,s){var a,u,l,h,c=n.baseHref(),p=n.url();if(e.enabled){if(!c&&e.requireBase)throw Kr("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=(h=p).substring(0,h.indexOf("/",h.indexOf("//")+2))+(c||"/"),u=i.history?an:ln}else l=on(p),u=un;var d=function(t){return t.substr(0,on(t).lastIndexOf("/")+1)}(l);(a=new u(l,d,"#"+t)).$$parseLinkUrl(p,p),a.$$state=n.state();var g=/^\s*(javascript|mailto):/i;function v(t,e,r){var i=a.url(),o=a.$$state;try{n.url(t,e,r),a.$$state=n.state()}catch(t){throw a.url(i),a.$$state=o,t}}o.on("click",function(t){var i=e.rewriteLinks;if(i&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var u=f(t.target);"a"!==it(u[0]);)if(u[0]===o[0]||!(u=u.parent())[0])return;if(!W(i)||!U(u.attr(i))){var l=u.prop("href"),h=u.attr("href")||u.attr("xlink:href");j(l)&&"[object SVGAnimatedString]"===l.toString()&&(l=ii(l.animVal).href),g.test(l)||!l||u.attr("target")||t.isDefaultPrevented()||a.$$parseLinkUrl(l,h)&&(t.preventDefault(),a.absUrl()!==n.url()&&(r.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}}),sn(a.absUrl())!==sn(p)&&n.url(a.absUrl(),!0);var m=!0;return n.onUrlChange(function(t,e){rn(t,d)?(r.$evalAsync(function(){var n,i=a.absUrl(),o=a.$$state;t=sn(t),a.$$parse(t),a.$$state=e,n=r.$broadcast("$locationChangeStart",t,i,e,o).defaultPrevented,a.absUrl()===t&&(n?(a.$$parse(i),a.$$state=o,v(i,!1,o)):(m=!1,y(i,o)))}),r.$$phase||r.$digest()):s.location.href=t}),r.$watch(function(){if(m||a.$$urlUpdatedByLocation){a.$$urlUpdatedByLocation=!1;var t=sn(n.url()),e=sn(a.absUrl()),o=n.state(),s=a.$$replace,u=t!==e||a.$$html5&&i.history&&o!==a.$$state;(m||u)&&(m=!1,r.$evalAsync(function(){var e=a.absUrl(),n=r.$broadcast("$locationChangeStart",e,t,a.$$state,o).defaultPrevented;a.absUrl()===e&&(n?(a.$$parse(t),a.$$state=o):(u&&v(e,s,o===a.$$state?null:a.$$state),y(t,o)))}))}a.$$replace=!1}),a;function y(t,e){r.$broadcast("$locationChangeSuccess",a.absUrl(),t,a.$$state,e)}}]}function dn(){var t=!0,e=this;this.debugEnabled=function(e){return $(e)?(t=e,this):t},this.$get=["$window",function(r){var n,i=c||/\bEdge\//.test(r.navigator&&r.navigator.userAgent);return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:(n=o("debug"),function(){t&&n.apply(e,arguments)})};function o(t){var e=r.console||{},n=e[t]||e.log||F;return function(){var t=[];return E(arguments,function(e){t.push(function(t){return Y(t)&&(t.stack&&i?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}(e))}),Function.prototype.apply.call(n,e,t)}}}]}E([ln,un,an],function(t){t.prototype=Object.create(hn),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==an||!this.$$html5)throw Kr("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=U(e)?null:e,this.$$urlUpdatedByLocation=!0,this}});var gn=o("$parse"),vn={}.constructor.prototype.valueOf;function mn(t){return t+""}var yn=jt();E("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){yn[t]=!0});var xn={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},bn=function(t){this.options=t};bn.prototype={constructor:bn,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var r=e+this.peek(),n=r+this.peek(2),i=yn[e],o=yn[r],s=yn[n];if(i||o||s){var a=s?n:o?r:e;this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||" "===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var r=t.charCodeAt(0),n=e.charCodeAt(0);return r>=55296&&r<=56319&&n>=56320&&n<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,r){r=r||this.index;var n=$(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,r)+"]":" "+r;throw gn("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,n,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var r=l(this.text.charAt(this.index));if("."===r||this.isNumber(r))t+=r;else{var n=this.peek();if("e"===r&&this.isExpOperator(n))t+=r;else if(this.isExpOperator(r)&&n&&this.isNumber(n)&&"e"===t.charAt(t.length-1))t+=r;else{if(!this.isExpOperator(r)||n&&this.isNumber(n)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var r="",n=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(n+=o,i){if("u"===o){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,r+=String.fromCharCode(parseInt(s,16))}else{r+=xn[o]||o}i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:n,constant:!0,value:r});r+=o}this.index++}this.throwError("Unterminated quote",e)}};var _n=function(t,e){this.lexer=t,this.options=e};function wn(t,e){return void 0!==t?t:e}function Tn(t,e){return void 0===t?e:void 0===e?t:t+e}_n.Program="Program",_n.ExpressionStatement="ExpressionStatement",_n.AssignmentExpression="AssignmentExpression",_n.ConditionalExpression="ConditionalExpression",_n.LogicalExpression="LogicalExpression",_n.BinaryExpression="BinaryExpression",_n.UnaryExpression="UnaryExpression",_n.CallExpression="CallExpression",_n.MemberExpression="MemberExpression",_n.Identifier="Identifier",_n.Literal="Literal",_n.ArrayExpression="ArrayExpression",_n.Property="Property",_n.ObjectExpression="ObjectExpression",_n.ThisExpression="ThisExpression",_n.LocalsExpression="LocalsExpression",_n.NGValueParameter="NGValueParameter",_n.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:_n.Program,body:t}},expressionStatement:function(){return{type:_n.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!Mn(t))throw gn("lval","Trying to assign a value to a non l-value");t={type:_n.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,r=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:_n.ConditionalExpression,test:r,alternate:t,consequent:e}):r},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:_n.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:_n.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:_n.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:_n.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:_n.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:_n.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:_n.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t,e;for(this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=at(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:_n.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());e=this.expect("(","[",".");)"("===e.text?(t={type:_n.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:_n.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:_n.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],r={type:_n.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return r},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do{t.push(this.filterChain())}while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:_n.Identifier,name:t.text}},constant:function(){return{type:_n.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:_n.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:_n.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:_n.ObjectExpression,properties:e}},throwError:function(t,e){throw gn("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw gn("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw gn("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,r,n){return this.peekAhead(0,t,e,r,n)},peekAhead:function(t,e,r,n,i){if(this.tokens.length>t){var o=this.tokens[t],s=o.text;if(s===e||s===r||s===n||s===i||!e&&!r&&!n&&!i)return o}return!1},expect:function(t,e,r,n){var i=this.peek(t,e,r,n);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:_n.ThisExpression},$locals:{type:_n.LocalsExpression}}};var En=1,Sn=2;function An(t,e,r){var n,i,o,s=t.isPure=function(t,e){switch(t.type){case _n.MemberExpression:if(t.computed)return!1;break;case _n.UnaryExpression:return En;case _n.BinaryExpression:return"+"!==t.operator&&En;case _n.CallExpression:return!1}return void 0===e?Sn:e}(t,r);switch(t.type){case _n.Program:n=!0,E(t.body,function(t){An(t.expression,e,s),n=n&&t.expression.constant}),t.constant=n;break;case _n.Literal:t.constant=!0,t.toWatch=[];break;case _n.UnaryExpression:An(t.argument,e,s),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case _n.BinaryExpression:An(t.left,e,s),An(t.right,e,s),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case _n.LogicalExpression:An(t.left,e,s),An(t.right,e,s),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case _n.ConditionalExpression:An(t.test,e,s),An(t.alternate,e,s),An(t.consequent,e,s),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case _n.Identifier:t.constant=!1,t.toWatch=[t];break;case _n.MemberExpression:An(t.object,e,s),t.computed&&An(t.property,e,s),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=t.constant?[]:[t];break;case _n.CallExpression:o=!!t.filter&&function(t,e){return!t(e).$stateful}(e,t.callee.name),n=o,i=[],E(t.arguments,function(t){An(t,e,s),n=n&&t.constant,i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=o?i:[t];break;case _n.AssignmentExpression:An(t.left,e,s),An(t.right,e,s),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case _n.ArrayExpression:n=!0,i=[],E(t.elements,function(t){An(t,e,s),n=n&&t.constant,i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=i;break;case _n.ObjectExpression:n=!0,i=[],E(t.properties,function(t){An(t.value,e,s),n=n&&t.value.constant,i.push.apply(i,t.value.toWatch),t.computed&&(An(t.key,e,!1),n=n&&t.key.constant,i.push.apply(i,t.key.toWatch))}),t.constant=n,t.toWatch=i;break;case _n.ThisExpression:case _n.LocalsExpression:t.constant=!1,t.toWatch=[]}}function Cn(t){if(1===t.length){var e=t[0].expression,r=e.toWatch;return 1!==r.length?r:r[0]!==e?r:void 0}}function Mn(t){return t.type===_n.Identifier||t.type===_n.MemberExpression}function Rn(t){if(1===t.body.length&&Mn(t.body[0].expression))return{type:_n.AssignmentExpression,left:t.body[0].expression,right:{type:_n.NGValueParameter},operator:"="}}function On(t){this.$filter=t}function Pn(t){this.$filter=t}function Dn(t,e,r){this.ast=new _n(t,r),this.astCompiler=r.csp?new Pn(e):new On(e)}function In(t){return H(t.valueOf)?t.valueOf():vn.call(t)}function Ln(){var t,e,r=jt(),n={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){n[t]=e},this.setIdentifierFns=function(r,n){return t=r,e=n,this},this.$get=["$filter",function(i){var o={csp:ht().noUnsafeEval,literals:at(n),isIdentifierStart:H(t)&&t,isIdentifierContinue:H(e)&&e};return s.$$getAst=function(t){return new Dn(new bn(o),i,o).getAst(t).ast},s;function s(t,e){var n,s;switch(typeof t){case"string":if(t=t.trim(),!(n=r[s=t]))(n=new Dn(new bn(o),i,o).parse(t)).constant?n.$$watchDelegate=c:n.oneTime?n.$$watchDelegate=n.literal?h:l:n.inputs&&(n.$$watchDelegate=u),r[s]=n;return f(n,e);case"function":return f(t,e);default:return f(F,e)}}function a(t,e,r){return null==t||null==e?t===e:!("object"==typeof t&&"object"==typeof(t=In(t))&&!r)&&(t===e||t!=t&&e!=e)}function u(t,e,r,n,i){var o,s=n.inputs;if(1===s.length){var u=a;return s=s[0],t.$watch(function(t){var e=s(t);return a(e,u,s.isPure)||(o=n(t,void 0,void 0,[e]),u=e&&In(e)),o},e,r,i)}for(var l=[],h=[],c=0,f=s.length;c<f;c++)l[c]=a,h[c]=null;return t.$watch(function(t){for(var e=!1,r=0,i=s.length;r<i;r++){var u=s[r](t);(e||(e=!a(u,l[r],s[r].isPure)))&&(h[r]=u,l[r]=u&&In(u))}return e&&(o=n(t,void 0,void 0,h)),o},e,r,i)}function l(t,e,r,n,i){var o,s;return o=n.inputs?u(t,a,r,n,i):t.$watch(function(t){return n(t)},a,r);function a(t,r,n){s=t,H(e)&&e(t,r,n),$(t)&&n.$$postDigest(function(){$(s)&&o()})}}function h(t,e,r,n){var i,o;return i=t.$watch(function(t){return n(t)},function(t,r,n){o=t,H(e)&&e(t,r,n),s(t)&&n.$$postDigest(function(){s(o)&&i()})},r);function s(t){var e=!0;return E(t,function(t){$(t)||(e=!1)}),e}}function c(t,e,r,n){var i=t.$watch(function(t){return i(),n(t)},e,r);return i}function f(t,e){if(!e)return t;var r=t.$$watchDelegate,n=!1,i=r!==h&&r!==l?function(r,i,o,s){var a=n&&s?s[0]:t(r,i,o,s);return e(a,r,i)}:function(r,n,i,o){var s=t(r,n,i,o),a=e(s,r,n);return $(s)?a:s};return n=!t.inputs,r&&r!==u?(i.$$watchDelegate=r,i.inputs=t.inputs):e.$stateful||(i.$$watchDelegate=u,i.inputs=t.inputs?t.inputs:[t]),i.inputs&&(i.inputs=i.inputs.map(function(t){return t.isPure===Sn?function(e){return t(e)}:t})),i}}]}function Fn(){var t=!0;this.$get=["$rootScope","$exceptionHandler",function(e,r){return Bn(function(t){e.$evalAsync(t)},r,t)}],this.errorOnUnhandledRejections=function(e){return $(e)?(t=e,this):t}}function kn(){var t=!0;this.$get=["$browser","$exceptionHandler",function(e,r){return Bn(function(t){e.defer(t)},r,t)}],this.errorOnUnhandledRejections=function(e){return $(e)?(t=e,this):t}}function Bn(t,e,r){var n=o("$q",TypeError),i=0,s=[];function a(){return new function(){var t=this.promise=new u;this.resolve=function(e){c(t,e)},this.reject=function(e){f(t,e)},this.notify=function(e){d(t,e)}}}function u(){this.$$state={status:0}}function l(){for(;!i&&s.length;){var t=s.shift();if(!Nn(t)){Un(t);var r="Possibly unhandled rejection: "+qt(t.value);Y(t.value)?e(t.value,r):e(r)}}}function h(n){!r||n.pending||2!==n.status||Nn(n)||(0===i&&0===s.length&&t(l),s.push(n)),!n.processScheduled&&n.pending&&(n.processScheduled=!0,++i,t(function(){!function(n){var o,s,a;a=n.pending,n.processScheduled=!1,n.pending=void 0;try{for(var u=0,h=a.length;u<h;++u){Un(n),s=a[u][0],o=a[u][n.status];try{H(o)?c(s,o(n.value)):1===n.status?c(s,n.value):f(s,n.value)}catch(t){f(s,t),t&&!0===t.$$passToExceptionHandler&&e(t)}}}finally{--i,r&&0===i&&t(l)}}(n)}))}function c(t,e){t.$$state.status||(e===t?p(t,n("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):function t(e,r){var n;var i=!1;try{(j(r)||H(r))&&(n=r.then),H(n)?(e.$$state.status=-1,n.call(r,function o(t){if(i)return;i=!0,function t(e,r){var n;var i=!1;try{(j(r)||H(r))&&(n=r.then),H(n)?(e.$$state.status=-1,n.call(r,o,s,function(t){d(e,t)})):(e.$$state.value=r,e.$$state.status=1,h(e.$$state))}catch(t){s(t)}function o(r){i||(i=!0,t(e,r))}function s(t){i||(i=!0,p(e,t))}}(e,t)},s,function(t){d(e,t)})):(e.$$state.value=r,e.$$state.status=1,h(e.$$state))}catch(t){s(t)}function o(r){i||(i=!0,t(e,r))}function s(t){i||(i=!0,p(e,t))}}(t,e))}function f(t,e){t.$$state.status||p(t,e)}function p(t,e){t.$$state.value=e,t.$$state.status=2,h(t.$$state)}function d(r,n){var i=r.$$state.pending;r.$$state.status<=0&&i&&i.length&&t(function(){for(var t,r,o=0,s=i.length;o<s;o++){r=i[o][0],t=i[o][3];try{d(r,H(t)?t(n):n)}catch(t){e(t)}}})}function g(t){var e=new u;return f(e,t),e}function v(t,e,r){var n=null;try{H(r)&&(n=r())}catch(t){return g(t)}return J(n)?n.then(function(){return e(t)},g):e(t)}function m(t,e,r,n){var i=new u;return c(i,t),i.then(e,r,n)}O(u.prototype,{then:function(t,e,r){if(U(t)&&U(e)&&U(r))return this;var n=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([n,t,e,r]),this.$$state.status>0&&h(this.$$state),n},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then(function(e){return v(e,y,t)},function(e){return v(e,g,t)},e)}});var y=m;function x(t){if(!H(t))throw n("norslvr","Expected resolverFn, got '{0}'",t);var e=new u;return t(function(t){c(e,t)},function(t){f(e,t)}),e}return x.prototype=u.prototype,x.defer=a,x.reject=g,x.when=m,x.resolve=y,x.all=function(t){var e=new u,r=0,n=z(t)?[]:{};return E(t,function(t,i){r++,m(t).then(function(t){n[i]=t,--r||c(e,n)},function(t){f(e,t)})}),0===r&&c(e,n),e},x.race=function(t){var e=a();return E(t,function(t){m(t).then(e.resolve,e.reject)}),e.promise},x}function Nn(t){return!!t.pur}function Un(t){t.pur=!0}function $n(t){Un(t.$$state)}function jn(){this.$get=["$window","$timeout",function(t,e){var r=t.requestAnimationFrame||t.webkitRequestAnimationFrame,n=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,i=!!r,o=i?function(t){var e=r(t);return function(){n(e)}}:function(t){var r=e(t,16.66,!1);return function(){e.cancel(r)}};return o.supported=i,o}]}function Gn(){var t=10,e=o("$rootScope"),r=null,n=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$exceptionHandler","$parse","$browser",function(i,o,s){function a(t){t.currentScope.$$destroyed=!0}function l(){this.$id=C(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}l.prototype={constructor:l,$new:function(t,e){var r;return e=e||this,t?(r=new l).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=C(),this.$$ChildScope=null}return e.prototype=t,e}(this)),r=new this.$$ChildScope),r.$parent=e,r.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=r,e.$$childTail=r):e.$$childHead=e.$$childTail=r,(t||e!==this)&&r.$on("$destroy",a),r},$watch:function(t,e,n,i){var s=o(t),a=H(e)?e:F;if(s.$$watchDelegate)return s.$$watchDelegate(this,a,n,s,t);var u=this,l=u.$$watchers,h={fn:a,last:b,get:s,exp:i||t,eq:!!n};return r=null,l||((l=u.$$watchers=[]).$$digestWatchIndex=-1),l.unshift(h),l.$$digestWatchIndex++,y(this,1),function(){var t=st(l,h);t>=0&&(y(u,-1),t<l.$$digestWatchIndex&&l.$$digestWatchIndex--),r=null}},$watchGroup:function(t,e){var r=new Array(t.length),n=new Array(t.length),i=[],o=this,s=!1,a=!0;if(!t.length){var u=!0;return o.$evalAsync(function(){u&&e(n,n,o)}),function(){u=!1}}if(1===t.length)return this.$watch(t[0],function(t,i,o){n[0]=t,r[0]=i,e(n,t===i?n:r,o)});function l(){s=!1,a?(a=!1,e(n,n,o)):e(n,r,o)}return E(t,function(t,e){var a=o.$watch(t,function(t,i){n[e]=t,r[e]=i,s||(s=!0,o.$evalAsync(l))});i.push(a)}),function(){for(;i.length;)i.shift()()}},$watchCollection:function(t,e){g.$stateful=!0;var r,n,i,s=this,a=e.length>1,l=0,h=o(t,g),c=[],f={},p=!0,d=0;function g(t){var e,i,o,s;if(!U(r=t)){if(j(r))if(T(r)){n!==c&&(d=(n=c).length=0,l++),e=r.length,d!==e&&(l++,n.length=d=e);for(var a=0;a<e;a++)s=n[a],o=r[a],s!=s&&o!=o||s===o||(l++,n[a]=o)}else{for(i in n!==f&&(n=f={},d=0,l++),e=0,r)u.call(r,i)&&(e++,o=r[i],s=n[i],i in n?s!=s&&o!=o||s===o||(l++,n[i]=o):(d++,n[i]=o,l++));if(d>e)for(i in l++,n)u.call(r,i)||(d--,delete n[i])}else n!==r&&(n=r,l++);return l}}return this.$watch(h,function(){if(p?(p=!1,e(r,r,s)):e(r,i,s),a)if(j(r))if(T(r)){i=new Array(r.length);for(var t=0;t<r.length;t++)i[t]=r[t]}else for(var n in i={},r)u.call(r,n)&&(i[n]=r[n]);else i=r})},$digest:function(){var o,a,u,l,c,d,y,x,w,T=t,E=[];v("$digest"),s.$$checkUrlChange(),this===h&&null!==n&&(s.defer.cancel(n),_()),r=null;do{c=!1,y=this;for(var S=0;S<f.length;S++){try{(0,(w=f[S]).fn)(w.scope,w.locals)}catch(t){i(t)}r=null}f.length=0;t:do{if(l=y.$$watchers)for(l.$$digestWatchIndex=l.length;l.$$digestWatchIndex--;)try{if(o=l[l.$$digestWatchIndex])if((a=(0,o.get)(y))===(u=o.last)||(o.eq?lt(a,u):I(a)&&I(u))){if(o===r){c=!1;break t}}else c=!0,r=o,o.last=o.eq?at(a,null):a,(0,o.fn)(a,u===b?a:u,y),T<5&&(E[x=4-T]||(E[x]=[]),E[x].push({msg:H(o.exp)?"fn: "+(o.exp.name||o.exp.toString()):o.exp,newVal:a,oldVal:u}))}catch(t){i(t)}if(!(d=y.$$watchersCount&&y.$$childHead||y!==this&&y.$$nextSibling))for(;y!==this&&!(d=y.$$nextSibling);)y=y.$parent}while(y=d);if((c||f.length)&&!T--)throw m(),e("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,E)}while(c||f.length);for(m();g<p.length;)try{p[g++]()}catch(t){i(t)}p.length=g=0,s.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;for(var e in this.$broadcast("$destroy"),this.$$destroyed=!0,this===h&&s.$$applicationDestroyed(),y(this,-this.$$watchersCount),this.$$listenerCount)x(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=F,this.$on=this.$watch=this.$watchGroup=function(){return F},this.$$listeners={},this.$$nextSibling=null,function t(e){9===c&&(e.$$childHead&&t(e.$$childHead),e.$$nextSibling&&t(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}(this)}},$eval:function(t,e){return o(t)(this,e)},$evalAsync:function(t,e){h.$$phase||f.length||s.defer(function(){f.length&&h.$digest()}),f.push({scope:this,fn:o(t),locals:e})},$$postDigest:function(t){p.push(t)},$apply:function(t){try{v("$apply");try{return this.$eval(t)}finally{m()}}catch(t){i(t)}finally{try{h.$digest()}catch(t){throw i(t),t}}},$applyAsync:function(t){var e=this;t&&d.push(function(){e.$eval(t)}),t=o(t),null===n&&(n=s.defer(function(){h.$apply(_)}))},$on:function(t,e){var r=this.$$listeners[t];r||(this.$$listeners[t]=r=[]),r.push(e);var n=this;do{n.$$listenerCount[t]||(n.$$listenerCount[t]=0),n.$$listenerCount[t]++}while(n=n.$parent);var i=this;return function(){var n=r.indexOf(e);-1!==n&&(delete r[n],x(i,1,t))}},$emit:function(t,e){var r,n,o,s=[],a=this,u=!1,l={name:t,targetScope:a,stopPropagation:function(){u=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},h=ft([l],arguments,1);do{for(r=a.$$listeners[t]||s,l.currentScope=a,n=0,o=r.length;n<o;n++)if(r[n])try{r[n].apply(null,h)}catch(t){i(t)}else r.splice(n,1),n--,o--;if(u)break;a=a.$parent}while(a);return l.currentScope=null,l},$broadcast:function(t,e){var r=this,n=this,o={name:t,targetScope:this,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[t])return o;for(var s,a,u,l=ft([o],arguments,1);r=n;){for(o.currentScope=r,a=0,u=(s=r.$$listeners[t]||[]).length;a<u;a++)if(s[a])try{s[a].apply(null,l)}catch(t){i(t)}else s.splice(a,1),a--,u--;if(!(n=r.$$listenerCount[t]&&r.$$childHead||r!==this&&r.$$nextSibling))for(;r!==this&&!(n=r.$$nextSibling);)r=r.$parent}return o.currentScope=null,o}};var h=new l,f=h.$$asyncQueue=[],p=h.$$postDigestQueue=[],d=h.$$applyAsyncQueue=[],g=0;return h;function v(t){if(h.$$phase)throw e("inprog","{0} already in progress",h.$$phase);h.$$phase=t}function m(){h.$$phase=null}function y(t,e){do{t.$$watchersCount+=e}while(t=t.$parent)}function x(t,e,r){do{t.$$listenerCount[r]-=e,0===t.$$listenerCount[r]&&delete t.$$listenerCount[r]}while(t=t.$parent)}function b(){}function _(){for(;d.length;)try{d.shift()()}catch(t){i(t)}n=null}}]}function Wn(){var t=/^\s*(https?|s?ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return $(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return $(t)?(e=t,this):e},this.$get=function(){return function(r,n){var i,o=n?e:t;return""===(i=ii(r&&r.trim()).href)||i.match(o)?r:"unsafe:"+i}}}On.prototype={compile:function(t){var e=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},An(t,e.$filter);var r,n="";if(this.stage="assign",r=Rn(t)){this.state.computing="assign";var i=this.nextId();this.recurse(r,i),this.return_(i),n="fn.assign="+this.generateFunction("assign","s,v,l")}var o=Cn(t.body);e.stage="inputs",E(o,function(t,r){var n="fn"+r;e.state[n]={vars:[],body:[],own:{}},e.state.computing=n;var i=e.nextId();e.recurse(t,i),e.return_(i),e.state.inputs.push({name:n,isPure:t.isPure}),t.watchId=r}),this.state.computing="fn",this.stage="main",this.recurse(t);var s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",a=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,mn,wn,Tn);return this.state=this.stage=void 0,a},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,r=this;return E(e,function(e){t.push("var "+e.name+"="+r.generateFunction(e.name,"s")),e.isPure&&t.push(e.name,".isPure="+JSON.stringify(e.isPure)+";")}),e.length&&t.push("fn.inputs=["+e.map(function(t){return t.name}).join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return E(this.state.filters,function(r,n){t.push(r+"=$filter("+e.escape(n)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,r,n,i,o){var s,a,u,l,h,c=this;if(n=n||F,!o&&$(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,r,n,i,!0));switch(t.type){case _n.Program:E(t.body,function(e,r){c.recurse(e.expression,void 0,void 0,function(t){a=t}),r!==t.body.length-1?c.current().body.push(a,";"):c.return_(a)});break;case _n.Literal:l=this.escape(t.value),this.assign(e,l),n(e||l);break;case _n.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(t){a=t}),l=t.operator+"("+this.ifDefined(a,0)+")",this.assign(e,l),n(l);break;case _n.BinaryExpression:this.recurse(t.left,void 0,void 0,function(t){s=t}),this.recurse(t.right,void 0,void 0,function(t){a=t}),l="+"===t.operator?this.plus(s,a):"-"===t.operator?this.ifDefined(s,0)+t.operator+this.ifDefined(a,0):"("+s+")"+t.operator+"("+a+")",this.assign(e,l),n(l);break;case _n.LogicalExpression:e=e||this.nextId(),c.recurse(t.left,e),c.if_("&&"===t.operator?e:c.not(e),c.lazyRecurse(t.right,e)),n(e);break;case _n.ConditionalExpression:e=e||this.nextId(),c.recurse(t.test,e),c.if_(e,c.lazyRecurse(t.alternate,e),c.lazyRecurse(t.consequent,e)),n(e);break;case _n.Identifier:e=e||this.nextId(),r&&(r.context="inputs"===c.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),r.computed=!1,r.name=t.name),c.if_("inputs"===c.stage||c.not(c.getHasOwnProperty("l",t.name)),function(){c.if_("inputs"===c.stage||"s",function(){i&&1!==i&&c.if_(c.isNull(c.nonComputedMember("s",t.name)),c.lazyAssign(c.nonComputedMember("s",t.name),"{}")),c.assign(e,c.nonComputedMember("s",t.name))})},e&&c.lazyAssign(e,c.nonComputedMember("l",t.name))),n(e);break;case _n.MemberExpression:s=r&&(r.context=this.nextId())||this.nextId(),e=e||this.nextId(),c.recurse(t.object,s,void 0,function(){c.if_(c.notNull(s),function(){t.computed?(a=c.nextId(),c.recurse(t.property,a),c.getStringValue(a),i&&1!==i&&c.if_(c.not(c.computedMember(s,a)),c.lazyAssign(c.computedMember(s,a),"{}")),l=c.computedMember(s,a),c.assign(e,l),r&&(r.computed=!0,r.name=a)):(i&&1!==i&&c.if_(c.isNull(c.nonComputedMember(s,t.property.name)),c.lazyAssign(c.nonComputedMember(s,t.property.name),"{}")),l=c.nonComputedMember(s,t.property.name),c.assign(e,l),r&&(r.computed=!1,r.name=t.property.name))},function(){c.assign(e,"undefined")}),n(e)},!!i);break;case _n.CallExpression:e=e||this.nextId(),t.filter?(a=c.filter(t.callee.name),u=[],E(t.arguments,function(t){var e=c.nextId();c.recurse(t,e),u.push(e)}),l=a+"("+u.join(",")+")",c.assign(e,l),n(e)):(a=c.nextId(),s={},u=[],c.recurse(t.callee,a,s,function(){c.if_(c.notNull(a),function(){E(t.arguments,function(e){c.recurse(e,t.constant?void 0:c.nextId(),void 0,function(t){u.push(t)})}),l=s.name?c.member(s.context,s.name,s.computed)+"("+u.join(",")+")":a+"("+u.join(",")+")",c.assign(e,l)},function(){c.assign(e,"undefined")}),n(e)}));break;case _n.AssignmentExpression:a=this.nextId(),s={},this.recurse(t.left,void 0,s,function(){c.if_(c.notNull(s.context),function(){c.recurse(t.right,a),l=c.member(s.context,s.name,s.computed)+t.operator+a,c.assign(e,l),n(e||l)})},1);break;case _n.ArrayExpression:u=[],E(t.elements,function(e){c.recurse(e,t.constant?void 0:c.nextId(),void 0,function(t){u.push(t)})}),l="["+u.join(",")+"]",this.assign(e,l),n(e||l);break;case _n.ObjectExpression:u=[],h=!1,E(t.properties,function(t){t.computed&&(h=!0)}),h?(e=e||this.nextId(),this.assign(e,"{}"),E(t.properties,function(t){t.computed?(s=c.nextId(),c.recurse(t.key,s)):s=t.key.type===_n.Identifier?t.key.name:""+t.key.value,a=c.nextId(),c.recurse(t.value,a),c.assign(c.member(e,s,t.computed),a)})):(E(t.properties,function(e){c.recurse(e.value,t.constant?void 0:c.nextId(),void 0,function(t){u.push(c.escape(e.key.type===_n.Identifier?e.key.name:""+e.key.value)+":"+t)})}),l="{"+u.join(",")+"}",this.assign(e,l)),n(e||l);break;case _n.ThisExpression:this.assign(e,"s"),n(e||"s");break;case _n.LocalsExpression:this.assign(e,"l"),n(e||"l");break;case _n.NGValueParameter:this.assign(e,"v"),n(e||"v")}},getHasOwnProperty:function(t,e){var r=t+"."+e,n=this.current().own;return n.hasOwnProperty(r)||(n[r]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),n[r]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,r){if(!0===t)e();else{var n=this.current().body;n.push("if(",t,"){"),e(),n.push("}"),r&&(n.push("else{"),r(),n.push("}"))}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(e)?t+"."+e:t+'["'+e.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,r){return r?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,r,n,i,o){var s=this;return function(){s.recurse(t,e,r,n,i,o)}},lazyAssign:function(t,e){var r=this;return function(){r.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(W(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(V(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw gn("esc","IMPOSSIBLE")},nextId:function(t,e){var r="v"+this.state.nextId++;return t||this.current().vars.push(r+(e?"="+e:"")),r},current:function(){return this.state[this.state.computing]}},Pn.prototype={compile:function(t){var e,r,n=this;An(t,n.$filter),(e=Rn(t))&&(r=this.recurse(e));var i,o=Cn(t.body);o&&(i=[],E(o,function(t,e){var r=n.recurse(t);r.isPure=t.isPure,t.input=r,i.push(r),t.watchId=e}));var s=[];E(t.body,function(t){s.push(n.recurse(t.expression))});var a=0===t.body.length?F:1===t.body.length?s[0]:function(t,e){var r;return E(s,function(n){r=n(t,e)}),r};return r&&(a.assign=function(t,e,n){return r(t,n,e)}),i&&(a.inputs=i),a},recurse:function(t,e,r){var n,i,o,s=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case _n.Literal:return this.value(t.value,e);case _n.UnaryExpression:return i=this.recurse(t.argument),this["unary"+t.operator](i,e);case _n.BinaryExpression:case _n.LogicalExpression:return n=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](n,i,e);case _n.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case _n.Identifier:return s.identifier(t.name,e,r);case _n.MemberExpression:return n=this.recurse(t.object,!1,!!r),t.computed||(i=t.property.name),t.computed&&(i=this.recurse(t.property)),t.computed?this.computedMember(n,i,e,r):this.nonComputedMember(n,i,e,r);case _n.CallExpression:return o=[],E(t.arguments,function(t){o.push(s.recurse(t))}),t.filter&&(i=this.$filter(t.callee.name)),t.filter||(i=this.recurse(t.callee,!0)),t.filter?function(t,r,n,s){for(var a=[],u=0;u<o.length;++u)a.push(o[u](t,r,n,s));var l=i.apply(void 0,a,s);return e?{context:void 0,name:void 0,value:l}:l}:function(t,r,n,s){var a,u=i(t,r,n,s);if(null!=u.value){for(var l=[],h=0;h<o.length;++h)l.push(o[h](t,r,n,s));a=u.value.apply(u.context,l)}return e?{value:a}:a};case _n.AssignmentExpression:return n=this.recurse(t.left,!0,1),i=this.recurse(t.right),function(t,r,o,s){var a=n(t,r,o,s),u=i(t,r,o,s);return a.context[a.name]=u,e?{value:u}:u};case _n.ArrayExpression:return o=[],E(t.elements,function(t){o.push(s.recurse(t))}),function(t,r,n,i){for(var s=[],a=0;a<o.length;++a)s.push(o[a](t,r,n,i));return e?{value:s}:s};case _n.ObjectExpression:return o=[],E(t.properties,function(t){t.computed?o.push({key:s.recurse(t.key),computed:!0,value:s.recurse(t.value)}):o.push({key:t.key.type===_n.Identifier?t.key.name:""+t.key.value,computed:!1,value:s.recurse(t.value)})}),function(t,r,n,i){for(var s={},a=0;a<o.length;++a)o[a].computed?s[o[a].key(t,r,n,i)]=o[a].value(t,r,n,i):s[o[a].key]=o[a].value(t,r,n,i);return e?{value:s}:s};case _n.ThisExpression:return function(t){return e?{value:t}:t};case _n.LocalsExpression:return function(t,r){return e?{value:r}:r};case _n.NGValueParameter:return function(t,r,n){return e?{value:n}:n}}},"unary+":function(t,e){return function(r,n,i,o){var s=t(r,n,i,o);return s=$(s)?+s:0,e?{value:s}:s}},"unary-":function(t,e){return function(r,n,i,o){var s=t(r,n,i,o);return s=$(s)?-s:-0,e?{value:s}:s}},"unary!":function(t,e){return function(r,n,i,o){var s=!t(r,n,i,o);return e?{value:s}:s}},"binary+":function(t,e,r){return function(n,i,o,s){var a=Tn(t(n,i,o,s),e(n,i,o,s));return r?{value:a}:a}},"binary-":function(t,e,r){return function(n,i,o,s){var a=t(n,i,o,s),u=e(n,i,o,s),l=($(a)?a:0)-($(u)?u:0);return r?{value:l}:l}},"binary*":function(t,e,r){return function(n,i,o,s){var a=t(n,i,o,s)*e(n,i,o,s);return r?{value:a}:a}},"binary/":function(t,e,r){return function(n,i,o,s){var a=t(n,i,o,s)/e(n,i,o,s);return r?{value:a}:a}},"binary%":function(t,e,r){return function(n,i,o,s){var a=t(n,i,o,s)%e(n,i,o,s);return r?{value:a}:a}},"binary===":function(t,e,r){return function(n,i,o,s){var a=t(n,i,o,s)===e(n,i,o,s);return r?{value:a}:a}},"binary!==":function(t,e,r){return function(n,i,o,s){var a=t(n,i,o,s)!==e(n,i,o,s);return r?{value:a}:a}},"binary==":function(t,e,r){return function(n,i,o,s){var a=t(n,i,o,s)==e(n,i,o,s);return r?{value:a}:a}},"binary!=":function(t,e,r){return function(n,i,o,s){var a=t(n,i,o,s)!=e(n,i,o,s);return r?{value:a}:a}},"binary<":function(t,e,r){return function(n,i,o,s){var a=t(n,i,o,s)<e(n,i,o,s);return r?{value:a}:a}},"binary>":function(t,e,r){return function(n,i,o,s){var a=t(n,i,o,s)>e(n,i,o,s);return r?{value:a}:a}},"binary<=":function(t,e,r){return function(n,i,o,s){var a=t(n,i,o,s)<=e(n,i,o,s);return r?{value:a}:a}},"binary>=":function(t,e,r){return function(n,i,o,s){var a=t(n,i,o,s)>=e(n,i,o,s);return r?{value:a}:a}},"binary&&":function(t,e,r){return function(n,i,o,s){var a=t(n,i,o,s)&&e(n,i,o,s);return r?{value:a}:a}},"binary||":function(t,e,r){return function(n,i,o,s){var a=t(n,i,o,s)||e(n,i,o,s);return r?{value:a}:a}},"ternary?:":function(t,e,r,n){return function(i,o,s,a){var u=t(i,o,s,a)?e(i,o,s,a):r(i,o,s,a);return n?{value:u}:u}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,r){return function(n,i,o,s){var a=i&&t in i?i:n;r&&1!==r&&a&&null==a[t]&&(a[t]={});var u=a?a[t]:void 0;return e?{context:a,name:t,value:u}:u}},computedMember:function(t,e,r,n){return function(i,o,s,a){var u,l,h=t(i,o,s,a);return null!=h&&(u=mn(u=e(i,o,s,a)),n&&1!==n&&h&&!h[u]&&(h[u]={}),l=h[u]),r?{context:h,name:u,value:l}:l}},nonComputedMember:function(t,e,r,n){return function(i,o,s,a){var u=t(i,o,s,a);n&&1!==n&&u&&null==u[e]&&(u[e]={});var l=null!=u?u[e]:void 0;return r?{context:u,name:e,value:l}:l}},inputs:function(t,e){return function(r,n,i,o){return o?o[e]:t(r,n,i)}}},Dn.prototype={constructor:Dn,parse:function(t){var e=this.getAst(t),r=this.astCompiler.compile(e.ast);return r.literal=function(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===_n.Literal||t.body[0].expression.type===_n.ArrayExpression||t.body[0].expression.type===_n.ObjectExpression)}(e.ast),r.constant=function(t){return t.constant}(e.ast),r.oneTime=e.oneTime,r},getAst:function(t){var e=!1;return":"===(t=t.trim()).charAt(0)&&":"===t.charAt(1)&&(e=!0,t=t.substring(2)),{ast:this.ast.ast(t),oneTime:e}}};var Vn=o("$sce"),Xn={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},zn=/_([a-z])/g;function Yn(t){return t.replace(zn,ne)}function Hn(t){var e=[];return $(t)&&E(t,function(t){e.push(function(t){if("self"===t)return t;if(W(t)){if(t.indexOf("***")>-1)throw Vn("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=rt(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(q(t))return new RegExp("^"+t.source+"$");throw Vn("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(t))}),e}function qn(){this.SCE_CONTEXTS=Xn;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Hn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Hn(t)),e},this.$get=["$injector",function(r){var n=function(t){throw Vn("unsafe","Attempting to use an unsafe value in a safe context.")};function i(t,e){return"self"===t?oi(e):!!t.exec(e.href)}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}r.has("$sanitize")&&(n=r.get("$sanitize"));var s=o(),a={};return a[Xn.HTML]=o(s),a[Xn.CSS]=o(s),a[Xn.URL]=o(s),a[Xn.JS]=o(s),a[Xn.RESOURCE_URL]=o(a[Xn.URL]),{trustAs:function(t,e){var r=a.hasOwnProperty(t)?a[t]:null;if(!r)throw Vn("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||U(e)||""===e)return e;if("string"!=typeof e)throw Vn("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new r(e)},getTrusted:function(r,o){if(null===o||U(o)||""===o)return o;var s=a.hasOwnProperty(r)?a[r]:null;if(s&&o instanceof s)return o.$$unwrapTrustedValue();if(r===Xn.RESOURCE_URL){if(function(r){var n,o,s=ii(r.toString()),a=!1;for(n=0,o=t.length;n<o;n++)if(i(t[n],s)){a=!0;break}if(a)for(n=0,o=e.length;n<o;n++)if(i(e[n],s)){a=!1;break}return a}(o))return o;throw Vn("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",o.toString())}if(r===Xn.HTML)return n(o);throw Vn("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(t){return t instanceof s?t.$$unwrapTrustedValue():t}}}]}function Zn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,r){if(t&&c<8)throw Vn("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var n=Ht(Xn);n.isEnabled=function(){return t},n.trustAs=r.trustAs,n.getTrusted=r.getTrusted,n.valueOf=r.valueOf,t||(n.trustAs=n.getTrusted=function(t,e){return e},n.valueOf=k),n.parseAs=function(t,r){var i=e(r);return i.literal&&i.constant?i:e(r,function(e){return n.getTrusted(t,e)})};var i=n.parseAs,o=n.getTrusted,s=n.trustAs;return E(Xn,function(t,e){var r=l(e);n[Yn("parse_as_"+r)]=function(e){return i(t,e)},n[Yn("get_trusted_"+r)]=function(e){return o(t,e)},n[Yn("trust_as_"+r)]=function(e){return s(t,e)}}),n}]}function Kn(){this.$get=["$window","$document",function(t,e){var r={},n=!(!(t.nw&&t.nw.process)&&t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id))&&t.history&&t.history.pushState,i=D((/android (\d+)/.exec(l((t.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},a=s.body&&s.body.style,u=!1,h=!1;return a&&(u=!!("transition"in a||"webkitTransition"in a),h=!!("animation"in a||"webkitAnimation"in a)),{history:!(!n||i<4||o),hasEvent:function(t){if("input"===t&&c)return!1;if(U(r[t])){var e=s.createElement("div");r[t]="on"+t in e}return r[t]},csp:ht(),transitions:u,animations:h,android:i}}]}var Qn=o("$compile");function Jn(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(e,r,n,i,o){function s(a,u){s.totalPendingRequests++,W(a)&&!U(r.get(a))||(a=o.getTrustedResourceUrl(a));var l=n.defaults&&n.defaults.transformResponse;return z(l)?l=l.filter(function(t){return t!==Br}):l===Br&&(l=null),n.get(a,O({cache:r,transformResponse:l},t)).finally(function(){s.totalPendingRequests--}).then(function(t){return r.put(a,t.data),t.data},function(t){u||(t=Qn("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,t.status,t.statusText),e(t));return i.reject(t)})}return s.totalPendingRequests=0,s}]}function ti(){this.$get=["$rootScope","$browser","$location",function(t,e,r){var n={findBindings:function(t,e,r){var n=[];return E(t.getElementsByClassName("ng-binding"),function(t){var i=_.element(t).data("$binding");i&&E(i,function(i){r?new RegExp("(^|\\s)"+rt(e)+"(\\s|\\||$)").test(i)&&n.push(t):-1!==i.indexOf(e)&&n.push(t)})}),n},findModels:function(t,e,r){for(var n=["ng-","data-ng-","ng\\:"],i=0;i<n.length;++i){var o="["+n[i]+"model"+(r?"=":"*=")+'"'+e+'"]',s=t.querySelectorAll(o);if(s.length)return s}},getLocation:function(){return r.url()},setLocation:function(e){e!==r.url()&&(r.url(e),t.$digest())},whenStable:function(t){e.notifyWhenNoOutstandingRequests(t)}};return n}]}function ei(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,r,n,i){var o={};function s(s,a,u){H(s)||(u=a,a=s,s=F);var l,h=pt(arguments,3),c=$(u)&&!u,f=(c?n:r).defer(),p=f.promise;return l=e.defer(function(){try{f.resolve(s.apply(null,h))}catch(t){f.reject(t),i(t)}finally{delete o[p.$$timeoutId]}c||t.$apply()},a),p.$$timeoutId=l,o[l]=f,p}return s.cancel=function(t){return!!(t&&t.$$timeoutId in o)&&($n(o[t.$$timeoutId].promise),o[t.$$timeoutId].reject("canceled"),delete o[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},s}]}var ri=e.document.createElement("a"),ni=ii(e.location.href);function ii(t){var e=t;return c&&(ri.setAttribute("href",e),e=ri.href),ri.setAttribute("href",e),{href:ri.href,protocol:ri.protocol?ri.protocol.replace(/:$/,""):"",host:ri.host,search:ri.search?ri.search.replace(/^\?/,""):"",hash:ri.hash?ri.hash.replace(/^#/,""):"",hostname:ri.hostname,port:ri.port,pathname:"/"===ri.pathname.charAt(0)?ri.pathname:"/"+ri.pathname}}function oi(t){var e=W(t)?ii(t):t;return e.protocol===ni.protocol&&e.host===ni.host}function si(){this.$get=B(e)}function ai(t){var e=t[0]||{},r={},n="";function i(t){try{return decodeURIComponent(t)}catch(e){return t}}return function(){var t,o,s,a,u,l=function(t){try{return t.cookie||""}catch(t){return""}}(e);if(l!==n)for(t=(n=l).split("; "),r={},s=0;s<t.length;s++)(a=(o=t[s]).indexOf("="))>0&&(u=i(o.substring(0,a)),U(r[u])&&(r[u]=i(o.substring(a+1))));return r}}function ui(){this.$get=ai}function li(t){var e="Filter";function r(n,i){if(j(n)){var o={};return E(n,function(t,e){o[e]=r(e,t)}),o}return t.factory(n+e,i)}this.register=r,this.$get=["$injector",function(t){return function(r){return t.get(r+e)}}],r("currency",vi),r("date",Mi),r("filter",hi),r("json",Ri),r("limitTo",Di),r("lowercase",Oi),r("number",mi),r("orderBy",Li),r("uppercase",Pi)}function hi(){return function(t,e,r,n){if(!T(t)){if(null==t)return t;throw o("filter")("notarray","Expected array but received: {0}",t)}var i,s;switch(n=n||"$",fi(e)){case"function":i=e;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":i=function(t,e,r,n){var i=j(t)&&r in t;!0===e?e=lt:H(e)||(e=function(t,e){return!U(t)&&(null===t||null===e?t===e:!(j(e)||j(t)&&!N(t))&&(t=l(""+t),e=l(""+e),-1!==t.indexOf(e)))});return function(o){return i&&!j(o)?ci(o,t[r],e,r,!1):ci(o,t,e,r,n)}}(e,r,n,s);break;default:return t}return Array.prototype.filter.call(t,i)}}function ci(t,e,r,n,i,o){var s=fi(t),a=fi(e);if("string"===a&&"!"===e.charAt(0))return!ci(t,e.substring(1),r,n,i);if(z(t))return t.some(function(t){return ci(t,e,r,n,i)});switch(s){case"object":var u;if(i){for(u in t)if(u.charAt&&"$"!==u.charAt(0)&&ci(t[u],e,r,n,!0))return!0;return!o&&ci(t,e,r,n,!1)}if("object"===a){for(u in e){var l=e[u];if(!H(l)&&!U(l)){var h=u===n;if(!ci(h?t:t[u],l,r,n,h,h))return!1}}return!0}return r(t,e);case"function":return!1;default:return r(t,e)}}function fi(t){return null===t?"null":typeof t}ai.$inject=["$document"],li.$inject=["$provide"];var pi=22,di=".",gi="0";function vi(t){var e=t.NUMBER_FORMATS;return function(t,r,n){U(r)&&(r=e.CURRENCY_SYM),U(n)&&(n=e.PATTERNS[1].maxFrac);var i=r?/\u00A4/g:/\s*\u00A4\s*/g;return null==t?t:yi(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,n).replace(i,r)}}function mi(t){var e=t.NUMBER_FORMATS;return function(t,r){return null==t?t:yi(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,r)}}function yi(t,e,r,n,i){if(!W(t)&&!V(t)||isNaN(t))return"";var o,s=!isFinite(t),a=!1,u=Math.abs(t)+"",l="";if(s)l="∞";else{(function(t,e,r,n){var i=t.d,o=i.length-t.i,s=(e=U(e)?Math.min(Math.max(r,o),n):+e)+t.i,a=i[s];if(s>0){i.splice(Math.max(t.i,s));for(var u=s;u<i.length;u++)i[u]=0}else{o=Math.max(0,o),t.i=1,i.length=Math.max(1,s=e+1),i[0]=0;for(var l=1;l<s;l++)i[l]=0}if(a>=5)if(s-1<0){for(var h=0;h>s;h--)i.unshift(0),t.i++;i.unshift(1),t.i++}else i[s-1]++;for(;o<Math.max(0,e);o++)i.push(0);var c=i.reduceRight(function(t,e,r,n){return e+=t,n[r]=e%10,Math.floor(e/10)},0);c&&(i.unshift(c),t.i++)})(o=function(t){var e,r,n,i,o,s=0;for((r=t.indexOf(di))>-1&&(t=t.replace(di,"")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charAt(n)===gi;n++);if(n===(o=t.length))e=[0],r=1;else{for(o--;t.charAt(o)===gi;)o--;for(r-=n,e=[],i=0;n<=o;n++,i++)e[i]=+t.charAt(n)}return r>pi&&(e=e.splice(0,pi-1),s=r-1,r=1),{d:e,e:s,i:r}}(u),i,e.minFrac,e.maxFrac);var h=o.d,c=o.i,f=o.e,p=[];for(a=h.reduce(function(t,e){return t&&!e},!0);c<0;)h.unshift(0),c++;c>0?p=h.splice(c,h.length):(p=h,h=[0]);var d=[];for(h.length>=e.lgSize&&d.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)d.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&d.unshift(h.join("")),l=d.join(r),p.length&&(l+=n+p.join("")),f&&(l+="e+"+f)}return t<0&&!a?e.negPre+l+e.negSuf:e.posPre+l+e.posSuf}function xi(t,e,r,n){var i="";for((t<0||n&&t<=0)&&(n?t=1-t:(t=-t,i="-")),t=""+t;t.length<e;)t=gi+t;return r&&(t=t.substr(t.length-e)),i+t}function bi(t,e,r,n,i){return r=r||0,function(o){var s=o["get"+t]();return(r>0||s>-r)&&(s+=r),0===s&&-12===r&&(s=12),xi(s,e,n,i)}}function _i(t,e,r){return function(n,i){var o=n["get"+t]();return i[h((r?"STANDALONE":"")+(e?"SHORT":"")+t)][o]}}function wi(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function Ti(t){return function(e){var r,n=wi(e.getFullYear()),i=+(r=e,new Date(r.getFullYear(),r.getMonth(),r.getDate()+(4-r.getDay())))-+n;return xi(1+Math.round(i/6048e5),t)}}function Ei(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}vi.$inject=["$locale"],mi.$inject=["$locale"];var Si={yyyy:bi("FullYear",4,0,!1,!0),yy:bi("FullYear",2,0,!0,!0),y:bi("FullYear",1,0,!1,!0),MMMM:_i("Month"),MMM:_i("Month",!0),MM:bi("Month",2,1),M:bi("Month",1,1),LLLL:_i("Month",!1,!0),dd:bi("Date",2),d:bi("Date",1),HH:bi("Hours",2),H:bi("Hours",1),hh:bi("Hours",2,-12),h:bi("Hours",1,-12),mm:bi("Minutes",2),m:bi("Minutes",1),ss:bi("Seconds",2),s:bi("Seconds",1),sss:bi("Milliseconds",3),EEEE:_i("Day"),EEE:_i("Day",!0),a:function(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]},Z:function(t,e,r){var n=-1*r,i=n>=0?"+":"";return i+=xi(Math[n>0?"floor":"ceil"](n/60),2)+xi(Math.abs(n%60),2)},ww:Ti(2),w:Ti(1),G:Ei,GG:Ei,GGG:Ei,GGGG:function(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}},Ai=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Ci=/^-?\d+$/;function Mi(t){var e=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(r,n,i){var o,s,a="",u=[];if(n=n||"mediumDate",n=t.DATETIME_FORMATS[n]||n,W(r)&&(r=Ci.test(r)?D(r):function(t){var r;if(r=t.match(e)){var n=new Date(0),i=0,o=0,s=r[8]?n.setUTCFullYear:n.setFullYear,a=r[8]?n.setUTCHours:n.setHours;r[9]&&(i=D(r[9]+r[10]),o=D(r[9]+r[11])),s.call(n,D(r[1]),D(r[2])-1,D(r[3]));var u=D(r[4]||0)-i,l=D(r[5]||0)-o,h=D(r[6]||0),c=Math.round(1e3*parseFloat("0."+(r[7]||0)));return a.call(n,u,l,h,c),n}return t}(r)),V(r)&&(r=new Date(r)),!X(r)||!isFinite(r.getTime()))return r;for(;n;)(s=Ai.exec(n))?n=(u=ft(u,s,1)).pop():(u.push(n),n=null);var l=r.getTimezoneOffset();return i&&(l=xt(i,l),r=bt(r,i,!0)),E(u,function(e){o=Si[e],a+=o?o(r,t.DATETIME_FORMATS,l):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}}function Ri(){return function(t,e){return U(e)&&(e=2),vt(t,e)}}Mi.$inject=["$locale"];var Oi=B(l),Pi=B(h);function Di(){return function(t,e,r){return e=Math.abs(Number(e))===1/0?Number(e):D(e),I(e)?t:(V(t)&&(t=t.toString()),T(t)?(r=(r=!r||isNaN(r)?0:D(r))<0?Math.max(0,t.length+r):r,e>=0?Ii(t,r,r+e):0===r?Ii(t,e,t.length):Ii(t,Math.max(0,r+e),r)):t)}}function Ii(t,e,r){return W(t)?t.slice(e,r):g.call(t,e,r)}function Li(t){return function(n,i,s,a){if(null==n)return n;if(!T(n))throw o("orderBy")("notarray","Expected array but received: {0}",n);z(i)||(i=[i]),0===i.length&&(i=["+"]);var u=i.map(function(e){var r=1,n=k;if(H(e))n=e;else if(W(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(r="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(n=t(e)).constant)){var i=n();n=function(t){return t[i]}}return{get:n,descending:r}}),l=s?-1:1,h=H(a)?a:r,c=Array.prototype.map.call(n,function(t,r){return{value:t,tieBreaker:{value:r,type:"number",index:r},predicateValues:u.map(function(n){return function(t,r){var n=typeof t;null===t?(n="string",t="null"):"object"===n&&(t=function(t){if(H(t.valueOf)&&e(t=t.valueOf()))return t;if(N(t)&&e(t=t.toString()))return t;return t}(t));return{value:t,type:n,index:r}}(n.get(t),r)})}});return c.sort(function(t,e){for(var n=0,i=u.length;n<i;n++){var o=h(t.predicateValues[n],e.predicateValues[n]);if(o)return o*u[n].descending*l}return(h(t.tieBreaker,e.tieBreaker)||r(t.tieBreaker,e.tieBreaker))*l}),n=c.map(function(t){return t.value})};function e(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function r(t,e){var r=0,n=t.type,i=e.type;if(n===i){var o=t.value,s=e.value;"string"===n?(o=o.toLowerCase(),s=s.toLowerCase()):"object"===n&&(j(o)&&(o=t.index),j(s)&&(s=e.index)),o!==s&&(r=o<s?-1:1)}else r=n<i?-1:1;return r}}function Fi(t){return H(t)&&(t={link:t}),t.restrict=t.restrict||"AC",B(t)}Li.$inject=["$parse"];var ki=B({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var r="[object SVGAnimatedString]"===y.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(r)||t.preventDefault()})}}}}),Bi={};E(Pe,function(t,e){if("multiple"!==t){var r=yr("ng-"+e),n=i;"checked"===t&&(n=function(t,e,n){n.ngModel!==n[r]&&i(t,0,n)}),Bi[r]=function(){return{restrict:"A",priority:100,link:n}}}function i(t,n,i){t.$watch(i[r],function(t){i.$set(e,!!t)})}}),E(Ie,function(t,e){Bi[e]=function(){return{priority:100,link:function(t,r,n){if("ngPattern"===e&&"/"===n.ngPattern.charAt(0)){var i=n.ngPattern.match(s);if(i)return void n.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(n[e],function(t){n.$set(e,t)})}}}}),E(["src","srcset","href"],function(t){var e=yr("ng-"+t);Bi[e]=function(){return{priority:99,link:function(r,n,i){var o=t,s=t;"href"===t&&"[object SVGAnimatedString]"===y.call(n.prop("href"))&&(s="xlinkHref",i.$attr[s]="xlink:href",o=null),i.$observe(e,function(e){e?(i.$set(s,e),c&&o&&n.prop(o,i[s])):"href"===t&&i.$set(s,null)})}}}});var Ni={$addControl:F,$$renameControl:function(t,e){t.$name=e},$removeControl:F,$setValidity:F,$setDirty:F,$setPristine:F,$setSubmitted:F},Ui="ng-pending";function $i(t,e,r,n,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(e.name||e.ngForm||"")(r),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Ni,this.$$element=t,this.$$animate=n,Vi(this)}$i.$inject=["$element","$attrs","$scope","$animate","$interpolate"],$i.prototype={$rollbackViewValue:function(){E(this.$$controls,function(t){t.$rollbackViewValue()})},$commitViewValue:function(){E(this.$$controls,function(t){t.$commitViewValue()})},$addControl:function(t){Nt(t.$name,"input"),this.$$controls.push(t),t.$name&&(this[t.$name]=t),t.$$parentForm=this},$$renameControl:function(t,e){var r=t.$name;this[r]===t&&delete this[r],this[e]=t,t.$name=e},$removeControl:function(t){t.$name&&this[t.$name]===t&&delete this[t.$name],E(this.$pending,function(e,r){this.$setValidity(r,null,t)},this),E(this.$error,function(e,r){this.$setValidity(r,null,t)},this),E(this.$$success,function(e,r){this.$setValidity(r,null,t)},this),st(this.$$controls,t),t.$$parentForm=Ni},$setDirty:function(){this.$$animate.removeClass(this.$$element,Uo),this.$$animate.addClass(this.$$element,$o),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Uo,$o+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,E(this.$$controls,function(t){t.$setPristine()})},$setUntouched:function(){E(this.$$controls,function(t){t.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},Xi({clazz:$i,set:function(t,e,r){var n=t[e];n?-1===n.indexOf(r)&&n.push(r):t[e]=[r]},unset:function(t,e,r){var n=t[e];n&&(st(n,r),0===n.length&&delete t[e])}});var ji=function(t){return["$timeout","$parse",function(e,r){return{name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:$i,compile:function(r,i){r.addClass(Uo).addClass(Bo);var o=i.name?"name":!(!t||!i.ngForm)&&"ngForm";return{pre:function(t,r,i,s){var a=s[0];if(!("action"in i)){var u=function(e){t.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),e.preventDefault()};r[0].addEventListener("submit",u),r.on("$destroy",function(){e(function(){r[0].removeEventListener("submit",u)},0,!1)})}(s[1]||a.$$parentForm).$addControl(a);var l=o?n(a.$name):F;o&&(l(t,a),i.$observe(o,function(e){a.$name!==e&&(l(t,void 0),a.$$parentForm.$$renameControl(a,e),(l=n(a.$name))(t,a))})),r.on("$destroy",function(){a.$$parentForm.$removeControl(a),l(t,void 0),O(a,Ni)})}}}};function n(t){return""===t?r('this[""]').assign:r(t).assign||F}}]},Gi=ji(),Wi=ji(!0);function Vi(t){t.$$classCache={},t.$$classCache[No]=!(t.$$classCache[Bo]=t.$$element.hasClass(Bo))}function Xi(t){var e=t.clazz,r=t.set,n=t.unset;function i(t,e,r){r&&!t.$$classCache[e]?(t.$$animate.addClass(t.$$element,e),t.$$classCache[e]=!0):!r&&t.$$classCache[e]&&(t.$$animate.removeClass(t.$$element,e),t.$$classCache[e]=!1)}function o(t,e,r){e=e?"-"+Lt(e,"-"):"",i(t,Bo+e,!0===r),i(t,No+e,!1===r)}e.prototype.$setValidity=function(t,e,s){var a;U(e)?function(t,e,n,i){t[e]||(t[e]={});r(t[e],n,i)}(this,"$pending",t,s):function(t,e,r,i){t[e]&&n(t[e],r,i);zi(t[e])&&(t[e]=void 0)}(this,"$pending",t,s),Q(e)?e?(n(this.$error,t,s),r(this.$$success,t,s)):(r(this.$error,t,s),n(this.$$success,t,s)):(n(this.$error,t,s),n(this.$$success,t,s)),this.$pending?(i(this,Ui,!0),this.$valid=this.$invalid=void 0,o(this,"",null)):(i(this,Ui,!1),this.$valid=zi(this.$error),this.$invalid=!this.$valid,o(this,"",this.$valid)),o(this,t,a=this.$pending&&this.$pending[t]?void 0:!this.$error[t]&&(!!this.$$success[t]||null)),this.$$parentForm.$setValidity(t,a,this)}}function zi(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var Yi=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Hi=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,qi=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Zi=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Ki=/^(\d{4,})-(\d{2})-(\d{2})$/,Qi=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ji=/^(\d{4,})-W(\d\d)$/,to=/^(\d{4,})-(\d\d)$/,eo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ro="keydown wheel mousedown",no=jt();E("date,datetime-local,month,time,week".split(","),function(t){no[t]=!0});var io={text:function(t,e,r,n,i,o){so(t,e,r,n,i,o),oo(n)},date:uo("date",Ki,ao(Ki,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":uo("datetimelocal",Qi,ao(Qi,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:uo("time",eo,ao(eo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:uo("week",Ji,function(t,e){if(X(t))return t;if(W(t)){Ji.lastIndex=0;var r=Ji.exec(t);if(r){var n=+r[1],i=+r[2],o=0,s=0,a=0,u=0,l=wi(n),h=7*(i-1);return e&&(o=e.getHours(),s=e.getMinutes(),a=e.getSeconds(),u=e.getMilliseconds()),new Date(n,0,l.getDate()+h,o,s,a,u)}}return NaN},"yyyy-Www"),month:uo("month",to,ao(to,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,r,n,i,o){var s,a;lo(t,e,r,n),ho(n),so(t,e,r,n,i,o),($(r.min)||r.ngMin)&&(n.$validators.min=function(t){return n.$isEmpty(t)||U(s)||t>=s},r.$observe("min",function(t){s=co(t),n.$validate()}));($(r.max)||r.ngMax)&&(n.$validators.max=function(t){return n.$isEmpty(t)||U(a)||t<=a},r.$observe("max",function(t){a=co(t),n.$validate()}));if($(r.step)||r.ngStep){var u;n.$validators.step=function(t,e){return n.$isEmpty(e)||U(u)||go(e,s||0,u)},r.$observe("step",function(t){u=co(t),n.$validate()})}},url:function(t,e,r,n,i,o){so(t,e,r,n,i,o),oo(n),n.$$parserName="url",n.$validators.url=function(t,e){var r=t||e;return n.$isEmpty(r)||Hi.test(r)}},email:function(t,e,r,n,i,o){so(t,e,r,n,i,o),oo(n),n.$$parserName="email",n.$validators.email=function(t,e){var r=t||e;return n.$isEmpty(r)||qi.test(r)}},radio:function(t,e,r,n){var i=!r.ngTrim||"false"!==et(r.ngTrim);U(r.name)&&e.attr("name",C());e.on("click",function(t){var o;e[0].checked&&(o=r.value,i&&(o=et(o)),n.$setViewValue(o,t&&t.type))}),n.$render=function(){var t=r.value;i&&(t=et(t)),e[0].checked=t===n.$viewValue},r.$observe("value",n.$render)},range:function(t,e,r,n,i,o){lo(t,e,r,n),ho(n),so(t,e,r,n,i,o);var s=n.$$hasNativeValidators&&"range"===e[0].type,a=s?0:void 0,u=s?100:void 0,l=s?1:void 0,h=e[0].validity,c=$(r.min),f=$(r.max),p=$(r.step),d=n.$render;n.$render=s&&$(h.rangeUnderflow)&&$(h.rangeOverflow)?function(){d(),n.$setViewValue(e.val())}:d,c&&(n.$validators.min=s?function(){return!0}:function(t,e){return n.$isEmpty(e)||U(a)||e>=a},g("min",function(t){if(a=co(t),I(n.$modelValue))return;if(s){var r=e.val();a>r&&(r=a,e.val(r)),n.$setViewValue(r)}else n.$validate()}));f&&(n.$validators.max=s?function(){return!0}:function(t,e){return n.$isEmpty(e)||U(u)||e<=u},g("max",function(t){if(u=co(t),I(n.$modelValue))return;if(s){var r=e.val();u<r&&(e.val(u),r=u<a?a:u),n.$setViewValue(r)}else n.$validate()}));p&&(n.$validators.step=s?function(){return!h.stepMismatch}:function(t,e){return n.$isEmpty(e)||U(l)||go(e,a||0,l)},g("step",function(t){if(l=co(t),I(n.$modelValue))return;s&&n.$viewValue!==e.val()?n.$setViewValue(e.val()):n.$validate()}));function g(t,n){e.attr(t,r[t]),r.$observe(t,n)}},checkbox:function(t,e,r,n,i,o,s,a){var u=vo(a,t,"ngTrueValue",r.ngTrueValue,!0),l=vo(a,t,"ngFalseValue",r.ngFalseValue,!1);e.on("click",function(t){n.$setViewValue(e[0].checked,t&&t.type)}),n.$render=function(){e[0].checked=n.$viewValue},n.$isEmpty=function(t){return!1===t},n.$formatters.push(function(t){return lt(t,u)}),n.$parsers.push(function(t){return t?u:l})},hidden:F,button:F,submit:F,reset:F,file:F};function oo(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function so(t,e,r,n,i,o){var s,u=l(e[0].type);if(!i.android){var h=!1;e.on("compositionstart",function(){h=!0}),e.on("compositionend",function(){h=!1,c()})}var c=function(t){if(s&&(o.defer.cancel(s),s=null),!h){var i=e.val(),a=t&&t.type;"password"===u||r.ngTrim&&"false"===r.ngTrim||(i=et(i)),(n.$viewValue!==i||""===i&&n.$$hasNativeValidators)&&n.$setViewValue(i,a)}};if(i.hasEvent("input"))e.on("input",c);else{var f=function(t,e,r){s||(s=o.defer(function(){s=null,e&&e.value===r||c(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||f(t,this,this.value)}),i.hasEvent("paste")&&e.on("paste cut drop",f)}e.on("change",c),no[u]&&n.$$hasNativeValidators&&u===r.type&&e.on(ro,function(t){if(!s){var e=this[a],r=e.badInput,n=e.typeMismatch;s=o.defer(function(){s=null,e.badInput===r&&e.typeMismatch===n||c(t)})}}),n.$render=function(){var t=n.$isEmpty(n.$viewValue)?"":n.$viewValue;e.val()!==t&&e.val(t)}}function ao(t,e){return function(r,n){var i,o;if(X(r))return r;if(W(r)){if('"'===r.charAt(0)&&'"'===r.charAt(r.length-1)&&(r=r.substring(1,r.length-1)),Yi.test(r))return new Date(r);if(t.lastIndex=0,i=t.exec(r))return i.shift(),o=n?{yyyy:n.getFullYear(),MM:n.getMonth()+1,dd:n.getDate(),HH:n.getHours(),mm:n.getMinutes(),ss:n.getSeconds(),sss:n.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},E(i,function(t,r){r<e.length&&(o[e[r]]=+t)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return NaN}}function uo(t,e,r,n){return function(i,o,s,a,u,l,h){lo(i,o,s,a),so(0,o,s,a,u,l);var c,f,p,d=a&&a.$options.getOption("timezone");(a.$$parserName=t,a.$parsers.push(function(t){if(a.$isEmpty(t))return null;if(e.test(t)){var n=r(t,c);return d&&(n=bt(n,d)),n}}),a.$formatters.push(function(t){if(t&&!X(t))throw jo("datefmt","Expected `{0}` to be a date",t);return g(t)?((c=t)&&d&&(c=bt(c,d,!0)),h("date")(t,n,d)):(c=null,"")}),$(s.min)||s.ngMin)&&(a.$validators.min=function(t){return!g(t)||U(f)||r(t)>=f},s.$observe("min",function(t){f=v(t),a.$validate()}));($(s.max)||s.ngMax)&&(a.$validators.max=function(t){return!g(t)||U(p)||r(t)<=p},s.$observe("max",function(t){p=v(t),a.$validate()}));function g(t){return t&&!(t.getTime&&t.getTime()!=t.getTime())}function v(t){return $(t)&&!X(t)?r(t)||void 0:t}}}function lo(t,e,r,n){var i=e[0];(n.$$hasNativeValidators=j(i.validity))&&n.$parsers.push(function(t){var r=e.prop(a)||{};return r.badInput||r.typeMismatch?void 0:t})}function ho(t){t.$$parserName="number",t.$parsers.push(function(e){return t.$isEmpty(e)?null:Zi.test(e)?parseFloat(e):void 0}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!V(e))throw jo("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})}function co(t){return $(t)&&!V(t)&&(t=parseFloat(t)),I(t)?void 0:t}function fo(t){return(0|t)===t}function po(t){var e=t.toString(),r=e.indexOf(".");if(-1===r){if(-1<t&&t<1){var n=/e-(\d+)$/.exec(e);if(n)return Number(n[1])}return 0}return e.length-r-1}function go(t,e,r){var n=Number(t),i=!fo(n),o=!fo(e),s=!fo(r);if(i||o||s){var a=i?po(n):0,u=o?po(e):0,l=s?po(r):0,h=Math.max(a,u,l),c=Math.pow(10,h);n*=c,e*=c,r*=c,i&&(n=Math.round(n)),o&&(e=Math.round(e)),s&&(r=Math.round(r))}return(n-e)%r==0}function vo(t,e,r,n,i){var o;if($(n)){if(!(o=t(n)).constant)throw jo("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",r,n);return o(e)}return i}var mo=["$browser","$sniffer","$filter","$parse",function(t,e,r,n){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,s,a){a[0]&&(io[l(s.type)]||io.text)(i,o,s,a[0],e,t,r,n)}}}}],yo=/^(true|false|\d+)$/,xo=function(){function t(t,e,r){var n=$(r)?r:9===c?"":null;t.prop("value",n),e.$set("value",r)}return{restrict:"A",priority:100,compile:function(e,r){return yo.test(r.ngValue)?function(e,r,n){t(r,n,e.$eval(n.ngValue))}:function(e,r,n){e.$watch(n.ngValue,function(e){t(r,n,e)})}}}},bo=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,r,n){t.$$addBindingInfo(r,n.ngBind),r=r[0],e.$watch(n.ngBind,function(t){r.textContent=Gt(t)})}}}}],_o=["$interpolate","$compile",function(t,e){return{compile:function(r){return e.$$addBindingClass(r),function(r,n,i){var o=t(n.attr(i.$attr.ngBindTemplate));e.$$addBindingInfo(n,o.expressions),n=n[0],i.$observe("ngBindTemplate",function(t){n.textContent=U(t)?"":t})}}}}],wo=["$sce","$parse","$compile",function(t,e,r){return{restrict:"A",compile:function(n,i){var o=e(i.ngBindHtml),s=e(i.ngBindHtml,function(e){return t.valueOf(e)});return r.$$addBindingClass(n),function(e,n,i){r.$$addBindingInfo(n,i.ngBindHtml),e.$watch(s,function(){var r=o(e);n.html(t.getTrustedHtml(r)||"")})}}}}],To=B({restrict:"A",require:"ngModel",link:function(t,e,r,n){n.$viewChangeListeners.push(function(){t.$eval(r.ngChange)})}});function Eo(t,e){var r;return t="ngClass"+t,["$parse",function(a){return{restrict:"AC",link:function(u,l,h){var c,f=h[t].trim(),p=":"===f.charAt(0)&&":"===f.charAt(1),d=a(f,p?s:o),g=p?function(t){var e=o(t);e!==c&&x(e)}:x,v=l.data("$classCounts"),m=!0;function y(t,e){var r=[];return E(t,function(t){(e>0||v[t])&&(v[t]=(v[t]||0)+e,v[t]===+(e>0)&&r.push(t))}),r.join(" ")}function x(t){m===e&&function(t,e){var r=i(t),o=i(e),s=n(r,o),a=n(o,r),u=y(s,-1),l=y(a,1);h.$addClass(l),h.$removeClass(u)}(c,t),c=t}v||(v=jt(),l.data("$classCounts",v)),"ngClass"!==t&&(r||(r=a("$index",function(t){return 1&t})),u.$watch(r,function(t){t===e?(r=y(i(r=c),1),h.$addClass(r)):function(t){t=y(i(t),-1),h.$removeClass(t)}(c);var r;m=t})),u.$watch(d,g,p)}}}];function n(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var r=[];t:for(var n=0;n<t.length;n++){for(var i=t[n],o=0;o<e.length;o++)if(i===e[o])continue t;r.push(i)}return r}function i(t){return t&&t.split(" ")}function o(t){var e=t;return z(t)?e=t.map(o).join(" "):j(t)&&(e=Object.keys(t).filter(function(e){return t[e]}).join(" ")),e}function s(t){var e=t;if(z(t))e=t.map(s);else if(j(t)){var r=!1;e=Object.keys(t).filter(function(e){var n=t[e];return!r&&U(n)&&(r=!0),n}),r&&e.push(void 0)}return e}}var So=Eo("",!0),Ao=Eo("Odd",0),Co=Eo("Even",1),Mo=Fi({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),Ro=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Oo={},Po={blur:!0,focus:!0};E("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=yr("ng-"+t);Oo[e]=["$parse","$rootScope",function(r,n){return{restrict:"A",compile:function(i,o){var s=r(o[e]);return function(e,r){r.on(t,function(r){var i=function(){s(e,{$event:r})};Po[t]&&n.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var Do=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(r,n,i,o,s){var a,u,l;r.$watch(i.ngIf,function(r){r?u||s(function(r,o){u=o,r[r.length++]=e.$$createComment("end ngIf",i.ngIf),a={clone:r},t.enter(r,n.parent(),n)}):(l&&(l.remove(),l=null),u&&(u.$destroy(),u=null),a&&(l=$t(a.clone),t.leave(l).done(function(t){!1!==t&&(l=null)}),a=null))})}}}],Io=["$templateRequest","$anchorScroll","$animate",function(t,e,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:_.noop,compile:function(n,i){var o=i.ngInclude||i.src,s=i.onload||"",a=i.autoscroll;return function(n,i,u,l,h){var c,f,p,d=0,g=function(){f&&(f.remove(),f=null),c&&(c.$destroy(),c=null),p&&(r.leave(p).done(function(t){!1!==t&&(f=null)}),f=p,p=null)};n.$watch(o,function(o){var u=function(t){!1===t||!$(a)||a&&!n.$eval(a)||e()},f=++d;o?(t(o,!0).then(function(t){if(!n.$$destroyed&&f===d){var e=n.$new();l.template=t;var a=h(e,function(t){g(),r.enter(t,null,i).done(u)});p=a,(c=e).$emit("$includeContentLoaded",o),n.$eval(s)}},function(){n.$$destroyed||f===d&&(g(),n.$emit("$includeContentError",o))}),n.$emit("$includeContentRequested",o)):(g(),l.template=null)})}}}}],Lo=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(r,n,i,o){if(y.call(n[0]).match(/SVG/))return n.empty(),void t(fe(o.template,e.document).childNodes)(r,function(t){n.append(t)},{futureParentElement:n});n.html(o.template),t(n.contents())(r)}}}],Fo=Fi({priority:450,compile:function(){return{pre:function(t,e,r){t.$eval(r.ngInit)}}}}),ko=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,r,n){var i=r.ngList||", ",o="false"!==r.ngTrim,s=o?et(i):i;n.$parsers.push(function(t){if(!U(t)){var e=[];return t&&E(t.split(s),function(t){t&&e.push(o?et(t):t)}),e}}),n.$formatters.push(function(t){if(z(t))return t.join(i)}),n.$isEmpty=function(t){return!t||!t.length}}}},Bo="ng-valid",No="ng-invalid",Uo="ng-pristine",$o="ng-dirty",jo=o("ngModel");function Go(t,e,r,n,i,o,s,a,u){var l;this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=u(r.name||"",!1)(t),this.$$parentForm=Ni,this.$options=Wo,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=i(r.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:t}),this.$$attr=r,this.$$element=n,this.$$animate=o,this.$$timeout=s,this.$$parse=i,this.$$q=a,this.$$exceptionHandler=e,Vi(this),(l=this).$$scope.$watch(function(t){var e=l.$$ngModelGet(t);return e===l.$modelValue||l.$modelValue!=l.$modelValue&&e!=e||l.$$setModelValue(e),e})}Go.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Go.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var t=this.$$parse(this.$$attr.ngModel+"()"),e=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var r=this.$$parsedNgModel(e);return H(r)&&(r=t(e)),r},this.$$ngModelSet=function(t,r){H(this.$$parsedNgModel(t))?e(t,{$$$p:r}):this.$$parsedNgModelAssign(t,r)}}else if(!this.$$parsedNgModel.assign)throw jo("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,_t(this.$$element))},$render:F,$isEmpty:function(t){return U(t)||""===t||null===t||t!=t},$$updateEmptyClasses:function(t){this.$isEmpty(t)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,$o),this.$$animate.addClass(this.$$element,Uo)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Uo),this.$$animate.addClass(this.$$element,$o),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!I(this.$modelValue)){var t=this.$$lastCommittedViewValue,e=this.$$rawModelValue,r=this.$valid,n=this.$modelValue,i=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(e,t,function(t){i||r===t||(o.$modelValue=t?e:void 0,o.$modelValue!==n&&o.$$writeModelToScope())})}},$$runValidators:function(t,e,r){this.$$currentValidationRunId++;var n,i,o=this.$$currentValidationRunId,s=this;(function(){var t=s.$$parserName||"parse";if(!U(s.$$parserValid))return s.$$parserValid||(E(s.$validators,function(t,e){a(e,null)}),E(s.$asyncValidators,function(t,e){a(e,null)})),a(t,s.$$parserValid),s.$$parserValid;a(t,null);return!0})()?!function(){var r=!0;if(E(s.$validators,function(n,i){var o=Boolean(n(t,e));r=r&&o,a(i,o)}),!r)return E(s.$asyncValidators,function(t,e){a(e,null)}),!1;return!0}()?u(!1):(n=[],i=!0,E(s.$asyncValidators,function(r,o){var s=r(t,e);if(!J(s))throw jo("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);a(o,void 0),n.push(s.then(function(){a(o,!0)},function(){i=!1,a(o,!1)}))}),n.length?s.$$q.all(n).then(function(){u(i)},F):u(!0)):u(!1);function a(t,e){o===s.$$currentValidationRunId&&s.$setValidity(t,e)}function u(t){o===s.$$currentValidationRunId&&r(t)}},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==t||""===t&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(t),this.$$lastCommittedViewValue=t,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var t=this.$$lastCommittedViewValue,e=this;if(this.$$parserValid=!U(t)||void 0,this.$$parserValid)for(var r=0;r<this.$parsers.length;r++)if(U(t=this.$parsers[r](t))){this.$$parserValid=!1;break}I(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var n=this.$modelValue,i=this.$options.getOption("allowInvalid");function o(){e.$modelValue!==n&&e.$$writeModelToScope()}this.$$rawModelValue=t,i&&(this.$modelValue=t,o()),this.$$runValidators(t,this.$$lastCommittedViewValue,function(r){i||(e.$modelValue=r?t:void 0,o())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),E(this.$viewChangeListeners,function(t){try{t()}catch(t){this.$$exceptionHandler(t)}},this)},$setViewValue:function(t,e){this.$viewValue=t,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(e)},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");V(e[t])?e=e[t]:V(e.default)&&(e=e.default),this.$$timeout.cancel(this.$$pendingDebounce);var r=this;e>0?this.$$pendingDebounce=this.$$timeout(function(){r.$commitViewValue()},e):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){r.$commitViewValue()})},$overrideModelOptions:function(t){this.$options=this.$options.createChild(t),this.$$setUpdateOnEvents()},$processModelValue:function(){var t=this.$$format();this.$viewValue!==t&&(this.$$updateEmptyClasses(t),this.$viewValue=this.$$lastCommittedViewValue=t,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,F))},$$format:function(){for(var t=this.$formatters,e=t.length,r=this.$modelValue;e--;)r=t[e](r);return r},$$setModelValue:function(t){this.$modelValue=this.$$rawModelValue=t,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(t){this.$$debounceViewValueCommit(t&&t.type)}},Xi({clazz:Go,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]}});var Wo,Vo=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Go,priority:1,compile:function(e){return e.addClass(Uo).addClass("ng-untouched").addClass(Bo),{pre:function(t,e,r,n){var i=n[0],o=n[1]||i.$$parentForm,s=n[2];s&&(i.$options=s.$options),i.$$initGetterSetters(),o.$addControl(i),r.$observe("name",function(t){i.$name!==t&&i.$$parentForm.$$renameControl(i,t)}),t.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(e,r,n,i){var o=i[0];function s(){o.$setTouched()}o.$$setUpdateOnEvents(),r.on("blur",function(){o.$touched||(t.$$phase?e.$evalAsync(s):e.$apply(s))})}}}}}],Xo=/(\s+|^)default(\s+|$)/;function zo(t){this.$$options=t}zo.prototype={getOption:function(t){return this.$$options[t]},createChild:function(t){var e=!1;return E(t=O({},t),function(r,n){"$inherit"===r?"*"===n?e=!0:(t[n]=this.$$options[n],"updateOn"===n&&(t.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===n&&(t.updateOnDefault=!1,t[n]=et(r.replace(Xo,function(){return t.updateOnDefault=!0," "})))},this),e&&(delete t["*"],Ho(t,this.$$options)),Ho(t,Wo.$$options),new zo(t)}},Wo=new zo({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Yo=function(){function t(t,e){this.$$attrs=t,this.$$scope=e}return t.$inject=["$attrs","$scope"],t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:Wo,e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:t}};function Ho(t,e){E(e,function(e,r){$(t[r])||(t[r]=e)})}var qo=Fi({terminal:!0,priority:1e3}),Zo=o("ngOptions"),Ko=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Qo=["$compile","$document","$parse",function(t,r,n){var i=e.document.createElement("option"),o=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,r,n){n[0].registerOption=F},post:function(e,s,a,u){for(var l=u[0],h=u[1],c=a.multiple,p=0,d=s.children(),g=d.length;p<g;p++)if(""===d[p].value){l.hasEmptyOption=!0,l.emptyOption=d.eq(p);break}s.empty();var v,m=!!l.emptyOption;f(i.cloneNode(!1)).val("?");var y=function(t,e,r){var i=t.match(Ko);if(!i)throw Zo("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,_t(e));var o=i[5]||i[7],s=i[6],a=/ as /.test(i[0])&&i[1],u=i[9],l=n(i[2]?i[1]:o),h=a&&n(a)||l,c=u&&n(u),f=u?function(t,e){return c(r,e)}:function(t){return Ne(t)},p=function(t,e){return f(t,x(t,e))},d=n(i[2]||i[1]),g=n(i[3]||""),v=n(i[4]||""),m=n(i[8]),y={},x=s?function(t,e){return y[s]=e,y[o]=t,y}:function(t){return y[o]=t,y};function b(t,e,r,n,i){this.selectValue=t,this.viewValue=e,this.label=r,this.group=n,this.disabled=i}function _(t){var e;if(!s&&T(t))e=t;else for(var r in e=[],t)t.hasOwnProperty(r)&&"$"!==r.charAt(0)&&e.push(r);return e}return{trackBy:u,getTrackByValue:p,getWatchables:n(m,function(t){for(var e=[],n=_(t=t||[]),o=n.length,s=0;s<o;s++){var a=t===n?s:n[s],u=t[a],l=x(u,a),h=f(u,l);if(e.push(h),i[2]||i[1]){var c=d(r,l);e.push(c)}if(i[4]){var p=v(r,l);e.push(p)}}return e}),getOptions:function(){for(var t=[],e={},n=m(r)||[],i=_(n),o=i.length,s=0;s<o;s++){var a=n===i?s:i[s],l=n[a],c=x(l,a),y=h(r,c),w=f(y,c),T=new b(w,y,d(r,c),g(r,c),v(r,c));t.push(T),e[w]=T}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[p(t)]},getViewValueFromOption:function(t){return u?at(t.viewValue):t.viewValue}}}}}(a.ngOptions,s,e),x=r[0].createDocumentFragment();function b(t,e){var r=i.cloneNode(!1);e.appendChild(r),function(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}(t,r)}function _(t){var e=v.getOptionFromViewValue(t),r=e&&e.element;return r&&!r.selected&&(r.selected=!0),e}l.generateUnknownOptionValue=function(t){return"?"},c?(l.writeValue=function(t){if(v){var e=t&&t.map(_)||[];v.items.forEach(function(t){t.element.selected&&!ot(e,t)&&(t.element.selected=!1)})}},l.readValue=function(){var t=[];return E(s.val()||[],function(e){var r=v.selectValueMap[e];r&&!r.disabled&&t.push(v.getViewValueFromOption(r))}),t},y.trackBy&&e.$watchCollection(function(){if(z(h.$viewValue))return h.$viewValue.map(function(t){return y.getTrackByValue(t)})},function(){h.$render()})):(l.writeValue=function(t){if(v){var e=s[0].options[s[0].selectedIndex],r=v.getOptionFromViewValue(t);e&&e.removeAttribute("selected"),r?(s[0].value!==r.selectValue&&(l.removeUnknownOption(),s[0].value=r.selectValue,r.element.selected=!0),r.element.setAttribute("selected","selected")):l.selectUnknownOrEmptyOption(t)}},l.readValue=function(){var t=v.selectValueMap[s.val()];return t&&!t.disabled?(l.unselectEmptyOption(),l.removeUnknownOption(),v.getViewValueFromOption(t)):null},y.trackBy&&e.$watch(function(){return y.getTrackByValue(h.$viewValue)},function(){h.$render()})),m&&(t(l.emptyOption)(e),s.prepend(l.emptyOption),l.emptyOption[0].nodeType===Xt?(l.hasEmptyOption=!1,l.registerOption=function(t,e){""===e.val()&&(l.hasEmptyOption=!0,l.emptyOption=e,l.emptyOption.removeClass("ng-scope"),h.$render(),e.on("$destroy",function(){var t=l.$isEmptyOptionSelected();l.hasEmptyOption=!1,l.emptyOption=void 0,t&&h.$render()}))}):l.emptyOption.removeClass("ng-scope")),e.$watchCollection(y.getWatchables,function(){var t=v&&l.readValue();if(v)for(var e=v.items.length-1;e>=0;e--){var r=v.items[e];$(r.group)?Me(r.element.parentNode):Me(r.element)}var n={};if((v=y.getOptions()).items.forEach(function(t){var e;$(t.group)?((e=n[t.group])||(e=o.cloneNode(!1),x.appendChild(e),e.label=null===t.group?"null":t.group,n[t.group]=e),b(t,e)):b(t,x)}),s[0].appendChild(x),h.$render(),!h.$isEmpty(t)){var i=l.readValue(),a=y.trackBy||c;(a?lt(t,i):t===i)||(h.$setViewValue(i),h.$render())}})}}}}],Jo=["$locale","$interpolate","$log",function(t,e,r){var n=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(o,s,a){var u,h=a.count,c=a.$attr.when&&s.attr(a.$attr.when),f=a.offset||0,p=o.$eval(c)||{},d={},g=e.startSymbol(),v=e.endSymbol(),m=g+h+"-"+f+v,y=_.noop;function x(t){s.text(t||"")}E(a,function(t,e){var r=i.exec(e);if(r){var n=(r[1]?"-":"")+l(r[2]);p[n]=s.attr(a.$attr[e])}}),E(p,function(t,r){d[r]=e(t.replace(n,m))}),o.$watch(h,function(e){var n=parseFloat(e),i=I(n);if(i||n in p||(n=t.pluralCat(n-f)),!(n===u||i&&I(u))){y();var s=d[n];U(s)?(null!=e&&r.debug("ngPluralize: no rule defined for '"+n+"' in "+c),y=F,x()):y=o.$watch(s,x),u=n}})}}}],ts=["$parse","$animate","$compile",function(t,e,r){var n=o("ngRepeat"),i=function(t,e,r,n,i,o,s){t[r]=n,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===s-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))},s=function(t){return t.clone[0]},a=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(o,l){var h=l.ngRepeat,c=r.$$createComment("end ngRepeat",h),f=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw n("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",h);var p=f[1],d=f[2],g=f[3],v=f[4];if(!(f=p.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw n("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",p);var m,y,x,b,_=f[3]||f[1],w=f[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw n("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",g);var S={$id:Ne};return v?m=t(v):(x=function(t,e){return Ne(e)},b=function(t){return t}),function(t,r,o,l,f){m&&(y=function(e,r,n){return w&&(S[w]=e),S[_]=r,S.$index=n,m(t,S)});var p=jt();t.$watchCollection(d,function(o){var l,d,v,m,S,A,C,M,R,O,P,D,I=r[0],L=jt();if(g&&(t[g]=o),T(o))R=o,M=y||x;else for(var F in M=y||b,R=[],o)u.call(o,F)&&"$"!==F.charAt(0)&&R.push(F);for(m=R.length,P=new Array(m),l=0;l<m;l++)if(S=o===R?l:R[l],A=o[S],C=M(S,A,l),p[C])O=p[C],delete p[C],L[C]=O,P[l]=O;else{if(L[C])throw E(P,function(t){t&&t.scope&&(p[t.id]=t)}),n("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",h,C,A);P[l]={id:C,scope:void 0,clone:void 0},L[C]=!0}for(var k in p){if(D=$t((O=p[k]).clone),e.leave(D),D[0].parentNode)for(l=0,d=D.length;l<d;l++)D[l].$$NG_REMOVED=!0;O.scope.$destroy()}for(l=0;l<m;l++)if(S=o===R?l:R[l],A=o[S],(O=P[l]).scope){v=I;do{v=v.nextSibling}while(v&&v.$$NG_REMOVED);s(O)!==v&&e.move($t(O.clone),null,I),I=a(O),i(O.scope,l,_,A,w,S,m)}else f(function(t,r){O.scope=r;var n=c.cloneNode(!1);t[t.length++]=n,e.enter(t,null,I),I=n,O.clone=t,L[O.id]=O,i(O.scope,l,_,A,w,S,m)});p=L})}}}}],es=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,r,n){e.$watch(n.ngShow,function(e){t[e?"removeClass":"addClass"](r,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],rs=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,r,n){e.$watch(n.ngHide,function(e){t[e?"addClass":"removeClass"](r,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ns=Fi(function(t,e,r){t.$watch(r.ngStyle,function(t,r){r&&t!==r&&E(r,function(t,r){e.css(r,"")}),t&&e.css(t)},!0)}),is=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(r,n,i,o){var s=i.ngSwitch||i.on,a=[],u=[],l=[],h=[],c=function(t,e){return function(r){!1!==r&&t.splice(e,1)}};r.$watch(s,function(r){for(var n,i;l.length;)t.cancel(l.pop());for(n=0,i=h.length;n<i;++n){var s=$t(u[n].clone);h[n].$destroy(),(l[n]=t.leave(s)).done(c(l,n))}u.length=0,h.length=0,(a=o.cases["!"+r]||o.cases["?"])&&E(a,function(r){r.transclude(function(n,i){h.push(i);var o=r.element;n[n.length++]=e.$$createComment("end ngSwitchWhen");var s={clone:n};u.push(s),t.enter(n,o.parent(),o)})})})}}}],os=Fi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,r,n,i){E(r.ngSwitchWhen.split(r.ngSwitchWhenSeparator).sort().filter(function(t,e,r){return r[e-1]!==t}),function(t){n.cases["!"+t]=n.cases["!"+t]||[],n.cases["!"+t].push({transclude:i,element:e})})}}),ss=Fi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,r,n,i){n.cases["?"]=n.cases["?"]||[],n.cases["?"].push({transclude:i,element:e})}}),as=o("ngTransclude"),us=["$compile",function(t){return{restrict:"EAC",compile:function(e){var r=t(e.contents());return e.empty(),function(t,e,n,i,o){if(!o)throw as("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",_t(e));n.ngTransclude===n.$attr.ngTransclude&&(n.ngTransclude="");var s=n.ngTransclude||n.ngTranscludeSlot;function a(){r(t,function(t){e.append(t)})}o(function(t,r){t.length&&function(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];if(n.nodeType!==Vt||n.nodeValue.trim())return!0}}(t)?e.append(t):(a(),r.$destroy())},null,s),s&&!o.isSlotFilled(s)&&a()}}}}],ls=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,r){if("text/ng-template"===r.type){var n=r.id,i=e[0].text;t.put(n,i)}}}}],hs={$setViewValue:F,$render:F};function cs(t,e){t.prop("selected",e),t.attr("selected",e)}var fs=["$element","$scope",function(t,r){var n=this,i=new je;n.selectValueMap={},n.ngModelCtrl=hs,n.multiple=!1,n.unknownOption=f(e.document.createElement("option")),n.hasEmptyOption=!1,n.emptyOption=void 0,n.renderUnknownOption=function(e){var r=n.generateUnknownOptionValue(e);n.unknownOption.val(r),t.prepend(n.unknownOption),cs(n.unknownOption,!0),t.val(r)},n.updateUnknownOption=function(e){var r=n.generateUnknownOptionValue(e);n.unknownOption.val(r),cs(n.unknownOption,!0),t.val(r)},n.generateUnknownOptionValue=function(t){return"? "+Ne(t)+" ?"},n.removeUnknownOption=function(){n.unknownOption.parent()&&n.unknownOption.remove()},n.selectEmptyOption=function(){n.emptyOption&&(t.val(""),cs(n.emptyOption,!0))},n.unselectEmptyOption=function(){n.hasEmptyOption&&cs(n.emptyOption,!1)},r.$on("$destroy",function(){n.renderUnknownOption=F}),n.readValue=function(){var e=t.val(),r=e in n.selectValueMap?n.selectValueMap[e]:e;return n.hasOption(r)?r:null},n.writeValue=function(e){var r=t[0].options[t[0].selectedIndex];if(r&&cs(f(r),!1),n.hasOption(e)){n.removeUnknownOption();var i=Ne(e);t.val(i in n.selectValueMap?i:e);var o=t[0].options[t[0].selectedIndex];cs(f(o),!0)}else n.selectUnknownOrEmptyOption(e)},n.addOption=function(t,e){if(e[0].nodeType!==Xt){Nt(t,'"option value"'),""===t&&(n.hasEmptyOption=!0,n.emptyOption=e);var r=i.get(t)||0;i.set(t,r+1),s()}},n.removeOption=function(t){var e=i.get(t);e&&(1===e?(i.delete(t),""===t&&(n.hasEmptyOption=!1,n.emptyOption=void 0)):i.set(t,e-1))},n.hasOption=function(t){return!!i.get(t)},n.$hasEmptyOption=function(){return n.hasEmptyOption},n.$isUnknownOptionSelected=function(){return t[0].options[0]===n.unknownOption[0]},n.$isEmptyOptionSelected=function(){return n.hasEmptyOption&&t[0].options[t[0].selectedIndex]===n.emptyOption[0]},n.selectUnknownOrEmptyOption=function(t){null==t&&n.emptyOption?(n.removeUnknownOption(),n.selectEmptyOption()):n.unknownOption.parent().length?n.updateUnknownOption(t):n.renderUnknownOption(t)};var o=!1;function s(){o||(o=!0,r.$$postDigest(function(){o=!1,n.ngModelCtrl.$render()}))}var a=!1;function u(t){a||(a=!0,r.$$postDigest(function(){r.$$destroyed||(a=!1,n.ngModelCtrl.$setViewValue(n.readValue()),t&&n.ngModelCtrl.$render())}))}n.registerOption=function(t,e,r,i,o){if(r.$attr.ngValue){var a,l=NaN;r.$observe("value",function(t){var r,i=e.prop("selected");$(l)&&(n.removeOption(a),delete n.selectValueMap[l],r=!0),l=Ne(t),a=t,n.selectValueMap[l]=t,n.addOption(t,e),e.attr("value",l),r&&i&&u()})}else i?r.$observe("value",function(t){var r;n.readValue();var i=e.prop("selected");$(a)&&(n.removeOption(a),r=!0),a=t,n.addOption(t,e),r&&i&&u()}):o?t.$watch(o,function(t,i){r.$set("value",t);var o=e.prop("selected");i!==t&&n.removeOption(i),n.addOption(t,e),i&&o&&u()}):n.addOption(r.value,e);r.$observe("disabled",function(t){("true"===t||t&&e.prop("selected"))&&(n.multiple?u(!0):(n.ngModelCtrl.$setViewValue(null),n.ngModelCtrl.$render()))}),e.on("$destroy",function(){var t=n.readValue(),e=r.value;n.removeOption(e),s(),(n.multiple&&t&&-1!==t.indexOf(e)||t===e)&&u(!0)})}}],ps=function(){return{restrict:"E",require:["select","?ngModel"],controller:fs,priority:1,link:{pre:function(t,e,r,n){var i=n[0],o=n[1];if(!o)return void(i.registerOption=F);if(i.ngModelCtrl=o,e.on("change",function(){i.removeUnknownOption(),t.$apply(function(){o.$setViewValue(i.readValue())})}),r.multiple){i.multiple=!0,i.readValue=function(){var t=[];return E(e.find("option"),function(e){if(e.selected&&!e.disabled){var r=e.value;t.push(r in i.selectValueMap?i.selectValueMap[r]:r)}}),t},i.writeValue=function(t){E(e.find("option"),function(e){var r=!!t&&(ot(t,e.value)||ot(t,i.selectValueMap[e.value])),n=e.selected;r!==n&&cs(f(e),r)})};var s,a=NaN;t.$watch(function(){a!==o.$viewValue||lt(s,o.$viewValue)||(s=Ht(o.$viewValue),o.$render()),a=o.$viewValue}),o.$isEmpty=function(t){return!t||0===t.length}}},post:function(t,e,r,n){var i=n[1];if(!i)return;var o=n[0];i.$render=function(){o.writeValue(i.$viewValue)}}}}},ds=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,r){var n,i;return $(r.ngValue)||($(r.value)?n=t(r.value,!0):(i=t(e.text(),!0))||r.$set("value",e.text())),function(t,e,r){var o=e.parent(),s=o.data("$selectController")||o.parent().data("$selectController");s&&s.registerOption(t,e,r,n,i)}}}}],gs=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,r,n){n&&(r.required=!0,n.$validators.required=function(t,e){return!r.required||!n.$isEmpty(e)},r.$observe("required",function(){n.$validate()}))}}},vs=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,r,n){if(n){var i,s=r.ngPattern||r.pattern;r.$observe("pattern",function(t){if(W(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw o("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,t,_t(e));i=t||void 0,n.$validate()}),n.$validators.pattern=function(t,e){return n.$isEmpty(e)||U(i)||i.test(e)}}}}},ms=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,r,n){if(n){var i=-1;r.$observe("maxlength",function(t){var e=D(t);i=I(e)?-1:e,n.$validate()}),n.$validators.maxlength=function(t,e){return i<0||n.$isEmpty(e)||e.length<=i}}}}},ys=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,r,n){if(n){var i=0;r.$observe("minlength",function(t){i=D(t)||0,n.$validate()}),n.$validators.minlength=function(t,e){return n.$isEmpty(e)||e.length>=i}}}}};e.angular.bootstrap?e.console&&console.log("WARNING: Tried to load AngularJS more than once."):(!function(){var r;if(!Ft){var n=ct();(p=U(n)?t:n?e[n]:void 0)&&p.fn.on?(f=p,O(p.fn,{scope:Oe.scope,isolateScope:Oe.isolateScope,controller:Oe.controller,injector:Oe.injector,inheritedData:Oe.inheritedData}),r=p.cleanData,p.cleanData=function(t){for(var e,n,i=0;null!=(n=t[i]);i++)(e=p._data(n,"events"))&&e.$destroy&&p(n).triggerHandler("$destroy");r(t)}):f=de,_.element=f,Ft=!0}}(),function(t){O(t,{errorHandlingConfig:n,bootstrap:Ot,copy:at,extend:O,merge:P,equals:lt,element:f,forEach:E,injector:Ke,noop:F,bind:dt,toJson:vt,fromJson:mt,identity:k,isUndefined:U,isDefined:$,isString:W,isFunction:H,isObject:j,isNumber:V,isElement:nt,isArray:z,version:Zt,isDate:X,lowercase:l,uppercase:h,callbacks:{$$counter:0},getTestability:Dt,reloadWithDebugInfo:Pt,$$minErr:o,$$csp:ht,$$encodeUriSegment:St,$$encodeUriQuery:At,$$stringify:Gt}),(d=function(t){var e=o("$injector"),r=o("ng");function n(t,e,r){return t[e]||(t[e]=r())}var i=n(t,"angular",Object);return i.$$minErr=i.$$minErr||o,n(i,"module",function(){var t={};return function(i,o,s){var a={};return function(t,e){if("hasOwnProperty"===t)throw r("badname","hasOwnProperty is not a valid {0} name",e)}(i,"module"),o&&t.hasOwnProperty(i)&&(t[i]=null),n(t,i,function(){if(!o)throw e("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var t=[],n=[],u=[],l=c("$injector","invoke","push",n),h={_invokeQueue:t,_configBlocks:n,_runBlocks:u,info:function(t){if($(t)){if(!j(t))throw r("aobj","Argument '{0}' must be an object","value");return a=t,this}return a},requires:o,name:i,provider:f("$provide","provider"),factory:f("$provide","factory"),service:f("$provide","service"),value:c("$provide","value"),constant:c("$provide","constant","unshift"),decorator:f("$provide","decorator",n),animation:f("$animateProvider","register"),filter:f("$filterProvider","register"),controller:f("$controllerProvider","register"),directive:f("$compileProvider","directive"),component:f("$compileProvider","component"),config:l,run:function(t){return u.push(t),this}};return s&&l(s),h;function c(e,r,n,i){return i||(i=t),function(){return i[n||"push"]([e,r,arguments]),h}}function f(e,r,n){return n||(n=t),function(t,o){return o&&H(o)&&(o.$$moduleName=i),n.push([e,r,arguments]),h}}})}})}(e))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Wn}),t.provider("$compile",dr).directive({a:ki,input:mo,textarea:mo,form:Gi,script:ls,select:ps,option:ds,ngBind:bo,ngBindHtml:wo,ngBindTemplate:_o,ngClass:So,ngClassEven:Co,ngClassOdd:Ao,ngCloak:Mo,ngController:Ro,ngForm:Wi,ngHide:rs,ngIf:Do,ngInclude:Io,ngInit:Fo,ngNonBindable:qo,ngPluralize:Jo,ngRepeat:ts,ngShow:es,ngStyle:ns,ngSwitch:is,ngSwitchWhen:os,ngSwitchDefault:ss,ngOptions:Qo,ngTransclude:us,ngModel:Vo,ngList:ko,ngChange:To,pattern:vs,ngPattern:vs,required:gs,ngRequired:gs,minlength:ys,ngMinlength:ys,maxlength:ms,ngMaxlength:ms,ngValue:xo,ngModelOptions:Yo}).directive({ngInclude:Lo}).directive(Bi).directive(Oo),t.provider({$anchorScroll:Qe,$animate:or,$animateCss:ur,$$animateJs:nr,$$animateQueue:ir,$$AnimateRunner:ar,$$animateAsyncRun:sr,$browser:lr,$cacheFactory:hr,$controller:Tr,$document:Er,$$isDocumentHidden:Sr,$exceptionHandler:Ar,$filter:li,$$forceReflow:Cr,$interpolate:zr,$interval:Yr,$http:Gr,$httpParamSerializer:Fr,$httpParamSerializerJQLike:kr,$httpBackend:Vr,$xhrFactory:Wr,$jsonpCallbacks:Hr,$location:pn,$log:dn,$parse:Ln,$rootScope:Gn,$q:Fn,$$q:kn,$sce:Zn,$sceDelegate:qn,$sniffer:Kn,$templateCache:cr,$templateRequest:Jn,$$testability:ti,$timeout:ei,$window:si,$$rAF:jn,$$jqLite:Be,$$Map:Ge,$$cookieReader:ui})}]).info({angularVersion:"1.6.9"})}(_),_.module("ngLocale",[],["$provide",function(t){var e="one",r="other";t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,n){var i=0|t,o=function(t,e){var r=e;void 0===r&&(r=Math.min(function(t){var e=(t+="").indexOf(".");return-1==e?0:t.length-e-1}(t),3));var n=Math.pow(10,r);return{v:r,f:(t*n|0)%n}}(t,n);return 1==i&&0==o.v?e:r}})}]),f(function(){Rt(e.document,Ot)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')}).call(this,r("EVdn"))},IlFx:function(t,e,r){var n=r("XKFU"),i=r("y3w9"),o=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},Iw71:function(t,e,r){var n=r("0/R4"),i=r("dyZX").document,o=n(i)&&n(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},"J+6e":function(t,e,r){var n=r("I8a+"),i=r("K0xU")("iterator"),o=r("hPIQ");t.exports=r("g3g5").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[n(t)]}},J0gd:function(t,e,r){var n=r("XKFU"),i=180/Math.PI;n(n.S,"Math",{degrees:function(t){return t*i}})},JB68:function(t,e,r){var n=r("Jes0");t.exports=function(t){return Object(n(t))}},JCqj:function(t,e,r){"use strict";r("OGtf")("sup",function(t){return function(){return t(this,"sup","","")}})},"JMW+":function(t,e,r){"use strict";var n,i,o,s,a=r("uOPS"),u=r("5T2Y"),l=r("2GTP"),h=r("QMMT"),c=r("Y7ZC"),f=r("93I4"),p=r("eaoh"),d=r("EXMj"),g=r("oioR"),v=r("8gHz"),m=r("QXhf").set,y=r("q6LJ")(),x=r("ZW5q"),b=r("RDmV"),_=r("zXhZ"),w=u.TypeError,T=u.process,E=u.Promise,S="process"==h(T),A=function(){},C=i=x.f,M=!!function(){try{var t=E.resolve(1),e=(t.constructor={})[r("UWiX")("species")]=function(t){t(A,A)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof e}catch(t){}}(),R=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},O=function(t,e){if(!t._n){t._n=!0;var r=t._c;y(function(){for(var n=t._v,i=1==t._s,o=0,s=function(e){var r,o,s=i?e.ok:e.fail,a=e.resolve,u=e.reject,l=e.domain;try{s?(i||(2==t._h&&I(t),t._h=1),!0===s?r=n:(l&&l.enter(),r=s(n),l&&l.exit()),r===e.promise?u(w("Promise-chain cycle")):(o=R(r))?o.call(r,a,u):a(r)):u(n)}catch(t){u(t)}};r.length>o;)s(r[o++]);t._c=[],t._n=!1,e&&!t._h&&P(t)})}},P=function(t){m.call(u,function(){var e,r,n,i=t._v,o=D(t);if(o&&(e=b(function(){S?T.emit("unhandledRejection",i,t):(r=u.onunhandledrejection)?r({promise:t,reason:i}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",i)}),t._h=S||D(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},D=function(t){return 1!==t._h&&0===(t._a||t._c).length},I=function(t){m.call(u,function(){var e;S?T.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},L=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))},F=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw w("Promise can't be resolved itself");(e=R(t))?y(function(){var n={_w:r,_d:!1};try{e.call(t,l(F,n,1),l(L,n,1))}catch(t){L.call(n,t)}}):(r._v=t,r._s=1,O(r,!1))}catch(t){L.call({_w:r,_d:!1},t)}}};M||(E=function(t){d(this,E,"Promise","_h"),p(t),n.call(this);try{t(l(F,this,1),l(L,this,1))}catch(t){L.call(this,t)}},(n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r("XJU/")(E.prototype,{then:function(t,e){var r=C(v(this,E));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=S?T.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&O(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new n;this.promise=t,this.resolve=l(F,t,1),this.reject=l(L,t,1)},x.f=C=function(t){return t===E||t===s?new o(t):i(t)}),c(c.G+c.W+c.F*!M,{Promise:E}),r("RfKB")(E,"Promise"),r("TJWN")("Promise"),s=r("WEpk").Promise,c(c.S+c.F*!M,"Promise",{reject:function(t){var e=C(this);return(0,e.reject)(t),e.promise}}),c(c.S+c.F*(a||!M),"Promise",{resolve:function(t){return _(a&&this===s?E:this,t)}}),c(c.S+c.F*!(M&&r("TuGD")(function(t){E.all(t).catch(A)})),"Promise",{all:function(t){var e=this,r=C(e),n=r.resolve,i=r.reject,o=b(function(){var r=[],o=0,s=1;g(t,!1,function(t){var a=o++,u=!1;r.push(void 0),s++,e.resolve(t).then(function(t){u||(u=!0,r[a]=t,--s||n(r))},i)}),--s||n(r)});return o.e&&i(o.v),r.promise},race:function(t){var e=this,r=C(e),n=r.reject,i=b(function(){g(t,!1,function(t){e.resolve(t).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}})},Jcmo:function(t,e,r){var n=r("XKFU"),i=Math.exp;n(n.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},JduL:function(t,e,r){r("Xtr8")("getOwnPropertyNames",function(){return r("e7yV").f})},Jes0:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"Ji/l":function(t,e,r){var n=r("XKFU");n(n.G+n.W+n.F*!r("D4iV").ABV,{DataView:r("7Qtz").DataView})},JiEa:function(t,e){e.f=Object.getOwnPropertySymbols},K0xU:function(t,e,r){var n=r("VTer")("wks"),i=r("ylqs"),o=r("dyZX").Symbol,s="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=n},KHwQ:function(t,e,r){r("IbG+"),t.exports=angular},KKXr:function(t,e,r){r("IU+Z")("split",2,function(t,e,n){"use strict";var i=r("quPj"),o=n,s=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var a=void 0===/()??/.exec("")[1];n=function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!i(t))return o.call(r,t,e);var n,u,l,h,c,f=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,g=void 0===e?4294967295:e>>>0,v=new RegExp(t.source,p+"g");for(a||(n=new RegExp("^"+v.source+"$(?!\\s)",p));(u=v.exec(r))&&!((l=u.index+u[0].length)>d&&(f.push(r.slice(d,u.index)),!a&&u.length>1&&u[0].replace(n,function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(u[c]=void 0)}),u.length>1&&u.index<r.length&&s.apply(f,u.slice(1)),h=u[0].length,d=l,f.length>=g));)v.lastIndex===u.index&&v.lastIndex++;return d===r.length?!h&&v.test("")||f.push(""):f.push(r.slice(d)),f.length>g?f.slice(0,g):f}}else"0".split(void 0,0).length&&(n=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(r,i){var o=t(this),s=void 0==r?void 0:r[e];return void 0!==s?s.call(r,o,i):n.call(String(o),r,i)},n]})},KOQb:function(t,e,r){"use strict";var n=r("XKFU"),i=r("2OiF"),o=r("m0Pp"),s=r("SlkY");t.exports=function(t){n(n.S,t,{from:function(t){var e,r,n,a,u=arguments[1];return i(this),(e=void 0!==u)&&i(u),void 0==t?new this:(r=[],e?(n=0,a=o(u,arguments[2],2),s(t,!1,function(t){r.push(a(t,n++))})):s(t,!1,r.push,r),new this(r))}})}},KUxP:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},KroJ:function(t,e,r){var n=r("dyZX"),i=r("Mukb"),o=r("aagx"),s=r("ylqs")("src"),a=Function.toString,u=(""+a).split("toString");r("g3g5").inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,r,a){var l="function"==typeof r;l&&(o(r,"name")||i(r,"name",e)),t[e]!==r&&(l&&(o(r,s)||i(r,s,t[e]?""+t[e]:u.join(String(e)))),t===n?t[e]=r:a?t[e]?t[e]=r:i(t,e,r):(delete t[e],i(t,e,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},Kuth:function(t,e,r){var n=r("y3w9"),i=r("FJW5"),o=r("4R4u"),s=r("YTvA")("IE_PROTO"),a=function(){},u=function(){var t,e=r("Iw71")("iframe"),n=o.length;for(e.style.display="none",r("+rLv").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;n--;)delete u.prototype[o[n]];return u()};t.exports=Object.create||function(t,e){var r;return null!==t?(a.prototype=n(t),r=new a,a.prototype=null,r[s]=t):r=u(),void 0===e?r:i(r,e)}},L3jF:function(t,e,r){var n=r("XKFU");n(n.S,"Math",{isubh:function(t,e,r,n){var i=t>>>0,o=r>>>0;return(e>>>0)-(n>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},L9s1:function(t,e,r){"use strict";var n=r("XKFU"),i=r("0sh+");n(n.P+n.F*r("UUeW")("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},LK8F:function(t,e,r){var n=r("XKFU");n(n.S,"Array",{isArray:r("EWmC")})},LQAc:function(t,e){t.exports=!1},LTTk:function(t,e,r){var n=r("XKFU"),i=r("OP3Y"),o=r("y3w9");n(n.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},LVwc:function(t,e){var r=Math.expm1;t.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:r},LZWt:function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},Lgjv:function(t,e,r){var n=r("ne8i"),i=r("l0Rn"),o=r("vhPU");t.exports=function(t,e,r,s){var a=String(o(t)),u=a.length,l=void 0===r?" ":String(r),h=n(e);if(h<=u||""==l)return a;var c=h-u,f=i.call(l,Math.ceil(c/l.length));return f.length>c&&(f=f.slice(0,c)),s?f+a:a+f}},Ljet:function(t,e,r){var n=r("XKFU");n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},LyE8:function(t,e,r){"use strict";var n=r("eeVq");t.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},M1xp:function(t,e,r){var n=r("a0xu");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},M6Qj:function(t,e,r){var n=r("hPIQ"),i=r("K0xU")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[i]===t)}},MCSJ:function(t,e){t.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},MPFp:function(t,e,r){"use strict";var n=r("uOPS"),i=r("Y7ZC"),o=r("kTiW"),s=r("NegM"),a=r("B+OT"),u=r("SBuE"),l=r("j2DC"),h=r("RfKB"),c=r("U+KD"),f=r("UWiX")("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,r,g,v,m,y){l(r,e,g);var x,b,_,w=function(t){if(!p&&t in A)return A[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},T=e+" Iterator",E="values"==v,S=!1,A=t.prototype,C=A[f]||A["@@iterator"]||v&&A[v],M=!p&&C||w(v),R=v?E?w("entries"):M:void 0,O="Array"==e&&A.entries||C;if(O&&(_=c(O.call(new t)))!==Object.prototype&&_.next&&(h(_,T,!0),n||a(_,f)||s(_,f,d)),E&&C&&"values"!==C.name&&(S=!0,M=function(){return C.call(this)}),n&&!y||!p&&!S&&A[f]||s(A,f,M),u[e]=M,u[T]=d,v)if(x={values:E?M:w("values"),keys:m?M:w("keys"),entries:R},y)for(b in x)b in A||o(A,b,x[b]);else i(i.P+i.F*(p||S),e,x);return x}},MWP8:function(t,e,r){var n,i,o;!function(s,a){"use strict";i=[r("KHwQ")],void 0===(o="function"==typeof(n=function(t){function e(t,e){var r;try{r=t[e]}catch(t){r=!1}if(r){var n="__"+Math.round(1e7*Math.random());try{t[e].setItem(n,n),t[e].removeItem(n,n)}catch(t){r=!1}}return r}return(t=t&&t.module?t:window.angular).module("ngStorage",[]).provider("$localStorage",r("localStorage")).provider("$sessionStorage",r("sessionStorage"));function r(r){var n=e(window,r);return function(){var i="ngStorage-";this.setKeyPrefix=function(t){if("string"!=typeof t)throw new TypeError("[ngStorage] - "+r+"Provider.setKeyPrefix() expects a String.");i=t};var o=t.toJson,s=t.fromJson;this.setSerializer=function(t){if("function"!=typeof t)throw new TypeError("[ngStorage] - "+r+"Provider.setSerializer expects a function.");o=t},this.setDeserializer=function(t){if("function"!=typeof t)throw new TypeError("[ngStorage] - "+r+"Provider.setDeserializer expects a function.");s=t},this.supported=function(){return!!n},this.get=function(t){return n&&s(n.getItem(i+t))},this.set=function(t,e){return n&&n.setItem(i+t,o(e))},this.remove=function(t){n&&n.removeItem(i+t)},this.$get=["$rootScope","$window","$log","$timeout","$document",function(n,a,u,l,h){var c,f,p=i.length,d=e(a,r),g=d||(u.warn("This browser does not support Web Storage!"),{setItem:t.noop,getItem:t.noop,removeItem:t.noop}),v={$default:function(e){for(var r in e)t.isDefined(v[r])||(v[r]=t.copy(e[r]));return v.$sync(),v},$reset:function(t){for(var e in v)"$"===e[0]||delete v[e]&&g.removeItem(i+e);return v.$default(t)},$sync:function(){for(var t,e=0,r=g.length;e<r;e++)(t=g.key(e))&&i===t.slice(0,p)&&(v[t.slice(p)]=s(g.getItem(t)))},$apply:function(){var e;if(f=null,!t.equals(v,c)){for(var r in e=t.copy(c),t.forEach(v,function(r,n){t.isDefined(r)&&"$"!==n[0]&&(g.setItem(i+n,o(r)),delete e[n])}),e)g.removeItem(i+r);c=t.copy(v)}},$supported:function(){return!!d}};return v.$sync(),c=t.copy(v),n.$watch(function(){f||(f=l(v.$apply,100,!1))}),a.addEventListener&&a.addEventListener("storage",function(e){if(e.key){var r=h[0];r.hasFocus&&r.hasFocus()||i!==e.key.slice(0,p)||(e.newValue?v[e.key.slice(p)]=s(e.newValue):delete v[e.key.slice(p)],c=t.copy(v),n.$apply())}}),a.addEventListener&&a.addEventListener("beforeunload",function(){v.$apply()}),v}]}}})?n.apply(e,i):n)||(t.exports=o)}()},MfQN:function(t,e){t.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},Mqbl:function(t,e,r){var n=r("JB68"),i=r("w6GO");r("zn7N")("keys",function(){return function(t){return i(n(t))}})},MtdB:function(t,e,r){var n=r("XKFU");n(n.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},Mukb:function(t,e,r){var n=r("hswa"),i=r("RjD/");t.exports=r("nh4g")?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},MvwC:function(t,e,r){var n=r("5T2Y").document;t.exports=n&&n.documentElement},N6cJ:function(t,e,r){var n=r("9AAn"),i=r("XKFU"),o=r("VTer")("metadata"),s=o.store||(o.store=new(r("EK0E"))),a=function(t,e,r){var i=s.get(t);if(!i){if(!r)return;s.set(t,i=new n)}var o=i.get(e);if(!o){if(!r)return;i.set(e,o=new n)}return o};t.exports={store:s,map:a,has:function(t,e,r){var n=a(e,r,!1);return void 0!==n&&n.has(t)},get:function(t,e,r){var n=a(e,r,!1);return void 0===n?void 0:n.get(t)},set:function(t,e,r,n){a(r,n,!0).set(t,e)},keys:function(t,e){var r=a(t,e,!1),n=[];return r&&r.forEach(function(t,e){n.push(e)}),n},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){i(i.S,"Reflect",t)}}},N7VW:function(t,e,r){"use strict";var n=r("XKFU"),i=r("dyZX"),o=r("g3g5"),s=r("gHnn")(),a=r("K0xU")("observable"),u=r("2OiF"),l=r("y3w9"),h=r("9gX7"),c=r("3Lyj"),f=r("Mukb"),p=r("SlkY"),d=p.RETURN,g=function(t){return null==t?void 0:u(t)},v=function(t){var e=t._c;e&&(t._c=void 0,e())},m=function(t){return void 0===t._o},y=function(t){m(t)||(t._o=void 0,v(t))},x=function(t,e){l(t),this._c=void 0,this._o=t,t=new b(this);try{var r=e(t),n=r;null!=r&&("function"==typeof r.unsubscribe?r=function(){n.unsubscribe()}:u(r),this._c=r)}catch(e){return void t.error(e)}m(this)&&v(this)};x.prototype=c({},{unsubscribe:function(){y(this)}});var b=function(t){this._s=t};b.prototype=c({},{next:function(t){var e=this._s;if(!m(e)){var r=e._o;try{var n=g(r.next);if(n)return n.call(r,t)}catch(t){try{y(e)}finally{throw t}}}},error:function(t){var e=this._s;if(m(e))throw t;var r=e._o;e._o=void 0;try{var n=g(r.error);if(!n)throw t;t=n.call(r,t)}catch(t){try{v(e)}finally{throw t}}return v(e),t},complete:function(t){var e=this._s;if(!m(e)){var r=e._o;e._o=void 0;try{var n=g(r.complete);t=n?n.call(r,t):void 0}catch(t){try{v(e)}finally{throw t}}return v(e),t}}});var _=function(t){h(this,_,"Observable","_f")._f=u(t)};c(_.prototype,{subscribe:function(t){return new x(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||i.Promise)(function(r,n){u(t);var i=e.subscribe({next:function(e){try{return t(e)}catch(t){n(t),i.unsubscribe()}},error:n,complete:r})})}}),c(_,{from:function(t){var e="function"==typeof this?this:_,r=g(l(t)[a]);if(r){var n=l(r.call(t));return n.constructor===e?n:new e(function(t){return n.subscribe(t)})}return new e(function(e){var r=!1;return s(function(){if(!r){try{if(p(t,!1,function(t){if(e.next(t),r)return d})===d)return}catch(t){if(r)throw t;return void e.error(t)}e.complete()}}),function(){r=!0}})},of:function(){for(var t=0,e=arguments.length,r=new Array(e);t<e;)r[t]=arguments[t++];return new("function"==typeof this?this:_)(function(t){var e=!1;return s(function(){if(!e){for(var n=0;n<r.length;++n)if(t.next(r[n]),e)return;t.complete()}}),function(){e=!0}})}}),f(_.prototype,a,function(){return this}),n(n.G,{Observable:_}),r("elZq")("Observable")},N8g3:function(t,e,r){e.f=r("K0xU")},NE08:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAWCAYAAAAinad/AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhGOUJGNUJCNUQxNTExRTU4MjlERDcxNEI3NTM3MEQ1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjhGOUJGNUJDNUQxNTExRTU4MjlERDcxNEI3NTM3MEQ1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OEY5QkY1Qjk1RDE1MTFFNTgyOURENzE0Qjc1MzcwRDUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OEY5QkY1QkE1RDE1MTFFNTgyOURENzE0Qjc1MzcwRDUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz61RqiGAAAAvElEQVR42qzVoQoCQRSF4d1FFjQZBJvNYrMbfAuxGo1uNRoNNpPV4gMYTVaj3SgGmyCi438X7hPcc+CbeGCYmTtZSumIPrIoWyxvrNFWlHnumKFQlHkuGKnKLD/s0VOUeV5Yoqko89wwUZV5ThiqyixfbNFRlHmeWKBhZXmqK8O5oioyTcp6FWyzQhk9gB260QM4K66GXdop8uhzWqEVfU4HxUO3ETSOjqAH5tHh+MFGMbbtQxkoPpS/AAMAGbchRa3jSiEAAAAASUVORK5CYII="},NK5I:function(t,e,r){(function(e,r){var n;(function(){t.exports=function t(e,r,i){function o(a,u){if(!r[a]){if(!e[a]){var l="function"==typeof n&&n;if(!u&&l)return n(a,!0);if(s)return s(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var c=r[a]={exports:{}};e[a][0].call(c.exports,function(t){var r=e[a][1][t];return o(r||t)},c,c.exports,t,e,r,i)}return r[a].exports}for(var s="function"==typeof n&&n,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,n,i){(function(t,e){!function(){function i(){}function o(t){return t}function s(t){return!!t}function a(t){return!t}function u(t){return function(){if(null===t)throw new Error("Callback was already called.");t.apply(this,arguments),t=null}}function l(t){return function(){null!==t&&(t.apply(this,arguments),t=null)}}function h(t){return $(t)||"number"==typeof t.length&&t.length>=0&&t.length%1==0}function c(t,e){for(var r=-1,n=t.length;++r<n;)e(t[r],r,t)}function f(t,e){for(var r=-1,n=t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function p(t){return f(Array(t),function(t,e){return e})}function d(t,e,r){return c(t,function(t,n,i){r=e(r,t,n,i)}),r}function g(t,e){c(j(t),function(r){e(t[r],r)})}function v(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return r;return-1}function m(t){var e,r,n=-1;return h(t)?(e=t.length,function(){return e>++n?n:null}):(r=j(t),e=r.length,function(){return e>++n?r[n]:null})}function y(t,e){return e=null==e?t.length-1:+e,function(){for(var r=Math.max(arguments.length-e,0),n=Array(r),i=0;r>i;i++)n[i]=arguments[i+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n)}}}function x(t){return function(e,r,n){return t(e,n)}}function b(t){return function(e,r,n){n=l(n||i);var o=m(e=e||[]);if(0>=t)return n(null);var s=!1,a=0,h=!1;!function i(){if(s&&0>=a)return n(null);for(;t>a&&!h;){var l=o();if(null===l)return s=!0,void(0>=a&&n(null));a+=1,r(e[l],l,u(function(t){a-=1,t?(n(t),h=!0):i()}))}}()}}function _(t){return function(e,r,n){return t(B.eachOf,e,r,n)}}function w(t){return function(e,r,n,i){return t(b(r),e,n,i)}}function T(t){return function(e,r,n){return t(B.eachOfSeries,e,r,n)}}function E(t,e,r,n){n=l(n||i);var o=h(e=e||[])?[]:{};t(e,function(t,e,n){r(t,function(t,r){o[e]=r,n(t)})},function(t){n(t,o)})}function S(t,e,r,n){var i=[];t(e,function(t,e,n){r(t,function(r){r&&i.push({index:e,value:t}),n()})},function(){n(f(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})}function A(t,e,r,n){S(t,e,function(t,e){r(t,function(t){e(!t)})},n)}function C(t,e,r){return function(n,i,o,s){function a(){s&&s(r(!1,void 0))}function u(t,n,i){return s?void o(t,function(n){s&&e(n)&&(s(r(!0,t)),s=o=!1),i()}):i()}arguments.length>3?t(n,i,u,a):(s=o,o=i,t(n,u,a))}}function M(t,e){return e}function R(t,e,r){r=r||i;var n=h(e)?[]:{};t(e,function(t,e,r){t(y(function(t,i){i.length<=1&&(i=i[0]),n[e]=i,r(t)}))},function(t){r(t,n)})}function O(t,e,r,n){var i=[];t(e,function(t,e,n){r(t,function(t,e){i=i.concat(e||[]),n(t)})},function(t){n(t,i)})}function P(t,e,r){function n(t,e,r,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");return t.started=!0,$(e)||(e=[e]),0===e.length&&t.idle()?B.setImmediate(function(){t.drain()}):(c(e,function(e){var o={data:e,callback:n||i};r?t.tasks.unshift(o):t.tasks.push(o),t.tasks.length===t.concurrency&&t.saturated()}),void B.setImmediate(t.process))}function o(t,e){return function(){s-=1;var r=!1,n=arguments;c(e,function(t){c(a,function(e,n){e!==t||r||(a.splice(n,1),r=!0)}),t.callback.apply(t,n)}),t.tasks.length+s===0&&t.drain(),t.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var s=0,a=[],l={tasks:[],concurrency:e,payload:r,saturated:i,empty:i,drain:i,started:!1,paused:!1,push:function(t,e){n(l,t,!1,e)},kill:function(){l.drain=i,l.tasks=[]},unshift:function(t,e){n(l,t,!0,e)},process:function(){if(!l.paused&&s<l.concurrency&&l.tasks.length)for(;s<l.concurrency&&l.tasks.length;){var e=l.payload?l.tasks.splice(0,l.payload):l.tasks.splice(0,l.tasks.length),r=f(e,function(t){return t.data});0===l.tasks.length&&l.empty(),s+=1,a.push(e[0]);var n=u(o(l,e));t(r,n)}},length:function(){return l.tasks.length},running:function(){return s},workersList:function(){return a},idle:function(){return l.tasks.length+s===0},pause:function(){l.paused=!0},resume:function(){if(!1!==l.paused){l.paused=!1;for(var t=Math.min(l.concurrency,l.tasks.length),e=1;t>=e;e++)B.setImmediate(l.process)}}};return l}function D(t){return y(function(e,r){e.apply(null,r.concat([y(function(e,r){"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&c(r,function(e){console[t](e)}))})]))})}function I(t){return function(e,r,n){t(p(e),r,n)}}function L(t){return y(function(e,r){var n=y(function(r){var n=this,i=r.pop();return t(e,function(t,e,i){t.apply(n,r.concat([i]))},i)});return r.length?n.apply(this,r):n})}function F(t){return y(function(e){var r=e.pop();e.push(function(){var t=arguments;n?B.setImmediate(function(){r.apply(null,t)}):r.apply(null,t)});var n=!0;t.apply(this,e),n=!1})}var k,B={},N="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this;null!=N&&(k=N.async),B.noConflict=function(){return N.async=k,B};var U=Object.prototype.toString,$=Array.isArray||function(t){return"[object Array]"===U.call(t)},j=Object.keys||function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e},G="function"==typeof r&&r,W=G?function(t){G(t)}:function(t){setTimeout(t,0)};"object"==typeof t&&"function"==typeof t.nextTick?B.nextTick=t.nextTick:B.nextTick=W,B.setImmediate=G?W:B.nextTick,B.forEach=B.each=function(t,e,r){return B.eachOf(t,x(e),r)},B.forEachSeries=B.eachSeries=function(t,e,r){return B.eachOfSeries(t,x(e),r)},B.forEachLimit=B.eachLimit=function(t,e,r,n){return b(e)(t,x(r),n)},B.forEachOf=B.eachOf=function(t,e,r){function n(t){a--,t?r(t):null===o&&0>=a&&r(null)}r=l(r||i);for(var o,s=m(t=t||[]),a=0;null!=(o=s());)a+=1,e(t[o],o,u(n));0===a&&r(null)},B.forEachOfSeries=B.eachOfSeries=function(t,e,r){r=l(r||i);var n=m(t=t||[]),o=n();!function i(){var s=!0;return null===o?r(null):(e(t[o],o,u(function(t){if(t)r(t);else{if(null===(o=n()))return r(null);s?B.setImmediate(i):i()}})),void(s=!1))}()},B.forEachOfLimit=B.eachOfLimit=function(t,e,r,n){b(e)(t,r,n)},B.map=_(E),B.mapSeries=T(E),B.mapLimit=w(E),B.inject=B.foldl=B.reduce=function(t,e,r,n){B.eachOfSeries(t,function(t,n,i){r(e,t,function(t,r){e=r,i(t)})},function(t){n(t,e)})},B.foldr=B.reduceRight=function(t,e,r,n){var i=f(t,o).reverse();B.reduce(i,e,r,n)},B.transform=function(t,e,r,n){3===arguments.length&&(n=r,r=e,e=$(t)?[]:{}),B.eachOf(t,function(t,n,i){r(e,t,n,i)},function(t){n(t,e)})},B.select=B.filter=_(S),B.selectLimit=B.filterLimit=w(S),B.selectSeries=B.filterSeries=T(S),B.reject=_(A),B.rejectLimit=w(A),B.rejectSeries=T(A),B.any=B.some=C(B.eachOf,s,o),B.someLimit=C(B.eachOfLimit,s,o),B.all=B.every=C(B.eachOf,a,a),B.everyLimit=C(B.eachOfLimit,a,a),B.detect=C(B.eachOf,o,M),B.detectSeries=C(B.eachOfSeries,o,M),B.detectLimit=C(B.eachOfLimit,o,M),B.sortBy=function(t,e,r){function n(t,e){var r=t.criteria,n=e.criteria;return n>r?-1:r>n?1:0}B.map(t,function(t,r){e(t,function(e,n){e?r(e):r(null,{value:t,criteria:n})})},function(t,e){return t?r(t):void r(null,f(e.sort(n),function(t){return t.value}))})},B.auto=function(t,e,r){function n(t){p.unshift(t)}function o(t){var e=v(p,t);e>=0&&p.splice(e,1)}function s(){u--,c(p.slice(0),function(t){t()})}r||(r=e,e=null),r=l(r||i);var a=j(t),u=a.length;if(!u)return r(null);e||(e=u);var h={},f=0,p=[];n(function(){u||r(null,h)}),c(a,function(i){function a(){return e>f&&d(p,function(t,e){return t&&h.hasOwnProperty(e)},!0)&&!h.hasOwnProperty(i)}for(var u,l=$(t[i])?t[i]:[t[i]],c=y(function(t,e){if(f--,e.length<=1&&(e=e[0]),t){var n={};g(h,function(t,e){n[e]=t}),n[i]=e,r(t,n)}else h[i]=e,B.setImmediate(s)}),p=l.slice(0,l.length-1),m=p.length;m--;){if(!(u=t[p[m]]))throw new Error("Has inexistant dependency");if($(u)&&v(u,i)>=0)throw new Error("Has cyclic dependencies")}a()?(f++,l[l.length-1](c,h)):n(function t(){a()&&(f++,o(t),l[l.length-1](c,h))})})},B.retry=function(t,e,r){function n(t,e){function r(t,r){return function(n){t(function(t,e){n(!t||r,{err:t,result:e})},e)}}function n(t){return function(e){setTimeout(function(){e(null)},t)}}for(;a.times;){var i=!(a.times-=1);s.push(r(a.task,i)),!i&&a.interval>0&&s.push(n(a.interval))}B.series(s,function(e,r){r=r[r.length-1],(t||a.callback)(r.err,r.result)})}var i=5,o=0,s=[],a={times:i,interval:o},u=arguments.length;if(1>u||u>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return 2>=u&&"function"==typeof t&&(r=e,e=t),"function"!=typeof t&&function(t,e){if("number"==typeof e)t.times=parseInt(e,10)||i;else{if("object"!=typeof e)throw new Error("Unsupported argument type for 'times': "+typeof e);t.times=parseInt(e.times,10)||i,t.interval=parseInt(e.interval,10)||o}}(a,t),a.callback=r,a.task=e,a.callback?n():n},B.waterfall=function(t,e){if(e=l(e||i),!$(t)){var r=new Error("First argument to waterfall must be an array of functions");return e(r)}return t.length?void function t(r){return y(function(n,i){if(n)e.apply(null,[n].concat(i));else{var o=r.next();o?i.push(t(o)):i.push(e),F(r).apply(null,i)}})}(B.iterator(t))():e()},B.parallel=function(t,e){R(B.eachOf,t,e)},B.parallelLimit=function(t,e,r){R(b(e),t,r)},B.series=function(t,e){R(B.eachOfSeries,t,e)},B.iterator=function(t){return function e(r){function n(){return t.length&&t[r].apply(null,arguments),n.next()}return n.next=function(){return r<t.length-1?e(r+1):null},n}(0)},B.apply=y(function(t,e){return y(function(r){return t.apply(null,e.concat(r))})}),B.concat=_(O),B.concatSeries=T(O),B.whilst=function(t,e,r){if(r=r||i,t()){var n=y(function(i,o){i?r(i):t.apply(this,o)?e(n):r(null)});e(n)}else r(null)},B.doWhilst=function(t,e,r){var n=0;return B.whilst(function(){return++n<=1||e.apply(this,arguments)},t,r)},B.until=function(t,e,r){return B.whilst(function(){return!t.apply(this,arguments)},e,r)},B.doUntil=function(t,e,r){return B.doWhilst(t,function(){return!e.apply(this,arguments)},r)},B.during=function(t,e,r){r=r||i;var n=y(function(e,n){e?r(e):(n.push(o),t.apply(this,n))}),o=function(t,i){t?r(t):i?e(n):r(null)};t(o)},B.doDuring=function(t,e,r){var n=0;B.during(function(t){n++<1?t(null,!0):e.apply(this,arguments)},t,r)},B.queue=function(t,e){var r=P(function(e,r){t(e[0],r)},e,1);return r},B.priorityQueue=function(t,e){function r(t,e){return t.priority-e.priority}function n(t,e,n,o){if(null!=o&&"function"!=typeof o)throw new Error("task callback must be a function");return t.started=!0,$(e)||(e=[e]),0===e.length?B.setImmediate(function(){t.drain()}):void c(e,function(e){var s={data:e,priority:n,callback:"function"==typeof o?o:i};t.tasks.splice(function(t,e,r){for(var n=-1,i=t.length-1;i>n;){var o=n+(i-n+1>>>1);r(e,t[o])>=0?n=o:i=o-1}return n}(t.tasks,s,r)+1,0,s),t.tasks.length===t.concurrency&&t.saturated(),B.setImmediate(t.process)})}var o=B.queue(t,e);return o.push=function(t,e,r){n(o,t,e,r)},delete o.unshift,o},B.cargo=function(t,e){return P(t,1,e)},B.log=D("log"),B.dir=D("dir"),B.memoize=function(t,e){var r={},n={};e=e||o;var i=y(function(i){var o=i.pop(),s=e.apply(null,i);s in r?B.setImmediate(function(){o.apply(null,r[s])}):s in n?n[s].push(o):(n[s]=[o],t.apply(null,i.concat([y(function(t){r[s]=t;var e=n[s];delete n[s];for(var i=0,o=e.length;o>i;i++)e[i].apply(null,t)})])))});return i.memo=r,i.unmemoized=t,i},B.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},B.times=I(B.map),B.timesSeries=I(B.mapSeries),B.timesLimit=function(t,e,r,n){return B.mapLimit(p(t),e,r,n)},B.seq=function(){var t=arguments;return y(function(e){var r=this,n=e[e.length-1];"function"==typeof n?e.pop():n=i,B.reduce(t,e,function(t,e,n){e.apply(r,t.concat([y(function(t,e){n(t,e)})]))},function(t,e){n.apply(r,[t].concat(e))})})},B.compose=function(){return B.seq.apply(null,Array.prototype.reverse.call(arguments))},B.applyEach=L(B.eachOf),B.applyEachSeries=L(B.eachOfSeries),B.forever=function(t,e){var r=u(e||i),n=F(t);!function t(e){return e?r(e):void n(t)}()},B.ensureAsync=F,B.constant=y(function(t){var e=[null].concat(t);return function(t){return t.apply(this,e)}}),B.wrapSync=B.asyncify=function(t){return y(function(e){var r,n=e.pop();try{r=t.apply(this,e)}catch(t){return n(t)}!function(t){var e=typeof t;return"function"===e||"object"===e&&!!t}(r)||"function"!=typeof r.then?n(null,r):r.then(function(t){n(null,t)}).catch(function(t){n(t.message?t:new Error(t))})})},"object"==typeof n&&n.exports?n.exports=B:N.async=B}()}).call(this,t("_process"),void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:3}],2:[function(t,e,r){(function(t){function e(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};r.resolve=function(){for(var r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(r=s+"/"+r,i="/"===s.charAt(0))}return r=e(n(r.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+r||"."},r.normalize=function(t){var i=r.isAbsolute(t),o="/"===s(t,-1);return(t=e(n(t.split("/"),function(t){return!!t}),!i).join("/"))||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},r.isAbsolute=function(t){return"/"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(n(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},r.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=r.resolve(t).substr(1),e=r.resolve(e).substr(1);for(var i=n(t.split("/")),o=n(e.split("/")),s=Math.min(i.length,o.length),a=s,u=0;s>u;u++)if(i[u]!==o[u]){a=u;break}for(var l=[],u=a;u<i.length;u++)l.push("..");return(l=l.concat(o.slice(a))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(t){var e=o(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(t,e){var r=o(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},r.extname=function(t){return o(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return 0>e&&(e=t.length+e),t.substr(e,r)}}).call(this,t("_process"))},{_process:3}],3:[function(t,e,r){function n(){h=!1,a.length?l=a.concat(l):c=-1,l.length&&i()}function i(){if(!h){var t=setTimeout(n);h=!0;for(var e=l.length;e;){for(a=l,l=[];++c<e;)a&&a[c].run();c=-1,e=l.length}a=null,h=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function s(){}var a,u=e.exports={},l=[],h=!1,c=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new o(t,e)),1!==l.length||h||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=s,u.addListener=s,u.once=s,u.off=s,u.removeListener=s,u.removeAllListeners=s,u.emit=s,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],4:[function(t,r,n){(function(t){!function(e){function i(t){throw RangeError(P[t])}function o(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function s(t,e){var r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]);var i=(t=t.replace(O,".")).split("."),s=o(i,e).join(".");return n+s}function a(t){for(var e,r,n=[],i=0,o=t.length;o>i;)(e=t.charCodeAt(i++))>=55296&&56319>=e&&o>i?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function u(t){return o(t,function(t){var e="";return t>65535&&(e+=L((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=L(t)}).join("")}function l(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:b}function h(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function c(t,e,r){var n=0;for(t=r?I(t/E):t>>1,t+=I(t/e);t>D*w>>1;n+=b)t=I(t/D);return I(n+(D+1)*t/(t+T))}function f(t){var e,r,n,o,s,a,h,f,p,d,g=[],v=t.length,m=0,y=A,T=S;for(0>(r=t.lastIndexOf(C))&&(r=0),n=0;r>n;++n)t.charCodeAt(n)>=128&&i("not-basic"),g.push(t.charCodeAt(n));for(o=r>0?r+1:0;v>o;){for(s=m,a=1,h=b;o>=v&&i("invalid-input"),((f=l(t.charCodeAt(o++)))>=b||f>I((x-m)/a))&&i("overflow"),m+=f*a,!((p=T>=h?_:h>=T+w?w:h-T)>f);h+=b)a>I(x/(d=b-p))&&i("overflow"),a*=d;e=g.length+1,T=c(m-s,e,0==s),I(m/e)>x-y&&i("overflow"),y+=I(m/e),m%=e,g.splice(m++,0,y)}return u(g)}function p(t){var e,r,n,o,s,u,l,f,p,d,g,v,m,y,T,E=[];for(t=a(t),v=t.length,e=A,r=0,s=S,u=0;v>u;++u)128>(g=t[u])&&E.push(L(g));for(n=o=E.length,o&&E.push(C);v>n;){for(l=x,u=0;v>u;++u)(g=t[u])>=e&&l>g&&(l=g);for(l-e>I((x-r)/(m=n+1))&&i("overflow"),r+=(l-e)*m,e=l,u=0;v>u;++u)if(g=t[u],e>g&&++r>x&&i("overflow"),g==e){for(f=r,p=b;!((d=s>=p?_:p>=s+w?w:p-s)>f);p+=b)T=f-d,y=b-d,E.push(L(h(d+T%y,0))),f=I(T/y);E.push(L(h(f,0))),s=c(r,m,n==o),r=0,++n}++r,++e}return E.join("")}var d="object"==typeof n&&n&&!n.nodeType&&n,g="object"==typeof r&&r&&!r.nodeType&&r,v="object"==typeof t&&t;(v.global===v||v.window===v||v.self===v)&&(e=v);var m,y,x=2147483647,b=36,_=1,w=26,T=38,E=700,S=72,A=128,C="-",M=/^xn--/,R=/[^\x20-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=b-_,I=Math.floor,L=String.fromCharCode;if(m={version:"1.3.2",ucs2:{decode:a,encode:u},decode:f,encode:p,toASCII:function(t){return s(t,function(t){return R.test(t)?"xn--"+p(t):t})},toUnicode:function(t){return s(t,function(t){return M.test(t)?f(t.slice(4).toLowerCase()):t})}},d&&g)if(r.exports==d)g.exports=m;else for(y in m)m.hasOwnProperty(y)&&(d[y]=m[y]);else e.punycode=m}(this)}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=t.length;u>0&&l>u&&(l=u);for(var h=0;l>h;++h){var c,f,p,d,g=t[h].replace(a,"%20"),v=g.indexOf(r);v>=0?(c=g.substr(0,v),f=g.substr(v+1)):(c=g,f=""),p=decodeURIComponent(c),d=decodeURIComponent(f),n(s,p)?i(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],6:[function(t,e,r){"use strict";function n(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?n(s(t),function(s){var a=encodeURIComponent(i(s))+r;return o(t[s])?n(t[s],function(t){return a+encodeURIComponent(i(t))}).join(e):a+encodeURIComponent(i(t[s]))}).join(e):a?encodeURIComponent(i(a))+r+encodeURIComponent(i(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],7:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":5,"./encode":6}],8:[function(t,e,r){function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,r){if(t&&s(t)&&t instanceof n)return t;var i=new n;return i.parse(t,e,r),i}function o(t){return"string"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){return null===t}var u=t("punycode");r.parse=i,r.resolve=function(t,e){return i(t,!1,!0).resolve(e)},r.resolveObject=function(t,e){return t?i(t,!1,!0).resolveObject(e):e},r.format=function(t){return o(t)&&(t=i(t)),t instanceof n?t.format():n.prototype.format.call(t)},r.Url=n;var l=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(c),p=["%","/","?",";","#"].concat(f),d=["/","?","#"],g=/^[a-z0-9A-Z_-]{0,63}$/,v=/^([a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},x={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=t("querystring");n.prototype.parse=function(t,e,r){if(!o(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t;n=n.trim();var i=l.exec(n);if(i){var s=(i=i[0]).toLowerCase();this.protocol=s,n=n.substr(i.length)}if(r||i||n.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===n.substr(0,2);!a||i&&y[i]||(n=n.substr(2),this.slashes=!0)}if(!y[i]&&(a||i&&!x[i])){for(var h=-1,c=0;c<d.length;c++){var _=n.indexOf(d[c]);-1!==_&&(-1===h||h>_)&&(h=_)}var w,T;-1!==(T=-1===h?n.lastIndexOf("@"):n.lastIndexOf("@",h))&&(w=n.slice(0,T),n=n.slice(T+1),this.auth=decodeURIComponent(w)),h=-1;for(var c=0;c<p.length;c++){var _=n.indexOf(p[c]);-1!==_&&(-1===h||h>_)&&(h=_)}-1===h&&(h=n.length),this.host=n.slice(0,h),n=n.slice(h),this.parseHost(),this.hostname=this.hostname||"";var E="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!E)for(var S=this.hostname.split(/\./),c=0,A=S.length;A>c;c++){var C=S[c];if(C&&!C.match(g)){for(var M="",R=0,O=C.length;O>R;R++)M+=C.charCodeAt(R)>127?"x":C[R];if(!M.match(g)){var P=S.slice(0,c),D=S.slice(c+1),I=C.match(v);I&&(P.push(I[1]),D.unshift(I[2])),D.length&&(n="/"+D.join(".")+n),this.hostname=P.join(".");break}}}if(this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),!E){for(var L=this.hostname.split("."),F=[],c=0;c<L.length;++c){var k=L[c];F.push(k.match(/[^A-Za-z0-9_-]/)?"xn--"+u.encode(k):k)}this.hostname=F.join(".")}var B=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+B,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==n[0]&&(n="/"+n))}if(!m[s])for(var c=0,A=f.length;A>c;c++){var U=f[c],$=encodeURIComponent(U);$===U&&($=escape(U)),n=n.split(U).join($)}var j=n.indexOf("#");-1!==j&&(this.hash=n.substr(j),n=n.slice(0,j));var G=n.indexOf("?");if(-1!==G?(this.search=n.substr(G),this.query=n.substr(G+1),e&&(this.query=b.parse(this.query)),n=n.slice(0,G)):e&&(this.search="",this.query={}),n&&(this.pathname=n),x[s]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",k=this.search||"";this.path=B+k}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&s(this.query)&&Object.keys(this.query).length&&(o=b.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||x[e])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+i+r+a+n},n.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(o(t)){var e=new n;e.parse(t,!1,!0),t=e}var r=new n;if(Object.keys(this).forEach(function(t){r[t]=this[t]},this),r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(r[e]=t[e])}),x[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r;if(t.protocol&&t.protocol!==r.protocol){if(!x[t.protocol])return Object.keys(t).forEach(function(e){r[e]=t[e]}),r.href=r.format(),r;if(r.protocol=t.protocol,t.host||y[t.protocol])r.pathname=t.pathname;else{for(var i=(t.pathname||"").split("/");i.length&&!(t.host=i.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),r.pathname=i.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var s=r.pathname||"",u=r.search||"";r.path=s+u}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var l=r.pathname&&"/"===r.pathname.charAt(0),h=t.host||t.pathname&&"/"===t.pathname.charAt(0),c=h||l||r.host&&t.pathname,f=c,p=r.pathname&&r.pathname.split("/")||[],i=t.pathname&&t.pathname.split("/")||[],d=r.protocol&&!x[r.protocol];if(d&&(r.hostname="",r.port=null,r.host&&(""===p[0]?p[0]=r.host:p.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===i[0]?i[0]=t.host:i.unshift(t.host)),t.host=null),c=c&&(""===i[0]||""===p[0])),h)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,p=i;else if(i.length)p||(p=[]),p.pop(),p=p.concat(i),r.search=t.search,r.query=t.query;else if(!function(t){return null==t}(t.search)){if(d){r.hostname=r.host=p.shift();var g=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");g&&(r.auth=g.shift(),r.host=r.hostname=g.shift())}return r.search=t.search,r.query=t.query,a(r.pathname)&&a(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!p.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var v=p.slice(-1)[0],m=(r.host||t.host)&&("."===v||".."===v)||""===v,b=0,_=p.length;_>=0;_--)"."==(v=p[_])?p.splice(_,1):".."===v?(p.splice(_,1),b++):b&&(p.splice(_,1),b--);if(!c&&!f)for(;b--;b)p.unshift("..");!c||""===p[0]||p[0]&&"/"===p[0].charAt(0)||p.unshift(""),m&&"/"!==p.join("/").substr(-1)&&p.push("");var w=""===p[0]||p[0]&&"/"===p[0].charAt(0);if(d){r.hostname=r.host=w?"":p.length?p.shift():"";var g=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");g&&(r.auth=g.shift(),r.host=r.hostname=g.shift())}return(c=c||r.host&&p.length)&&!w&&p.unshift(""),p.length?r.pathname=p.join("/"):(r.pathname=null,r.path=null),a(r.pathname)&&a(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var t=this.host,e=h.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{punycode:4,querystring:7}],9:[function(t,e,r){"use strict";function n(t,e,r,n,i){var o,s,a,u=0;for(o=e,s=r-n;r>o;o+=n)u+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;if(i===u>0)for(o=e;r>o;o+=n)a=w(o,t[o],t[o+1],a);else for(o=r-n;o>=e;o-=n)a=w(o,t[o],t[o+1],a);return a}function i(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!y(n,n.next)&&0!==m(n.prev,n,n.next))n=n.next;else{if(T(n),(n=e=n.prev)===n.next)return null;r=!0}}while(r||n!==e);return e}function o(t,e,r,n,h,c,f){if(t){!f&&c&&function(t,e,r,n){var i=t;do{null===i.z&&(i.z=p(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,o,s,a,u,l=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,n=r,a=0,e=0;l>e&&(a++,n=n.nextZ);e++);for(u=l;a>0||u>0&&n;)0===a?(i=n,n=n.nextZ,u--):0!==u&&n?r.z<=n.z?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--):(i=r,r=r.nextZ,a--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,l*=2}while(s>1)}(i)}(t,n,h,c);for(var d,g,v=t;t.prev!==t.next;)if(d=t.prev,g=t.next,c?a(t,n,h,c):s(t))e.push(d.i/r),e.push(t.i/r),e.push(g.i/r),T(t),t=g.next,v=g.next;else if((t=g)===v){f?1===f?o(t=u(t,e,r),e,r,n,h,c,2):2===f&&l(t,e,r,n,h,c):o(i(t),e,r,n,h,c,1);break}}}function s(t){var e=t.prev,r=t,n=t.next;if(m(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(g(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&m(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function a(t,e,r,n){var i=t.prev,o=t,s=t.next;if(m(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,l=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,h=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,c=p(a,u,e,r,n),f=p(l,h,e,r,n),d=t.nextZ;d&&d.z<=f;){if(d!==t.prev&&d!==t.next&&g(i.x,i.y,o.x,o.y,s.x,s.y,d.x,d.y)&&m(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&g(i.x,i.y,o.x,o.y,s.x,s.y,d.x,d.y)&&m(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function u(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;x(i,n,n.next,o)&&b(i,o)&&b(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),T(n),T(n.next),n=t=o),n=n.next}while(n!==t);return n}function l(t,e,r,n,s,a){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&v(u,l)){var h=_(u,l);return u=i(u,u.next),h=i(h,h.next),o(u,e,r,n,s,a),void o(h,e,r,n,s,a)}l=l.next}u=u.next}while(u!==t)}function h(t,e,r,o){var s,a,u,l,h,p=[];for(s=0,a=e.length;a>s;s++)u=e[s]*o,l=a-1>s?e[s+1]*o:t.length,(h=n(t,u,l,o,!1))===h.next&&(h.steiner=!0),p.push(d(h));for(p.sort(c),s=0;s<p.length;s++)f(p[s],r),r=i(r,r.next);return r}function c(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var r,n=e,i=t.x,o=t.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);i>=a&&a>s&&(s=a,r=n.x<n.next.x?n:n.next)}n=n.next}while(n!==e);if(!r)return null;var u,l=r,h=1/0;for(n=r.next;n!==l;)i>=n.x&&n.x>=r.x&&g(o<r.y?i:s,o,r.x,r.y,o<r.y?s:i,o,n.x,n.y)&&(u=Math.abs(o-n.y)/(i-n.x),(h>u||u===h&&n.x>r.x)&&b(n,t)&&(r=n,h=u)),n=n.next;return r}(t,e)){var r=_(e,t);i(r,r.next)}}function p(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)/i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)/i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function d(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next}while(e!==t);return r}function g(t,e,r,n,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(i-s)*(n-a)>=0}function v(t,e){return y(t,e)||t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&x(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&b(t,e)&&b(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)}function m(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function y(t,e){return t.x===e.x&&t.y===e.y}function x(t,e,r,n){return m(t,e,r)>0!=m(t,e,n)>0&&m(r,n,t)>0!=m(r,n,e)>0}function b(t,e){return m(t.prev,t,t.next)<0?m(t,e,t.next)>=0&&m(t,t.prev,e)>=0:m(t,e,t.prev)<0||m(t,t.next,e)<0}function _(t,e){var r=new E(t.i,t.x,t.y),n=new E(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function w(t,e,r,n){var i=new E(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function T(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function E(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}e.exports=function(t,e,r){r=r||2;var i,s,a,u,l,c,f,p=e&&e.length,d=p?e[0]*r:t.length,g=n(t,0,d,r,!0),v=[];if(!g)return v;if(p&&(g=h(t,e,g,r)),t.length>80*r){i=a=t[0],s=u=t[1];for(var m=r;d>m;m+=r)l=t[m],c=t[m+1],i>l&&(i=l),s>c&&(s=c),l>a&&(a=l),c>u&&(u=c);f=Math.max(a-i,u-s)}return o(g,v,r,i,s,f),v}},{}],10:[function(t,e,r){"use strict";function n(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function i(){}var o="function"!=typeof Object.create&&"~";i.prototype._events=void 0,i.prototype.listeners=function(t,e){var r=o?o+t:t,n=this._events&&this._events[r];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,a=new Array(s);s>i;i++)a[i]=n[i].fn;return a},i.prototype.emit=function(t,e,r,n,i,s){var a=o?o+t:t;if(!this._events||!this._events[a])return!1;var u,l,h=this._events[a],c=arguments.length;if("function"==typeof h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),c){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,r),!0;case 4:return h.fn.call(h.context,e,r,n),!0;case 5:return h.fn.call(h.context,e,r,n,i),!0;case 6:return h.fn.call(h.context,e,r,n,i,s),!0}for(l=1,u=new Array(c-1);c>l;l++)u[l-1]=arguments[l];h.fn.apply(h.context,u)}else{var f,p=h.length;for(l=0;p>l;l++)switch(h[l].once&&this.removeListener(t,h[l].fn,void 0,!0),c){case 1:h[l].fn.call(h[l].context);break;case 2:h[l].fn.call(h[l].context,e);break;case 3:h[l].fn.call(h[l].context,e,r);break;default:if(!u)for(f=1,u=new Array(c-1);c>f;f++)u[f-1]=arguments[f];h[l].fn.apply(h[l].context,u)}}return!0},i.prototype.on=function(t,e,r){var i=new n(e,r||this),s=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],i]:this._events[s].push(i):this._events[s]=i,this},i.prototype.once=function(t,e,r){var i=new n(e,r||this,!0),s=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],i]:this._events[s].push(i):this._events[s]=i,this},i.prototype.removeListener=function(t,e,r,n){var i=o?o+t:t;if(!this._events||!this._events[i])return this;var s=this._events[i],a=[];if(e)if(s.fn)(s.fn!==e||n&&!s.once||r&&s.context!==r)&&a.push(s);else for(var u=0,l=s.length;l>u;u++)(s[u].fn!==e||n&&!s[u].once||r&&s[u].context!==r)&&a.push(s[u]);return a.length?this._events[i]=1===a.length?a[0]:a:delete this._events[i],this},i.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[o?o+t:t]:this._events=o?{}:Object.create(null),this):this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=o,void 0!==e&&(e.exports=i)},{}],11:[function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=Object.assign||function(t,e){for(var r,o,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),a=1;a<arguments.length;a++){for(var u in r=Object(arguments[a]))n.call(r,u)&&(s[u]=r[u]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(r);for(var l=0;l<o.length;l++)i.call(r,o[l])&&(s[o[l]]=r[o[l]])}}return s}},{}],12:[function(t,e,r){e.exports={name:"pixi.js",version:"3.0.9",description:"Pixi.js is a fast lightweight 2D library that works across all devices.",author:"Mat Groves",contributors:["Chad Engler <chad@pantherdev.com>","Richard Davey <rdavey@gmail.com>"],main:"./src/index.js",homepage:"http://goodboydigital.com/",bugs:"https://github.com/pixijs/pixi.js/issues",license:"MIT",repository:{type:"git",url:"https://github.com/pixijs/pixi.js.git"},scripts:{start:"gulp && gulp watch",test:"gulp && testem ci",build:"gulp",docs:"jsdoc -c ./gulp/util/jsdoc.conf.json -R README.md"},files:["bin/","src/","CONTRIBUTING.md","LICENSE","package.json","README.md"],dependencies:{async:"^1.5.0",brfs:"^1.4.1",earcut:"^2.0.7",eventemitter3:"^1.1.1","object-assign":"^4.0.1","resource-loader":"^1.6.4"},devDependencies:{browserify:"^11.1.0",chai:"^3.2.0",del:"^2.0.2",gulp:"^3.9.0","gulp-cached":"^1.1.0","gulp-concat":"^2.6.0","gulp-debug":"^2.1.0","gulp-header":"^1.7.1","gulp-jshint":"^1.11.2","gulp-mirror":"^0.4.0","gulp-plumber":"^1.0.1","gulp-rename":"^1.2.2","gulp-sourcemaps":"^1.5.2","gulp-uglify":"^1.4.1","gulp-util":"^3.0.6","jaguarjs-jsdoc":"git+https://github.com/davidshimjs/jaguarjs-jsdoc.git",jsdoc:"^3.3.2","jshint-summary":"^0.4.0",minimist:"^1.2.0",mocha:"^2.3.2","require-dir":"^0.3.0","run-sequence":"^1.1.2",testem:"^0.9.4","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0",watchify:"^3.4.0"},browserify:{transform:["brfs"]}}},{}],13:[function(t,e,r){function n(t){var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.zIndex=2,this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,window.addEventListener("keydown",this._onKeyDown,!1)}var i=t("../core");Object.assign(i.DisplayObject.prototype,t("./accessibleTarget")),n.prototype.constructor=n,e.exports=n,n.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode.appendChild(this.div))},n.prototype.deactivate=function(){this.isActive&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode.removeChild(this.div))},n.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=e.length-1;r>=0;r--)this.updateAccessibleObjects(e[r])}},n.prototype.update=function(){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,n=this.div;n.style.left=t.left+"px",n.style.top=t.top+"px",n.style.width=this.renderer.width+"px",n.style.height=this.renderer.height+"px";for(var o=0;o<this.children.length;o++){var s=this.children[o];if(s.renderId!==this.renderId)s._accessibleActive=!1,i.utils.removeItems(this.children,o,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,o--,0===this.children.length&&this.deactivate();else{n=s._accessibleDiv;var a=s.hitArea,u=s.worldTransform;s.hitArea?(n.style.left=(u.tx+a.x*u.a)*e+"px",n.style.top=(u.ty+a.y*u.d)*r+"px",n.style.width=a.width*u.a*e+"px",n.style.height=a.height*u.d*r+"px"):(a=s.getBounds(),this.capHitArea(a),n.style.left=a.x*e+"px",n.style.top=a.y*r+"px",n.style.width=a.width*e+"px",n.style.height=a.height*r+"px")}}this.renderId++},n.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},n.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2,e.style.borderStyle="none",e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.title=t.accessibleTitle||"displayObject "+this.tabIndex,t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},n.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},n.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},n.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},n.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},n.prototype._onMouseMove=function(){this.deactivate()},n.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},i.WebGLRenderer.registerPlugin("accessibility",n),i.CanvasRenderer.registerPlugin("accessibility",n)},{"../core":23,"./accessibleTarget":14}],14:[function(t,e,r){e.exports={accessible:!1,accessibleTitle:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],15:[function(t,e,r){e.exports={accessibleTarget:t("./accessibleTarget"),AccessibilityManager:t("./AccessibilityManager")}},{"./AccessibilityManager":13,"./accessibleTarget":14}],16:[function(t,e,r){var n={VERSION:t("../../package.json").version,PI_2:2*Math.PI,RAD_TO_DEG:180/Math.PI,DEG_TO_RAD:Math.PI/180,TARGET_FPMS:.06,RENDERER_TYPE:{UNKNOWN:0,WEBGL:1,CANVAS:2},BLEND_MODES:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},DRAW_MODES:{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},SCALE_MODES:{DEFAULT:0,LINEAR:0,NEAREST:1},RETINA_PREFIX:/@(.+)x/,RESOLUTION:1,FILTER_RESOLUTION:1,DEFAULT_RENDER_OPTIONS:{view:null,resolution:1,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},SHAPES:{POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},SPRITE_BATCH_SIZE:2e3};e.exports=n},{"../../package.json":12}],17:[function(t,e,r){function n(){s.call(this),this.children=[]}var i=t("../math"),o=t("../utils"),s=t("./DisplayObject"),a=t("../textures/RenderTexture"),u=new i.Matrix;n.prototype=Object.create(s.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{width:{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},height:{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}}),n.prototype.onChildrenChange=function(){},n.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var r=0;e>r;r++)this.addChild(arguments[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.children.push(t),this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},n.prototype.addChildAt=function(t,e){if(e>=0&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),this.onChildrenChange(e),t.emit("added",this),t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},n.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),n=this.getChildIndex(e);if(0>r||0>n)throw new Error("swapChildren: Both the supplied DisplayObjects must be children of the caller.");this.children[r]=e,this.children[n]=t,this.onChildrenChange(n>r?r:n)}},n.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},n.prototype.setChildIndex=function(t,e){if(0>e||e>=this.children.length)throw new Error("The supplied index is out of bounds");var r=this.getChildIndex(t);o.removeItems(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},n.prototype.getChildAt=function(t){if(0>t||t>=this.children.length)throw new Error("getChildAt: Supplied index "+t+" does not exist in the child list, or the supplied DisplayObject is not a child of the caller");return this.children[t]},n.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var r=0;e>r;r++)this.removeChild(arguments[r]);else{var n=this.children.indexOf(t);if(-1===n)return;t.parent=null,o.removeItems(this.children,n,1),this.onChildrenChange(n),t.emit("removed",this)}return t},n.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,o.removeItems(this.children,t,1),this.onChildrenChange(t),e.emit("removed",this),e},n.prototype.removeChildren=function(t,e){var r,n,i=t||0,o="number"==typeof e?e:this.children.length,s=o-i;if(s>0&&o>=s){for(r=this.children.splice(i,s),n=0;n<r.length;++n)r[n].parent=null;for(this.onChildrenChange(t),n=0;n<r.length;++n)r[n].emit("removed",this);return r}if(0===s&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},n.prototype.generateTexture=function(t,e,r){var n=this.getLocalBounds(),i=new a(t,0|n.width,0|n.height,r,e);return u.tx=-n.x,u.ty=-n.y,i.render(this,u),i},n.prototype.updateTransform=function(){if(this.visible){this.displayObjectUpdateTransform();for(var t=0,e=this.children.length;e>t;++t)this.children[t].updateTransform()}},n.prototype.containerUpdateTransform=n.prototype.updateTransform,n.prototype.getBounds=function(){if(!this._currentBounds){if(0===this.children.length)return i.Rectangle.EMPTY;for(var t,e,r,n=1/0,o=1/0,s=-1/0,a=-1/0,u=!1,l=0,h=this.children.length;h>l;++l){var c=this.children[l];c.visible&&(u=!0,t=this.children[l].getBounds(),n=n<t.x?n:t.x,o=o<t.y?o:t.y,e=t.width+t.x,r=t.height+t.y,s=s>e?s:e,a=a>r?a:r)}if(!u)return i.Rectangle.EMPTY;var f=this._bounds;f.x=n,f.y=o,f.width=s-n,f.height=a-o,this._currentBounds=f}return this._currentBounds},n.prototype.containerGetBounds=n.prototype.getBounds,n.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=i.Matrix.IDENTITY;for(var e=0,r=this.children.length;r>e;++e)this.children[e].updateTransform();return this.worldTransform=t,this._currentBounds=null,this.getBounds(i.Matrix.IDENTITY)},n.prototype.renderWebGL=function(t){var e,r;if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters){for(t.currentRenderer.flush(),this._filters&&this._filters.length&&t.filterManager.pushFilter(this,this._filters),this._mask&&t.maskManager.pushMask(this,this._mask),t.currentRenderer.start(),this._renderWebGL(t),e=0,r=this.children.length;r>e;e++)this.children[e].renderWebGL(t);t.currentRenderer.flush(),this._mask&&t.maskManager.popMask(this,this._mask),this._filters&&t.filterManager.popFilter(),t.currentRenderer.start()}else for(this._renderWebGL(t),e=0,r=this.children.length;r>e;++e)this.children[e].renderWebGL(t)},n.prototype._renderWebGL=function(t){},n.prototype._renderCanvas=function(t){},n.prototype.renderCanvas=function(t){if(this.visible&&!(this.alpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask,t),this._renderCanvas(t);for(var e=0,r=this.children.length;r>e;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},n.prototype.destroy=function(t){if(s.prototype.destroy.call(this),t)for(var e=0,r=this.children.length;r>e;++e)this.children[e].destroy(t);this.removeChildren(),this.children=null}},{"../math":26,"../textures/RenderTexture":64,"../utils":70,"./DisplayObject":18}],18:[function(t,e,r){function n(){s.call(this),this.position=new i.Point,this.scale=new i.Point(1,1),this.pivot=new i.Point(0,0),this.skew=new i.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this.worldTransform=new i.Matrix,this.filterArea=null,this._sr=0,this._cr=1,this._bounds=new i.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null}var i=t("../math"),o=t("../textures/RenderTexture"),s=t("eventemitter3"),a=t("../const"),u=new i.Matrix,l={worldTransform:new i.Matrix,worldAlpha:1,children:[]};n.prototype=Object.create(s.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},worldVisible:{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},mask:{get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0),this._mask=t,this._mask&&(this._mask.renderable=!1)}},filters:{get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}}),n.prototype.updateTransform=function(){var t,e,r,n,i,o,s=this.parent.worldTransform,l=this.worldTransform;this.skew.x||this.skew.y?(u.setTransform(this.position.x,this.position.y,this.pivot.x,this.pivot.y,this.scale.x,this.scale.y,this.rotation,this.skew.x,this.skew.y),l.a=u.a*s.a+u.b*s.c,l.b=u.a*s.b+u.b*s.d,l.c=u.c*s.a+u.d*s.c,l.d=u.c*s.b+u.d*s.d,l.tx=u.tx*s.a+u.ty*s.c+s.tx,l.ty=u.tx*s.b+u.ty*s.d+s.ty):this.rotation%a.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),t=this._cr*this.scale.x,e=this._sr*this.scale.x,r=-this._sr*this.scale.y,n=this._cr*this.scale.y,i=this.position.x,o=this.position.y,(this.pivot.x||this.pivot.y)&&(i-=this.pivot.x*t+this.pivot.y*r,o-=this.pivot.x*e+this.pivot.y*n),l.a=t*s.a+e*s.c,l.b=t*s.b+e*s.d,l.c=r*s.a+n*s.c,l.d=r*s.b+n*s.d,l.tx=i*s.a+o*s.c+s.tx,l.ty=i*s.b+o*s.d+s.ty):(t=this.scale.x,n=this.scale.y,i=this.position.x-this.pivot.x*t,o=this.position.y-this.pivot.y*n,l.a=t*s.a,l.b=t*s.b,l.c=n*s.c,l.d=n*s.d,l.tx=i*s.a+o*s.c+s.tx,l.ty=i*s.b+o*s.d+s.ty),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null},n.prototype.displayObjectUpdateTransform=n.prototype.updateTransform,n.prototype.getBounds=function(t){return i.Rectangle.EMPTY},n.prototype.getLocalBounds=function(){return this.getBounds(i.Matrix.IDENTITY)},n.prototype.toGlobal=function(t){return this.parent?this.displayObjectUpdateTransform():(this.parent=l,this.displayObjectUpdateTransform(),this.parent=null),this.worldTransform.apply(t)},n.prototype.toLocal=function(t,e,r){return e&&(t=e.toGlobal(t)),this.parent?this.displayObjectUpdateTransform():(this.parent=l,this.displayObjectUpdateTransform(),this.parent=null),this.worldTransform.applyInverse(t,r)},n.prototype.renderWebGL=function(t){},n.prototype.renderCanvas=function(t){},n.prototype.generateTexture=function(t,e,r){var n=this.getLocalBounds(),i=new o(t,0|n.width,0|n.height,e,r);return u.tx=-n.x,u.ty=-n.y,i.render(this,u),i},n.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},n.prototype.setTransform=function(t,e,r,n,i,o,s,a,u){return this.position.x=t||0,this.position.y=e||0,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i||0,this.skew.x=o||0,this.skew.y=s||0,this.pivot.x=a||0,this.pivot.y=u||0,this},n.prototype.destroy=function(){this.position=null,this.scale=null,this.pivot=null,this.skew=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.worldTransform=null,this.filterArea=null}},{"../const":16,"../math":26,"../textures/RenderTexture":64,eventemitter3:10}],19:[function(t,e,r){function n(){i.call(this),this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this._prevTint=16777215,this.blendMode=h.BLEND_MODES.NORMAL,this.currentPath=null,this._webGL={},this.isMask=!1,this.boundsPadding=0,this._localBounds=new l.Rectangle(0,0,1,1),this.dirty=!0,this.glDirty=!1,this.boundsDirty=!0,this.cachedSpriteDirty=!1}var i=t("../display/Container"),o=t("../textures/Texture"),s=t("../renderers/canvas/utils/CanvasBuffer"),a=t("../renderers/canvas/utils/CanvasGraphics"),u=t("./GraphicsData"),l=t("../math"),h=t("../const"),c=new l.Point;n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.clone=function(){var t=new n;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=!0,t.glDirty=!0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var e=0;e<this.graphicsData.length;++e)t.graphicsData.push(this.graphicsData[e].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},n.prototype.lineStyle=function(t,e,r){if(this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=void 0===r?1:r,this.currentPath)if(this.currentPath.shape.points.length){var n=new l.Polygon(this.currentPath.shape.points.slice(-2));n.closed=!1,this.drawShape(n)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},n.prototype.moveTo=function(t,e){var r=new l.Polygon([t,e]);return r.closed=!1,this.drawShape(r),this},n.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty=!0,this},n.prototype.quadraticCurveTo=function(t,e,r,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var i,o,s=this.currentPath.shape.points;0===s.length&&this.moveTo(0,0);for(var a=s[s.length-2],u=s[s.length-1],l=0,h=1;20>=h;++h)i=a+(t-a)*(l=h/20),o=u+(e-u)*l,s.push(i+(t+(r-t)*l-i)*l,o+(e+(n-e)*l-o)*l);return this.dirty=this.boundsDirty=!0,this},n.prototype.bezierCurveTo=function(t,e,r,n,i,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var s,a,u,l,h,c=this.currentPath.shape.points,f=c[c.length-2],p=c[c.length-1],d=0,g=1;20>=g;++g)u=(a=(s=1-(d=g/20))*s)*s,h=(l=d*d)*d,c.push(u*f+3*a*d*t+3*s*l*r+h*i,u*p+3*a*d*e+3*s*l*n+h*o);return this.dirty=this.boundsDirty=!0,this},n.prototype.arcTo=function(t,e,r,n,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1],u=a-e,l=s-t,h=n-e,c=r-t,f=Math.abs(u*c-l*h);if(1e-8>f||0===i)(o[o.length-2]!==t||o[o.length-1]!==e)&&o.push(t,e);else{var p=u*u+l*l,d=h*h+c*c,g=u*h+l*c,v=i*Math.sqrt(p)/f,m=i*Math.sqrt(d)/f,y=v*g/p,x=m*g/d,b=v*c+m*l,_=v*h+m*u,w=l*(m+y),T=u*(m+y),E=c*(v+x),S=h*(v+x),A=Math.atan2(T-_,w-b),C=Math.atan2(S-_,E-b);this.arc(b+t,_+e,i,A,C,l*h>c*u)}return this.dirty=this.boundsDirty=!0,this},n.prototype.arc=function(t,e,r,n,i,o){if(o=o||!1,n===i)return this;!o&&n>=i?i+=2*Math.PI:o&&i>=n&&(n+=2*Math.PI);var s=o?-1*(n-i):i-n,a=40*Math.ceil(Math.abs(s)/(2*Math.PI));if(0===s)return this;var u=t+Math.cos(n)*r,l=e+Math.sin(n)*r;this.currentPath?this.currentPath.shape.points.push(u,l):this.moveTo(u,l);for(var h=this.currentPath.shape.points,c=s/(2*a),f=2*c,p=Math.cos(c),d=Math.sin(c),g=a-1,v=g%1/g,m=0;g>=m;m++){var y=m+v*m,x=c+n+f*y,b=Math.cos(x),_=-Math.sin(x);h.push((p*b+d*_)*r+t,(p*-_+d*b)*r+e)}return this.dirty=this.boundsDirty=!0,this},n.prototype.beginFill=function(t,e){return this.filling=!0,this.fillColor=t||0,this.fillAlpha=void 0===e?1:e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},n.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},n.prototype.drawRect=function(t,e,r,n){return this.drawShape(new l.Rectangle(t,e,r,n)),this},n.prototype.drawRoundedRect=function(t,e,r,n,i){return this.drawShape(new l.RoundedRectangle(t,e,r,n,i)),this},n.prototype.drawCircle=function(t,e,r){return this.drawShape(new l.Circle(t,e,r)),this},n.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new l.Ellipse(t,e,r,n)),this},n.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof l.Polygon&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}var i=new l.Polygon(e);return i.closed=r,this.drawShape(i),this},n.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},n.prototype.generateTexture=function(t,e,r){e=e||1;var n=this.getLocalBounds(),i=new s(n.width*e,n.height*e),u=o.fromCanvas(i.canvas,r);return u.baseTexture.resolution=e,i.context.scale(e,e),i.context.translate(-n.x,-n.y),a.renderGraphics(this,i.context),u},n.prototype._renderWebGL=function(t){this.glDirty&&(this.dirty=!0,this.glDirty=!1),t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this)},n.prototype._renderCanvas=function(t){if(!0!==this.isMask){this._prevTint!==this.tint&&(this.dirty=!0);var e=t.context,r=this.worldTransform,n=t.blendModes[this.blendMode];n!==e.globalCompositeOperation&&(e.globalCompositeOperation=n);var i=t.resolution;e.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),a.renderGraphics(this,e)}},n.prototype.getBounds=function(t){if(!this._currentBounds){if(!this.renderable)return l.Rectangle.EMPTY;this.boundsDirty&&(this.updateLocalBounds(),this.glDirty=!0,this.cachedSpriteDirty=!0,this.boundsDirty=!1);var e=this._localBounds,r=e.x,n=e.width+e.x,i=e.y,o=e.height+e.y,s=t||this.worldTransform,a=s.a,u=s.b,h=s.c,c=s.d,f=s.tx,p=s.ty,d=a*n+h*o+f,g=c*o+u*n+p,v=a*r+h*o+f,m=c*o+u*r+p,y=a*r+h*i+f,x=c*i+u*r+p,b=a*n+h*i+f,_=c*i+u*n+p,w=d,T=g,E=d,S=g;E=(E=(E=E>v?v:E)>y?y:E)>b?b:E,S=(S=(S=S>m?m:S)>x?x:S)>_?_:S,w=b>(w=y>(w=v>w?v:w)?y:w)?b:w,T=_>(T=x>(T=m>T?m:T)?x:T)?_:T,this._bounds.x=E,this._bounds.width=w-E,this._bounds.y=S,this._bounds.height=T-S,this._currentBounds=this._bounds}return this._currentBounds},n.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,c);for(var e=this.graphicsData,r=0;r<e.length;r++){var n=e[r];if(n.fill&&n.shape&&n.shape.contains(c.x,c.y))return!0}return!1},n.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,r=1/0,n=-1/0;if(this.graphicsData.length)for(var i,o,s,a,u,l,c=0;c<this.graphicsData.length;c++){var f=this.graphicsData[c],p=f.type,d=f.lineWidth;if(i=f.shape,p===h.SHAPES.RECT||p===h.SHAPES.RREC)s=i.x-d/2,a=i.y-d/2,u=i.width+d,l=i.height+d,t=t>s?s:t,e=s+u>e?s+u:e,r=r>a?a:r,n=a+l>n?a+l:n;else if(p===h.SHAPES.CIRC)s=i.x,a=i.y,u=i.radius+d/2,l=i.radius+d/2,t=t>s-u?s-u:t,e=s+u>e?s+u:e,r=r>a-l?a-l:r,n=a+l>n?a+l:n;else if(p===h.SHAPES.ELIP)s=i.x,a=i.y,u=i.width+d/2,l=i.height+d/2,t=t>s-u?s-u:t,e=s+u>e?s+u:e,r=r>a-l?a-l:r,n=a+l>n?a+l:n;else{o=i.points;for(var g=0;g<o.length;g+=2)s=o[g],a=o[g+1],t=t>s-d?s-d:t,e=s+d>e?s+d:e,r=r>a-d?a-d:r,n=a+d>n?a+d:n}}else t=0,e=0,r=0,n=0;var v=this.boundsPadding;this._localBounds.x=t-v,this._localBounds.width=e-t+2*v,this._localBounds.y=r-v,this._localBounds.height=n-r+2*v},n.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new u(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,t);return this.graphicsData.push(e),e.type===h.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty=this.boundsDirty=!0,e},n.prototype.destroy=function(){i.prototype.destroy.apply(this,arguments);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();for(var e in this._webgl)for(var r=0;r<this._webgl[e].data.length;++r)this._webgl[e].data[r].destroy();this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null}},{"../const":16,"../display/Container":17,"../math":26,"../renderers/canvas/utils/CanvasBuffer":38,"../renderers/canvas/utils/CanvasGraphics":39,"../textures/Texture":65,"./GraphicsData":20}],20:[function(t,e,r){function n(t,e,r,n,i,o,s){this.lineWidth=t,this.lineColor=e,this.lineAlpha=r,this._lineTint=e,this.fillColor=n,this.fillAlpha=i,this._fillTint=n,this.fill=o,this.shape=s,this.type=s.type}n.prototype.constructor=n,e.exports=n,n.prototype.clone=function(){return new n(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},n.prototype.destroy=function(){this.shape=null}},{}],21:[function(t,e,r){function n(t){a.call(this,t),this.graphicsDataPool=[],this.primitiveShader=null,this.complexPrimitiveShader=null,this.maximumSimplePolySize=200}var i=t("../../utils"),o=t("../../math"),s=t("../../const"),a=t("../../renderers/webgl/utils/ObjectRenderer"),u=t("../../renderers/webgl/WebGLRenderer"),l=t("./WebGLGraphicsData"),h=t("earcut");n.prototype=Object.create(a.prototype),n.prototype.constructor=n,e.exports=n,u.registerPlugin("graphics",n),n.prototype.onContextChange=function(){},n.prototype.destroy=function(){a.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},n.prototype.render=function(t){var e,r=this.renderer,n=r.gl,o=r.shaderManager.plugins.primitiveShader;(t.dirty||!t._webGL[n.id])&&this.updateGraphics(t);var s=t._webGL[n.id];r.blendModeManager.setBlendMode(t.blendMode);for(var a=0,u=s.data.length;u>a;a++)e=s.data[a],1===s.data[a].mode?(r.stencilManager.pushStencil(t,e),n.uniform1f(r.shaderManager.complexPrimitiveShader.uniforms.alpha._location,t.worldAlpha*e.alpha),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(e.indices.length-4)),r.stencilManager.popStencil(t,e)):(o=r.shaderManager.primitiveShader,r.shaderManager.setShader(o),n.uniformMatrix3fv(o.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),n.uniformMatrix3fv(o.uniforms.projectionMatrix._location,!1,r.currentRenderTarget.projectionMatrix.toArray(!0)),n.uniform3fv(o.uniforms.tint._location,i.hex2rgb(t.tint)),n.uniform1f(o.uniforms.alpha._location,t.worldAlpha),n.bindBuffer(n.ARRAY_BUFFER,e.buffer),n.vertexAttribPointer(o.attributes.aVertexPosition,2,n.FLOAT,!1,24,0),n.vertexAttribPointer(o.attributes.aColor,4,n.FLOAT,!1,24,8),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.indexBuffer),n.drawElements(n.TRIANGLE_STRIP,e.indices.length,n.UNSIGNED_SHORT,0)),r.drawCount++},n.prototype.updateGraphics=function(t){var e,r,n=this.renderer.gl,i=t._webGL[n.id];if(i||(i=t._webGL[n.id]={lastIndex:0,data:[],gl:n}),t.dirty=!1,t.clearDirty){for(t.clearDirty=!1,e=0;e<i.data.length;e++){var o=i.data[e];o.reset(),this.graphicsDataPool.push(o)}i.data=[],i.lastIndex=0}for(e=i.lastIndex;e<t.graphicsData.length;e++){var a=t.graphicsData[e];if(a.type===s.SHAPES.POLY){if(a.points=a.shape.points.slice(),a.shape.closed&&(a.points[0]!==a.points[a.points.length-2]||a.points[1]!==a.points[a.points.length-1])&&a.points.push(a.points[0],a.points[1]),a.fill&&a.points.length>=6)if(a.points.length<2*this.maximumSimplePolySize){r=this.switchMode(i,0);var u=this.buildPoly(a,r);u||(r=this.switchMode(i,1),this.buildComplexPoly(a,r))}else r=this.switchMode(i,1),this.buildComplexPoly(a,r);a.lineWidth>0&&(r=this.switchMode(i,0),this.buildLine(a,r))}else r=this.switchMode(i,0),a.type===s.SHAPES.RECT?this.buildRectangle(a,r):a.type===s.SHAPES.CIRC||a.type===s.SHAPES.ELIP?this.buildCircle(a,r):a.type===s.SHAPES.RREC&&this.buildRoundedRectangle(a,r);i.lastIndex++}for(e=0;e<i.data.length;e++)(r=i.data[e]).dirty&&r.upload()},n.prototype.switchMode=function(t,e){var r;return t.data.length?((r=t.data[t.data.length-1]).points.length>32e4||r.mode!==e||1===e)&&((r=this.graphicsDataPool.pop()||new l(t.gl)).mode=e,t.data.push(r)):((r=this.graphicsDataPool.pop()||new l(t.gl)).mode=e,t.data.push(r)),r.dirty=!0,r},n.prototype.buildRectangle=function(t,e){var r=t.shape,n=r.x,o=r.y,s=r.width,a=r.height;if(t.fill){var u=i.hex2rgb(t.fillColor),l=t.fillAlpha,h=u[0]*l,c=u[1]*l,f=u[2]*l,p=e.points,d=e.indices,g=p.length/6;p.push(n,o),p.push(h,c,f,l),p.push(n+s,o),p.push(h,c,f,l),p.push(n,o+a),p.push(h,c,f,l),p.push(n+s,o+a),p.push(h,c,f,l),d.push(g,g,g+1,g+2,g+3,g+3)}if(t.lineWidth){var v=t.points;t.points=[n,o,n+s,o,n+s,o+a,n,o+a,n,o],this.buildLine(t,e),t.points=v}},n.prototype.buildRoundedRectangle=function(t,e){var r=t.shape,n=r.x,o=r.y,s=r.width,a=r.height,u=r.radius,l=[];if(l.push(n,o+u),this.quadraticBezierCurve(n,o+a-u,n,o+a,n+u,o+a,l),this.quadraticBezierCurve(n+s-u,o+a,n+s,o+a,n+s,o+a-u,l),this.quadraticBezierCurve(n+s,o+u,n+s,o,n+s-u,o,l),this.quadraticBezierCurve(n+u,o,n,o,n,o+u+1e-10,l),t.fill){var c=i.hex2rgb(t.fillColor),f=t.fillAlpha,p=c[0]*f,d=c[1]*f,g=c[2]*f,v=e.points,m=e.indices,y=v.length/6,x=h(l,null,2),b=0;for(b=0;b<x.length;b+=3)m.push(x[b]+y),m.push(x[b]+y),m.push(x[b+1]+y),m.push(x[b+2]+y),m.push(x[b+2]+y);for(b=0;b<l.length;b++)v.push(l[b],l[++b],p,d,g,f)}if(t.lineWidth){var _=t.points;t.points=l,this.buildLine(t,e),t.points=_}},n.prototype.quadraticBezierCurve=function(t,e,r,n,i,o,s){function a(t,e,r){var n=e-t;return t+n*r}for(var u,l,h,c,f,p,d=s||[],g=0,v=0;20>=v;v++)u=a(t,r,g=v/20),l=a(e,n,g),h=a(r,i,g),c=a(n,o,g),f=a(u,h,g),p=a(l,c,g),d.push(f,p);return d},n.prototype.buildCircle=function(t,e){var r,n,o=t.shape,a=o.x,u=o.y;t.type===s.SHAPES.CIRC?(r=o.radius,n=o.radius):(r=o.width,n=o.height);var l=Math.floor(30*Math.sqrt(o.radius))||Math.floor(15*Math.sqrt(o.width+o.height)),h=2*Math.PI/l,c=0;if(t.fill){var f=i.hex2rgb(t.fillColor),p=t.fillAlpha,d=f[0]*p,g=f[1]*p,v=f[2]*p,m=e.points,y=e.indices,x=m.length/6;for(y.push(x),c=0;l+1>c;c++)m.push(a,u,d,g,v,p),m.push(a+Math.sin(h*c)*r,u+Math.cos(h*c)*n,d,g,v,p),y.push(x++,x++);y.push(x-1)}if(t.lineWidth){var b=t.points;for(t.points=[],c=0;l+1>c;c++)t.points.push(a+Math.sin(h*c)*r,u+Math.cos(h*c)*n);this.buildLine(t,e),t.points=b}},n.prototype.buildLine=function(t,e){var r=0,n=t.points;if(0!==n.length){var s=new o.Point(n[0],n[1]),a=new o.Point(n[n.length-2],n[n.length-1]);if(s.x===a.x&&s.y===a.y){(n=n.slice()).pop(),n.pop();var u=(a=new o.Point(n[n.length-2],n[n.length-1])).x+.5*(s.x-a.x),l=a.y+.5*(s.y-a.y);n.unshift(u,l),n.push(u,l)}var h,c,f,p,d,g,v,m,y,x,b,_,w,T,E,S,A,C,M,R,O,P,D=e.points,I=e.indices,L=n.length/2,F=n.length,k=D.length/6,B=t.lineWidth/2,N=i.hex2rgb(t.lineColor),U=t.lineAlpha,$=N[0]*U,j=N[1]*U,G=N[2]*U;for(f=n[0],p=n[1],d=n[2],g=n[3],y=-(p-g),x=f-d,P=Math.sqrt(y*y+x*x),y/=P,x/=P,y*=B,x*=B,D.push(f-y,p-x,$,j,G,U),D.push(f+y,p+x,$,j,G,U),r=1;L-1>r;r++)f=n[2*(r-1)],p=n[2*(r-1)+1],d=n[2*r],g=n[2*r+1],v=n[2*(r+1)],m=n[2*(r+1)+1],y=-(p-g),x=f-d,P=Math.sqrt(y*y+x*x),y/=P,x/=P,y*=B,x*=B,b=-(g-m),_=d-v,P=Math.sqrt(b*b+_*_),b/=P,_/=P,A=(-y+f)*(-x+g)-(-y+d)*(-x+p),R=(-(b*=B)+v)*(-(_*=B)+g)-(-b+d)*(-_+m),O=(E=-x+p-(-x+g))*(M=-b+d-(-b+v))-(C=-_+m-(-_+g))*(S=-y+d-(-y+f)),Math.abs(O)<.1?(O+=10.1,D.push(d-y,g-x,$,j,G,U),D.push(d+y,g+x,$,j,G,U)):((h=(S*R-M*A)/O)-d)*(h-d)+((c=(C*A-E*R)/O)-g)*(c-g)>19600?(w=y-b,T=x-_,P=Math.sqrt(w*w+T*T),w/=P,T/=P,w*=B,T*=B,D.push(d-w,g-T),D.push($,j,G,U),D.push(d+w,g+T),D.push($,j,G,U),D.push(d-w,g-T),D.push($,j,G,U),F++):(D.push(h,c),D.push($,j,G,U),D.push(d-(h-d),g-(c-g)),D.push($,j,G,U));for(f=n[2*(L-2)],p=n[2*(L-2)+1],d=n[2*(L-1)],g=n[2*(L-1)+1],y=-(p-g),x=f-d,P=Math.sqrt(y*y+x*x),y/=P,x/=P,y*=B,x*=B,D.push(d-y,g-x),D.push($,j,G,U),D.push(d+y,g+x),D.push($,j,G,U),I.push(k),r=0;F>r;r++)I.push(k++);I.push(k-1)}},n.prototype.buildComplexPoly=function(t,e){var r=t.points.slice();if(!(r.length<6)){var n=e.indices;e.points=r,e.alpha=t.fillAlpha,e.color=i.hex2rgb(t.fillColor);for(var o,s,a=1/0,u=-1/0,l=1/0,h=-1/0,c=0;c<r.length;c+=2)o=r[c],s=r[c+1],a=a>o?o:a,u=o>u?o:u,l=l>s?s:l,h=s>h?s:h;r.push(a,l,u,l,u,h,a,h);var f=r.length/2;for(c=0;f>c;c++)n.push(c)}},n.prototype.buildPoly=function(t,e){var r=t.points;if(!(r.length<6)){var n=e.points,o=e.indices,s=r.length/2,a=i.hex2rgb(t.fillColor),u=t.fillAlpha,l=a[0]*u,c=a[1]*u,f=a[2]*u,p=h(r,null,2);if(!p)return!1;var d=n.length/6,g=0;for(g=0;g<p.length;g+=3)o.push(p[g]+d),o.push(p[g]+d),o.push(p[g+1]+d),o.push(p[g+2]+d),o.push(p[g+2]+d);for(g=0;s>g;g++)n.push(r[2*g],r[2*g+1],l,c,f,u);return!0}}},{"../../const":16,"../../math":26,"../../renderers/webgl/WebGLRenderer":42,"../../renderers/webgl/utils/ObjectRenderer":56,"../../utils":70,"./WebGLGraphicsData":22,earcut:9}],22:[function(t,e,r){function n(t){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0,this.glPoints=null,this.glIndices=null}n.prototype.constructor=n,e.exports=n,n.prototype.reset=function(){this.points.length=0,this.indices.length=0},n.prototype.upload=function(){var t=this.gl;this.glPoints=new Float32Array(this.points),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,this.glPoints,t.STATIC_DRAW),this.glIndices=new Uint16Array(this.indices),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.glIndices,t.STATIC_DRAW),this.dirty=!1},n.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.gl.deleteBuffer(this.buffer),this.gl.deleteBuffer(this.indexBuffer),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null}},{}],23:[function(t,e,r){var n=e.exports=Object.assign(t("./const"),t("./math"),{utils:t("./utils"),ticker:t("./ticker"),DisplayObject:t("./display/DisplayObject"),Container:t("./display/Container"),Sprite:t("./sprites/Sprite"),ParticleContainer:t("./particles/ParticleContainer"),SpriteRenderer:t("./sprites/webgl/SpriteRenderer"),ParticleRenderer:t("./particles/webgl/ParticleRenderer"),Text:t("./text/Text"),Graphics:t("./graphics/Graphics"),GraphicsData:t("./graphics/GraphicsData"),GraphicsRenderer:t("./graphics/webgl/GraphicsRenderer"),Texture:t("./textures/Texture"),BaseTexture:t("./textures/BaseTexture"),RenderTexture:t("./textures/RenderTexture"),VideoBaseTexture:t("./textures/VideoBaseTexture"),TextureUvs:t("./textures/TextureUvs"),CanvasRenderer:t("./renderers/canvas/CanvasRenderer"),CanvasGraphics:t("./renderers/canvas/utils/CanvasGraphics"),CanvasBuffer:t("./renderers/canvas/utils/CanvasBuffer"),WebGLRenderer:t("./renderers/webgl/WebGLRenderer"),WebGLManager:t("./renderers/webgl/managers/WebGLManager"),ShaderManager:t("./renderers/webgl/managers/ShaderManager"),Shader:t("./renderers/webgl/shaders/Shader"),ObjectRenderer:t("./renderers/webgl/utils/ObjectRenderer"),RenderTarget:t("./renderers/webgl/utils/RenderTarget"),AbstractFilter:t("./renderers/webgl/filters/AbstractFilter"),FXAAFilter:t("./renderers/webgl/filters/FXAAFilter"),SpriteMaskFilter:t("./renderers/webgl/filters/SpriteMaskFilter"),autoDetectRenderer:function(t,e,r,i){return t=t||800,e=e||600,!i&&n.utils.isWebGLSupported()?new n.WebGLRenderer(t,e,r):new n.CanvasRenderer(t,e,r)}})},{"./const":16,"./display/Container":17,"./display/DisplayObject":18,"./graphics/Graphics":19,"./graphics/GraphicsData":20,"./graphics/webgl/GraphicsRenderer":21,"./math":26,"./particles/ParticleContainer":32,"./particles/webgl/ParticleRenderer":34,"./renderers/canvas/CanvasRenderer":37,"./renderers/canvas/utils/CanvasBuffer":38,"./renderers/canvas/utils/CanvasGraphics":39,"./renderers/webgl/WebGLRenderer":42,"./renderers/webgl/filters/AbstractFilter":43,"./renderers/webgl/filters/FXAAFilter":44,"./renderers/webgl/filters/SpriteMaskFilter":45,"./renderers/webgl/managers/ShaderManager":49,"./renderers/webgl/managers/WebGLManager":51,"./renderers/webgl/shaders/Shader":54,"./renderers/webgl/utils/ObjectRenderer":56,"./renderers/webgl/utils/RenderTarget":58,"./sprites/Sprite":60,"./sprites/webgl/SpriteRenderer":61,"./text/Text":62,"./textures/BaseTexture":63,"./textures/RenderTexture":64,"./textures/Texture":65,"./textures/TextureUvs":66,"./textures/VideoBaseTexture":67,"./ticker":69,"./utils":70}],24:[function(t,e,r){function n(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0}var i=t("./Point");n.prototype.constructor=n,e.exports=n,n.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},n.prototype.set=function(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this},n.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},n.prototype.apply=function(t,e){e=e||new i;var r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e},n.prototype.applyInverse=function(t,e){e=e||new i;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,o=t.y;return e.x=this.d*r*n+-this.c*r*o+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*o+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e},n.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},n.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},n.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),n=this.a,i=this.c,o=this.tx;return this.a=n*e-this.b*r,this.b=n*r+this.b*e,this.c=i*e-this.d*r,this.d=i*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},n.prototype.append=function(t){var e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this},n.prototype.setTransform=function(t,e,r,n,i,o,s,a,u){var l,h,c,f,p,d,g,v,m,y;return p=Math.sin(s),d=Math.cos(s),g=Math.cos(u),v=Math.sin(u),m=-Math.sin(a),y=Math.cos(a),l=d*i,h=p*i,c=-p*o,f=d*o,this.a=g*l+v*c,this.b=g*h+v*f,this.c=m*l+y*c,this.d=m*h+y*f,this.tx=t+(r*l+n*c),this.ty=e+(r*h+n*f),this},n.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,n=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},n.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,o=t*n-e*r;return this.a=n/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(t*this.ty-e*i)/o,this},n.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},n.prototype.clone=function(){var t=new n;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.IDENTITY=new n,n.TEMP_MATRIX=new n},{"./Point":25}],25:[function(t,e,r){function n(t,e){this.x=t||0,this.y=e||0}n.prototype.constructor=n,e.exports=n,n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copy=function(t){this.set(t.x,t.y)},n.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},n.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)}},{}],26:[function(t,e,r){e.exports={Point:t("./Point"),Matrix:t("./Matrix"),Circle:t("./shapes/Circle"),Ellipse:t("./shapes/Ellipse"),Polygon:t("./shapes/Polygon"),Rectangle:t("./shapes/Rectangle"),RoundedRectangle:t("./shapes/RoundedRectangle")}},{"./Matrix":24,"./Point":25,"./shapes/Circle":27,"./shapes/Ellipse":28,"./shapes/Polygon":29,"./shapes/Rectangle":30,"./shapes/RoundedRectangle":31}],27:[function(t,e,r){function n(t,e,r){this.x=t||0,this.y=e||0,this.radius=r||0,this.type=o.SHAPES.CIRC}var i=t("./Rectangle"),o=t("../../const");n.prototype.constructor=n,e.exports=n,n.prototype.clone=function(){return new n(this.x,this.y,this.radius)},n.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.x-t,n=this.y-e,i=this.radius*this.radius;return i>=(r*=r)+(n*=n)},n.prototype.getBounds=function(){return new i(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}},{"../../const":16,"./Rectangle":30}],28:[function(t,e,r){function n(t,e,r,n){this.x=t||0,this.y=e||0,this.width=r||0,this.height=n||0,this.type=o.SHAPES.ELIP}var i=t("./Rectangle"),o=t("../../const");n.prototype.constructor=n,e.exports=n,n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,n=(e-this.y)/this.height;return 1>=(r*=r)+(n*=n)},n.prototype.getBounds=function(){return new i(this.x-this.width,this.y-this.height,this.width,this.height)}},{"../../const":16,"./Rectangle":30}],29:[function(t,e,r){function n(t){var e=t;if(!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;++r)e[r]=arguments[r]}if(e[0]instanceof i){for(var n=[],s=0,a=e.length;a>s;s++)n.push(e[s].x,e[s].y);e=n}this.closed=!0,this.points=e,this.type=o.SHAPES.POLY}var i=t("../Point"),o=t("../../const");n.prototype.constructor=n,e.exports=n,n.prototype.clone=function(){return new n(this.points.slice())},n.prototype.contains=function(t,e){for(var r=!1,n=this.points.length/2,i=0,o=n-1;n>i;o=i++){var s=this.points[2*i],a=this.points[2*i+1],u=this.points[2*o],l=this.points[2*o+1],h=a>e!=l>e&&(u-s)*(e-a)/(l-a)+s>t;h&&(r=!r)}return r}},{"../../const":16,"../Point":25}],30:[function(t,e,r){function n(t,e,r,n){this.x=t||0,this.y=e||0,this.width=r||0,this.height=n||0,this.type=i.SHAPES.RECT}var i=t("../../const");n.prototype.constructor=n,e.exports=n,n.EMPTY=new n(0,0,0,0),n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height}},{"../../const":16}],31:[function(t,e,r){function n(t,e,r,n,o){this.x=t||0,this.y=e||0,this.width=r||0,this.height=n||0,this.radius=o||20,this.type=i.SHAPES.RREC}var i=t("../../const");n.prototype.constructor=n,e.exports=n,n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height,this.radius)},n.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height}},{"../../const":16}],32:[function(t,e,r){function n(t,e,r){i.call(this),r=r||15e3,t=t||15e3,r>16384&&(r=16384),r>t&&(r=t),this._properties=[!1,!0,!1,!1,!1],this._maxSize=t,this._batchSize=r,this._buffers=null,this._bufferToUpdate=0,this.interactiveChildren=!1,this.blendMode=o.BLEND_MODES.NORMAL,this.roundPixels=!0,this.setProperties(e)}var i=t("../display/Container"),o=t("../const");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.setProperties=function(t){t&&(this._properties[0]="scale"in t?!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="alpha"in t?!!t.alpha:this._properties[4])},n.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},n.prototype.renderWebGL=function(t){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},n.prototype.onChildrenChange=function(t){var e=Math.floor(t/this._batchSize);e<this._bufferToUpdate&&(this._bufferToUpdate=e)},n.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,n=!0,i=0,o=0,s=0,a=0,u=t.blendModes[this.blendMode];u!==e.globalCompositeOperation&&(e.globalCompositeOperation=u),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var l=0;l<this.children.length;++l){var h=this.children[l];if(h.visible){var c=h.texture.frame;if(e.globalAlpha=this.worldAlpha*h.alpha,h.rotation%(2*Math.PI)==0)n&&(e.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),n=!1),i=h.anchor.x*(-c.width*h.scale.x)+h.position.x+.5,o=h.anchor.y*(-c.height*h.scale.y)+h.position.y+.5,s=c.width*h.scale.x,a=c.height*h.scale.y;else{n||(n=!0),h.displayObjectUpdateTransform();var f=h.worldTransform;t.roundPixels?e.setTransform(f.a,f.b,f.c,f.d,0|f.tx,0|f.ty):e.setTransform(f.a,f.b,f.c,f.d,f.tx,f.ty),i=h.anchor.x*-c.width+.5,o=h.anchor.y*-c.height+.5,s=c.width,a=c.height}e.drawImage(h.texture.baseTexture.source,c.x,c.y,c.width,c.height,i,o,s,a)}}}},n.prototype.destroy=function(){if(i.prototype.destroy.apply(this,arguments),this._buffers)for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._properties=null,this._buffers=null}},{"../const":16,"../display/Container":17}],33:[function(t,e,r){function n(t,e,r,n){this.gl=t,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;i++){var o=e[i];r[i]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}n.prototype.constructor=n,e.exports=n,n.prototype.initBuffers=function(){var t,e,r=this.gl,n=0;for(this.dynamicStride=0,t=0;t<this.dynamicProperties.length;t++)(e=this.dynamicProperties[t]).offset=n,n+=e.size,this.dynamicStride+=e.size;this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,this.dynamicBuffer),r.bufferData(r.ARRAY_BUFFER,this.dynamicData,r.DYNAMIC_DRAW);var i=0;for(this.staticStride=0,t=0;t<this.staticProperties.length;t++)(e=this.staticProperties[t]).offset=i,i+=e.size,this.staticStride+=e.size;this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,this.staticBuffer),r.bufferData(r.ARRAY_BUFFER,this.staticData,r.DYNAMIC_DRAW)},n.prototype.uploadDynamic=function(t,e,r){for(var n=this.gl,i=0;i<this.dynamicProperties.length;i++){var o=this.dynamicProperties[i];o.uploadFunction(t,e,r,this.dynamicData,this.dynamicStride,o.offset)}n.bindBuffer(n.ARRAY_BUFFER,this.dynamicBuffer),n.bufferSubData(n.ARRAY_BUFFER,0,this.dynamicData)},n.prototype.uploadStatic=function(t,e,r){for(var n=this.gl,i=0;i<this.staticProperties.length;i++){var o=this.staticProperties[i];o.uploadFunction(t,e,r,this.staticData,this.staticStride,o.offset)}n.bindBuffer(n.ARRAY_BUFFER,this.staticBuffer),n.bufferSubData(n.ARRAY_BUFFER,0,this.staticData)},n.prototype.bind=function(){var t,e,r=this.gl;for(r.bindBuffer(r.ARRAY_BUFFER,this.dynamicBuffer),t=0;t<this.dynamicProperties.length;t++)e=this.dynamicProperties[t],r.vertexAttribPointer(e.attribute,e.size,r.FLOAT,!1,4*this.dynamicStride,4*e.offset);for(r.bindBuffer(r.ARRAY_BUFFER,this.staticBuffer),t=0;t<this.staticProperties.length;t++)e=this.staticProperties[t],r.vertexAttribPointer(e.attribute,e.size,r.FLOAT,!1,4*this.staticStride,4*e.offset)},n.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.gl.deleteBuffer(this.dynamicBuffer),this.staticProperties=null,this.staticData=null,this.gl.deleteBuffer(this.staticBuffer)}},{}],34:[function(t,e,r){function n(t){i.call(this,t),this.indices=new Uint16Array(98304);for(var e=0,r=0;98304>e;e+=6,r+=4)this.indices[e+0]=r+0,this.indices[e+1]=r+1,this.indices[e+2]=r+2,this.indices[e+3]=r+0,this.indices[e+4]=r+2,this.indices[e+5]=r+3;this.shader=null,this.indexBuffer=null,this.properties=null,this.tempMatrix=new u.Matrix}var i=t("../../renderers/webgl/utils/ObjectRenderer"),o=t("../../renderers/webgl/WebGLRenderer"),s=t("./ParticleShader"),a=t("./ParticleBuffer"),u=t("../../math");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,o.registerPlugin("particle",n),n.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new s(this.renderer.shaderManager),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]},n.prototype.start=function(){var t=this.renderer.gl;t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.shader;this.renderer.shaderManager.setShader(e)},n.prototype.render=function(t){var e=t.children,r=e.length,n=t._maxSize,i=t._batchSize;if(0!==r){r>n&&(r=n),t._buffers||(t._buffers=this.generateBuffers(t)),this.renderer.blendModeManager.setBlendMode(t.blendMode);var o=this.renderer.gl,s=t.worldTransform.copy(this.tempMatrix);s.prepend(this.renderer.currentRenderTarget.projectionMatrix),o.uniformMatrix3fv(this.shader.uniforms.projectionMatrix._location,!1,s.toArray(!0)),o.uniform1f(this.shader.uniforms.uAlpha._location,t.worldAlpha);var a=e[0]._texture.baseTexture;if(a._glTextures[o.id])o.bindTexture(o.TEXTURE_2D,a._glTextures[o.id]);else{if(!this.renderer.updateTexture(a))return;t._properties[0]&&t._properties[3]||(t._bufferToUpdate=0)}for(var u=0,l=0;r>u;u+=i,l+=1){var h=r-u;h>i&&(h=i);var c=t._buffers[l];c.uploadDynamic(e,u,h),t._bufferToUpdate===l&&(c.uploadStatic(e,u,h),t._bufferToUpdate=l+1),c.bind(this.shader),o.drawElements(o.TRIANGLES,6*h,o.UNSIGNED_SHORT,0),this.renderer.drawCount++}}},n.prototype.generateBuffers=function(t){var e,r=this.renderer.gl,n=[],i=t._maxSize,o=t._batchSize,s=t._properties;for(e=0;i>e;e+=o)n.push(new a(r,this.properties,s,o));return n},n.prototype.uploadVertices=function(t,e,r,n,i,o){for(var s,a,u,l,h,c,f,p,d,g=0;r>g;g++)s=t[e+g],a=s._texture,l=s.scale.x,h=s.scale.y,a.trim?(u=a.trim,f=u.x-s.anchor.x*u.width,c=f+a.crop.width,d=u.y-s.anchor.y*u.height,p=d+a.crop.height):(c=a._frame.width*(1-s.anchor.x),f=a._frame.width*-s.anchor.x,p=a._frame.height*(1-s.anchor.y),d=a._frame.height*-s.anchor.y),n[o]=f*l,n[o+1]=d*h,n[o+i]=c*l,n[o+i+1]=d*h,n[o+2*i]=c*l,n[o+2*i+1]=p*h,n[o+3*i]=f*l,n[o+3*i+1]=p*h,o+=4*i},n.prototype.uploadPosition=function(t,e,r,n,i,o){for(var s=0;r>s;s++){var a=t[e+s].position;n[o]=a.x,n[o+1]=a.y,n[o+i]=a.x,n[o+i+1]=a.y,n[o+2*i]=a.x,n[o+2*i+1]=a.y,n[o+3*i]=a.x,n[o+3*i+1]=a.y,o+=4*i}},n.prototype.uploadRotation=function(t,e,r,n,i,o){for(var s=0;r>s;s++){var a=t[e+s].rotation;n[o]=a,n[o+i]=a,n[o+2*i]=a,n[o+3*i]=a,o+=4*i}},n.prototype.uploadUvs=function(t,e,r,n,i,o){for(var s=0;r>s;s++){var a=t[e+s]._texture._uvs;a?(n[o]=a.x0,n[o+1]=a.y0,n[o+i]=a.x1,n[o+i+1]=a.y1,n[o+2*i]=a.x2,n[o+2*i+1]=a.y2,n[o+3*i]=a.x3,n[o+3*i+1]=a.y3,o+=4*i):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0,o+=4*i)}},n.prototype.uploadAlpha=function(t,e,r,n,i,o){for(var s=0;r>s;s++){var a=t[e+s].alpha;n[o]=a,n[o+i]=a,n[o+2*i]=a,n[o+3*i]=a,o+=4*i}},n.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),i.prototype.destroy.apply(this,arguments),this.shader.destroy(),this.indices=null,this.tempMatrix=null}},{"../../math":26,"../../renderers/webgl/WebGLRenderer":42,"../../renderers/webgl/utils/ObjectRenderer":56,"./ParticleBuffer":33,"./ParticleShader":35}],35:[function(t,e,r){function n(t){i.call(this,t,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n"),{uAlpha:{type:"1f",value:1}},{aPositionCoord:0,aRotation:0})}var i=t("../../renderers/webgl/shaders/TextureShader");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n},{"../../renderers/webgl/shaders/TextureShader":55}],36:[function(t,e,r){function n(t,e,r,n){if(a.call(this),i.sayHello(t),n)for(var u in s.DEFAULT_RENDER_OPTIONS)void 0===n[u]&&(n[u]=s.DEFAULT_RENDER_OPTIONS[u]);else n=s.DEFAULT_RENDER_OPTIONS;this.type=s.RENDERER_TYPE.UNKNOWN,this.width=e||800,this.height=r||600,this.view=n.view||document.createElement("canvas"),this.resolution=n.resolution,this.transparent=n.transparent,this.autoResize=n.autoResize||!1,this.blendModes=null,this.preserveDrawingBuffer=n.preserveDrawingBuffer,this.clearBeforeRender=n.clearBeforeRender,this.roundPixels=n.roundPixels,this._backgroundColor=0,this._backgroundColorRgb=[0,0,0],this._backgroundColorString="#000000",this.backgroundColor=n.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent={worldTransform:new o.Matrix,worldAlpha:1,children:[]},this._lastObjectRendered=this._tempDisplayObjectParent}var i=t("../utils"),o=t("../math"),s=t("../const"),a=t("eventemitter3");n.prototype=Object.create(a.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{backgroundColor:{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=i.hex2string(t),i.hex2rgb(t,this._backgroundColorRgb)}}}),n.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},n.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=s.RENDERER_TYPE.UNKNOWN,this.width=0,this.height=0,this.view=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgb=null,this._backgroundColorString=null}},{"../const":16,"../math":26,"../utils":70,eventemitter3:10}],37:[function(t,e,r){function n(t,e,r){r=r||{},i.call(this,"Canvas",t,e,r),this.type=u.RENDERER_TYPE.CANVAS,this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.maskManager=new o,this.smoothProperty="imageSmoothingEnabled",this.context.imageSmoothingEnabled||(this.context.webkitImageSmoothingEnabled?this.smoothProperty="webkitImageSmoothingEnabled":this.context.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":this.context.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":this.context.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled")),this.initPlugins(),this._mapBlendModes(),this._tempDisplayObjectParent={worldTransform:new a.Matrix,worldAlpha:1},this.resize(t,e)}var i=t("../SystemRenderer"),o=t("./utils/CanvasMaskManager"),s=t("../../utils"),a=t("../../math"),u=t("../../const");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,s.pluginTarget.mixin(n),n.prototype.render=function(t){this.emit("prerender");var e=t.parent;this._lastObjectRendered=t,t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e,this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.context.globalCompositeOperation=this.blendModes[u.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=this._backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(t,this.context),this.emit("postrender")},n.prototype.destroy=function(t){this.destroyPlugins(),i.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},n.prototype.renderDisplayObject=function(t,e){var r=this.context;this.context=e,t.renderCanvas(this),this.context=r},n.prototype.resize=function(t,e){i.prototype.resize.call(this,t,e),this.smoothProperty&&(this.context[this.smoothProperty]=u.SCALE_MODES.DEFAULT===u.SCALE_MODES.LINEAR)},n.prototype._mapBlendModes=function(){this.blendModes||(this.blendModes={},s.canUseNewCanvasBlendModes()?(this.blendModes[u.BLEND_MODES.NORMAL]="source-over",this.blendModes[u.BLEND_MODES.ADD]="lighter",this.blendModes[u.BLEND_MODES.MULTIPLY]="multiply",this.blendModes[u.BLEND_MODES.SCREEN]="screen",this.blendModes[u.BLEND_MODES.OVERLAY]="overlay",this.blendModes[u.BLEND_MODES.DARKEN]="darken",this.blendModes[u.BLEND_MODES.LIGHTEN]="lighten",this.blendModes[u.BLEND_MODES.COLOR_DODGE]="color-dodge",this.blendModes[u.BLEND_MODES.COLOR_BURN]="color-burn",this.blendModes[u.BLEND_MODES.HARD_LIGHT]="hard-light",this.blendModes[u.BLEND_MODES.SOFT_LIGHT]="soft-light",this.blendModes[u.BLEND_MODES.DIFFERENCE]="difference",this.blendModes[u.BLEND_MODES.EXCLUSION]="exclusion",this.blendModes[u.BLEND_MODES.HUE]="hue",this.blendModes[u.BLEND_MODES.SATURATION]="saturate",this.blendModes[u.BLEND_MODES.COLOR]="color",this.blendModes[u.BLEND_MODES.LUMINOSITY]="luminosity"):(this.blendModes[u.BLEND_MODES.NORMAL]="source-over",this.blendModes[u.BLEND_MODES.ADD]="lighter",this.blendModes[u.BLEND_MODES.MULTIPLY]="source-over",this.blendModes[u.BLEND_MODES.SCREEN]="source-over",this.blendModes[u.BLEND_MODES.OVERLAY]="source-over",this.blendModes[u.BLEND_MODES.DARKEN]="source-over",this.blendModes[u.BLEND_MODES.LIGHTEN]="source-over",this.blendModes[u.BLEND_MODES.COLOR_DODGE]="source-over",this.blendModes[u.BLEND_MODES.COLOR_BURN]="source-over",this.blendModes[u.BLEND_MODES.HARD_LIGHT]="source-over",this.blendModes[u.BLEND_MODES.SOFT_LIGHT]="source-over",this.blendModes[u.BLEND_MODES.DIFFERENCE]="source-over",this.blendModes[u.BLEND_MODES.EXCLUSION]="source-over",this.blendModes[u.BLEND_MODES.HUE]="source-over",this.blendModes[u.BLEND_MODES.SATURATION]="source-over",this.blendModes[u.BLEND_MODES.COLOR]="source-over",this.blendModes[u.BLEND_MODES.LUMINOSITY]="source-over"))}},{"../../const":16,"../../math":26,"../../utils":70,"../SystemRenderer":36,"./utils/CanvasMaskManager":40}],38:[function(t,e,r){function n(t,e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=t,this.canvas.height=e}n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{width:{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},height:{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}}),n.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e},n.prototype.destroy=function(){this.context=null,this.canvas=null}},{}],39:[function(t,e,r){var n=t("../../../const"),i={};e.exports=i,i.renderGraphics=function(t,e){var r=t.worldAlpha;t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1);for(var i=0;i<t.graphicsData.length;i++){var o=t.graphicsData[i],s=o.shape,a=o._fillTint,u=o._lineTint;if(e.lineWidth=o.lineWidth,o.type===n.SHAPES.POLY){e.beginPath();var l=s.points;e.moveTo(l[0],l[1]);for(var h=1;h<l.length/2;h++)e.lineTo(l[2*h],l[2*h+1]);s.closed&&e.lineTo(l[0],l[1]),l[0]===l[l.length-2]&&l[1]===l[l.length-1]&&e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke())}else if(o.type===n.SHAPES.RECT)(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fillRect(s.x,s.y,s.width,s.height)),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.strokeRect(s.x,s.y,s.width,s.height));else if(o.type===n.SHAPES.CIRC)e.beginPath(),e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke());else if(o.type===n.SHAPES.ELIP){var c=2*s.width,f=2*s.height,p=s.x-c/2,d=s.y-f/2;e.beginPath();var g=.5522848,v=c/2*g,m=f/2*g,y=p+c,x=d+f,b=p+c/2,_=d+f/2;e.moveTo(p,_),e.bezierCurveTo(p,_-m,b-v,d,b,d),e.bezierCurveTo(b+v,d,y,_-m,y,_),e.bezierCurveTo(y,_+m,b+v,x,b,x),e.bezierCurveTo(b-v,x,p,_+m,p,_),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke())}else if(o.type===n.SHAPES.RREC){var w=s.x,T=s.y,E=s.width,S=s.height,A=s.radius,C=Math.min(E,S)/2|0;A=A>C?C:A,e.beginPath(),e.moveTo(w,T+A),e.lineTo(w,T+S-A),e.quadraticCurveTo(w,T+S,w+A,T+S),e.lineTo(w+E-A,T+S),e.quadraticCurveTo(w+E,T+S,w+E,T+S-A),e.lineTo(w+E,T+A),e.quadraticCurveTo(w+E,T,w+E-A,T),e.lineTo(w+A,T),e.quadraticCurveTo(w,T,w,T+A),e.closePath(),(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke())}}},i.renderGraphicsMask=function(t,e){var r=t.graphicsData.length;if(0!==r){e.beginPath();for(var i=0;r>i;i++){var o=t.graphicsData[i],s=o.shape;if(o.type===n.SHAPES.POLY){var a=s.points;e.moveTo(a[0],a[1]);for(var u=1;u<a.length/2;u++)e.lineTo(a[2*u],a[2*u+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===n.SHAPES.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===n.SHAPES.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===n.SHAPES.ELIP){var l=2*s.width,h=2*s.height,c=s.x-l/2,f=s.y-h/2,p=.5522848,d=l/2*p,g=h/2*p,v=c+l,m=f+h,y=c+l/2,x=f+h/2;e.moveTo(c,x),e.bezierCurveTo(c,x-g,y-d,f,y,f),e.bezierCurveTo(y+d,f,v,x-g,v,x),e.bezierCurveTo(v,x+g,y+d,m,y,m),e.bezierCurveTo(y-d,m,c,x+g,c,x),e.closePath()}else if(o.type===n.SHAPES.RREC){var b=s.x,_=s.y,w=s.width,T=s.height,E=s.radius,S=Math.min(w,T)/2|0;E=E>S?S:E,e.moveTo(b,_+E),e.lineTo(b,_+T-E),e.quadraticCurveTo(b,_+T,b+E,_+T),e.lineTo(b+w-E,_+T),e.quadraticCurveTo(b+w,_+T,b+w,_+T-E),e.lineTo(b+w,_+E),e.quadraticCurveTo(b+w,_,b+w-E,_),e.lineTo(b+E,_),e.quadraticCurveTo(b,_,b,_+E),e.closePath()}}}},i.updateGraphicsTint=function(t){if(16777215!==t.tint||t._prevTint!==t.tint){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,n=(255&t.tint)/255,i=0;i<t.graphicsData.length;i++){var o=t.graphicsData[i],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*r*255<<8)+(255&s)/255*n*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*n*255}}}},{"../../../const":16}],40:[function(t,e,r){function n(){}var i=t("./CanvasGraphics");n.prototype.constructor=n,e.exports=n,n.prototype.pushMask=function(t,e){e.context.save();var r=t.alpha,n=t.worldTransform,o=e.resolution;e.context.setTransform(n.a*o,n.b*o,n.c*o,n.d*o,n.tx*o,n.ty*o),t.texture||(i.renderGraphicsMask(t,e.context),e.context.clip()),t.worldAlpha=r},n.prototype.popMask=function(t){t.context.restore()},n.prototype.destroy=function(){}},{"./CanvasGraphics":39}],41:[function(t,e,r){var n=t("../../../utils"),i={};e.exports=i,i.getTintedTexture=function(t,e){var r=t.texture,n="#"+("00000"+(0|(e=i.roundColor(e))).toString(16)).substr(-6);if(r.tintCache=r.tintCache||{},r.tintCache[n])return r.tintCache[n];var o=i.canvas||document.createElement("canvas");if(i.tintMethod(r,e,o),i.convertTintToImage){var s=new Image;s.src=o.toDataURL(),r.tintCache[n]=s}else r.tintCache[n]=o,i.canvas=null;return o},i.tintWithMultiply=function(t,e,r){var n=r.getContext("2d"),i=t.baseTexture.resolution,o=t.crop.clone();o.x*=i,o.y*=i,o.width*=i,o.height*=i,r.width=o.width,r.height=o.height,n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,o.width,o.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height)},i.tintWithOverlay=function(t,e,r){var n=r.getContext("2d"),i=t.baseTexture.resolution,o=t.crop.clone();o.x*=i,o.y*=i,o.width*=i,o.height*=i,r.width=o.width,r.height=o.height,n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,o.width,o.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height)},i.tintWithPerPixel=function(t,e,r){var i=r.getContext("2d"),o=t.baseTexture.resolution,s=t.crop.clone();s.x*=o,s.y*=o,s.width*=o,s.height*=o,r.width=s.width,r.height=s.height,i.globalCompositeOperation="copy",i.drawImage(t.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height);for(var a=n.hex2rgb(e),u=a[0],l=a[1],h=a[2],c=i.getImageData(0,0,s.width,s.height),f=c.data,p=0;p<f.length;p+=4)f[p+0]*=u,f[p+1]*=l,f[p+2]*=h;i.putImageData(c,0,0)},i.roundColor=function(t){var e=i.cacheStepsPerColorChannel,r=n.hex2rgb(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),n.rgb2hex(r)},i.cacheStepsPerColorChannel=8,i.convertTintToImage=!1,i.canUseMultiply=n.canUseNewCanvasBlendModes(),i.tintMethod=i.canUseMultiply?i.tintWithMultiply:i.tintWithPerPixel},{"../../../utils":70}],42:[function(t,e,r){function n(t,e,r){r=r||{},i.call(this,"WebGL",t,e,r),this.type=d.RENDERER_TYPE.WEBGL,this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.handleContextLost,!1),this.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1),this._useFXAA=!!r.forceFXAA&&r.antialias,this._FXAAFilter=null,this._contextOptions={alpha:this.transparent,antialias:r.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer},this.drawCount=0,this.shaderManager=new o(this),this.maskManager=new s(this),this.stencilManager=new a(this),this.filterManager=new u(this),this.blendModeManager=new l(this),this.currentRenderTarget=null,this.currentRenderer=new c(this),this.initPlugins(),this._createContext(),this._initContext(),this._mapGlModes(),this._managedTextures=[],this._renderTargetStack=[]}var i=t("../SystemRenderer"),o=t("./managers/ShaderManager"),s=t("./managers/MaskManager"),a=t("./managers/StencilManager"),u=t("./managers/FilterManager"),l=t("./managers/BlendModeManager"),h=t("./utils/RenderTarget"),c=t("./utils/ObjectRenderer"),f=t("./filters/FXAAFilter"),p=t("../../utils"),d=t("../../const");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,p.pluginTarget.mixin(n),n.glContextId=0,n.prototype._createContext=function(){var t=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=t,!t)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=n.glContextId++,t.id=this.glContextId,t.renderer=this},n.prototype._initContext=function(){var t=this.gl;t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),this.renderTarget=new h(t,this.width,this.height,null,this.resolution,!0),this.setRenderTarget(this.renderTarget),this.emit("context",t),this.resize(this.width,this.height),this._useFXAA||(this._useFXAA=this._contextOptions.antialias&&!t.getContextAttributes().antialias),this._useFXAA&&(window.console.warn("FXAA antialiasing being used instead of native antialiasing"),this._FXAAFilter=[new f])},n.prototype.render=function(t){if(this.emit("prerender"),!this.gl.isContextLost()){this.drawCount=0,this._lastObjectRendered=t,this._useFXAA&&(this._FXAAFilter[0].uniforms.resolution.value.x=this.width,this._FXAAFilter[0].uniforms.resolution.value.y=this.height,t.filterArea=this.renderTarget.size,t.filters=this._FXAAFilter);var e=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e;var r=this.gl;this.setRenderTarget(this.renderTarget),this.clearBeforeRender&&(this.transparent?r.clearColor(0,0,0,0):r.clearColor(this._backgroundColorRgb[0],this._backgroundColorRgb[1],this._backgroundColorRgb[2],1),r.clear(r.COLOR_BUFFER_BIT)),this.renderDisplayObject(t,this.renderTarget),this.emit("postrender")}},n.prototype.renderDisplayObject=function(t,e,r){this.setRenderTarget(e),r&&e.clear(),this.filterManager.setFilterStack(e.filterStack),t.renderWebGL(this),this.currentRenderer.flush()},n.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},n.prototype.setRenderTarget=function(t){this.currentRenderTarget!==t&&(this.currentRenderTarget=t,this.currentRenderTarget.activate(),this.stencilManager.setMaskStack(t.stencilMaskStack))},n.prototype.resize=function(t,e){i.prototype.resize.call(this,t,e),this.filterManager.resize(t,e),this.renderTarget.resize(t,e),this.currentRenderTarget===this.renderTarget&&(this.renderTarget.activate(),this.gl.viewport(0,0,this.width,this.height))},n.prototype.updateTexture=function(t){if((t=t.baseTexture||t).hasLoaded){var e=this.gl;return t._glTextures[e.id]||(t._glTextures[e.id]=e.createTexture(),t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t)),e.bindTexture(e.TEXTURE_2D,t._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t.scaleMode===d.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.mipmap&&t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===d.SCALE_MODES.LINEAR?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===d.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),t._glTextures[e.id]}},n.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded&&t._glTextures[this.gl.id]&&(this.gl.deleteTexture(t._glTextures[this.gl.id]),delete t._glTextures[this.gl.id],!e)){var r=this._managedTextures.indexOf(t);-1!==r&&p.removeItems(this._managedTextures,r,1)}},n.prototype.handleContextLost=function(t){t.preventDefault()},n.prototype.handleContextRestored=function(){this._initContext();for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.gl.id]&&delete e._glTextures[this.gl.id]}},n.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored);for(var e=0;e<this._managedTextures.length;++e){var r=this._managedTextures[e];this.destroyTexture(r,!0),r.off("update",this.updateTexture,this),r.off("dispose",this.destroyTexture,this)}i.prototype.destroy.call(this,t),this.uid=0,this.shaderManager.destroy(),this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.blendModeManager.destroy(),this.shaderManager=null,this.maskManager=null,this.filterManager=null,this.blendModeManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this._managedTextures=null,this.drawCount=0,this.gl.useProgram(null),this.gl=null},n.prototype._mapGlModes=function(){var t=this.gl;this.blendModes||(this.blendModes={},this.blendModes[d.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.ADD]=[t.SRC_ALPHA,t.DST_ALPHA],this.blendModes[d.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.SCREEN]=[t.SRC_ALPHA,t.ONE],this.blendModes[d.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA]),this.drawModes||(this.drawModes={},this.drawModes[d.DRAW_MODES.POINTS]=t.POINTS,this.drawModes[d.DRAW_MODES.LINES]=t.LINES,this.drawModes[d.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,this.drawModes[d.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,this.drawModes[d.DRAW_MODES.TRIANGLES]=t.TRIANGLES,this.drawModes[d.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,this.drawModes[d.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN)}},{"../../const":16,"../../utils":70,"../SystemRenderer":36,"./filters/FXAAFilter":44,"./managers/BlendModeManager":46,"./managers/FilterManager":47,"./managers/MaskManager":48,"./managers/ShaderManager":49,"./managers/StencilManager":50,"./utils/ObjectRenderer":56,"./utils/RenderTarget":58}],43:[function(t,e,r){function n(t,e,r){this.shaders=[],this.padding=0,this.uniforms=r||{},this.vertexSrc=t||i.defaultVertexSrc,this.fragmentSrc=e||i.defaultFragmentSrc}var i=t("../shaders/TextureShader");n.prototype.constructor=n,e.exports=n,n.prototype.getShader=function(t){var e=t.gl,r=this.shaders[e.id];return r||(r=new i(t.shaderManager,this.vertexSrc,this.fragmentSrc,this.uniforms,this.attributes),this.shaders[e.id]=r),r},n.prototype.applyFilter=function(t,e,r,n){var i=this.getShader(t);t.filterManager.applyFilter(i,e,r,n)},n.prototype.syncUniform=function(t){for(var e=0,r=this.shaders.length;r>e;++e)this.shaders[e].syncUniform(t)}},{"../shaders/TextureShader":55}],44:[function(t,e,r){function n(){i.call(this,"\nprecision mediump float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform vec2 resolution;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n            out vec2 v_rgbNW, out vec2 v_rgbNE,\n            out vec2 v_rgbSW, out vec2 v_rgbSE,\n            out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n   vResolution = resolution;\n\n   //compute the texture coords and send them to varyings\n   texcoords(aTextureCoord * resolution, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'precision lowp float;\n\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE,\n            vec2 v_rgbSW, vec2 v_rgbSE,\n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform sampler2D uSampler;\n\n\nvoid main(void){\n\n    gl_FragColor = fxaa(uSampler, vTextureCoord * vResolution, vResolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n}\n',{resolution:{type:"v2",value:{x:1,y:1}}})}var i=t("./AbstractFilter");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,r){var n=t.filterManager,i=this.getShader(t);n.applyFilter(i,e,r)}},{"./AbstractFilter":43}],45:[function(t,e,r){function n(t){var e=new o.Matrix;i.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    original *= (masky.r * masky.a * alpha * clip);\n    gl_FragColor = original;\n}\n",{mask:{type:"sampler2D",value:t._texture},alpha:{type:"f",value:1},otherMatrix:{type:"mat3",value:e.toArray(!0)}}),this.maskSprite=t,this.maskMatrix=e}var i=t("./AbstractFilter"),o=t("../../../math");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,r){var n=t.filterManager;this.uniforms.mask.value=this.maskSprite._texture,n.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.alpha.value=this.maskSprite.worldAlpha;var i=this.getShader(t);n.applyFilter(i,e,r)},Object.defineProperties(n.prototype,{map:{get:function(){return this.uniforms.mask.value},set:function(t){this.uniforms.mask.value=t}},offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}}})},{"../../../math":26,"./AbstractFilter":43}],46:[function(t,e,r){function n(t){i.call(this,t),this.currentBlendMode=99999}var i=t("./WebGLManager");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.setBlendMode=function(t){if(this.currentBlendMode===t)return!1;this.currentBlendMode=t;var e=this.renderer.blendModes[this.currentBlendMode];return this.renderer.gl.blendFunc(e[0],e[1]),!0}},{"./WebGLManager":51}],47:[function(t,e,r){function n(t){i.call(this,t),this.filterStack=[],this.filterStack.push({renderTarget:t.currentRenderTarget,filter:[],bounds:null}),this.texturePool=[],this.textureSize=new u.Rectangle(0,0,t.width,t.height),this.currentFrame=null}var i=t("./WebGLManager"),o=t("../utils/RenderTarget"),s=t("../../../const"),a=t("../utils/Quad"),u=t("../../../math");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.onContextChange=function(){this.texturePool.length=0;var t=this.renderer.gl;this.quad=new a(t)},n.prototype.setFilterStack=function(t){this.filterStack=t},n.prototype.pushFilter=function(t,e){var r=t.filterArea?t.filterArea.clone():t.getBounds();r.x=0|r.x,r.y=0|r.y,r.width=0|r.width,r.height=0|r.height;var n=0|e[0].padding;if(r.x-=n,r.y-=n,r.width+=2*n,r.height+=2*n,this.renderer.currentRenderTarget.transform){var i=this.renderer.currentRenderTarget.transform;r.x+=i.tx,r.y+=i.ty,this.capFilterArea(r),r.x-=i.tx,r.y-=i.ty}else this.capFilterArea(r);if(r.width>0&&r.height>0){this.currentFrame=r;var o=this.getRenderTarget();this.renderer.setRenderTarget(o),o.clear(),this.filterStack.push({renderTarget:o,filter:e})}else this.filterStack.push({renderTarget:null,filter:e})},n.prototype.popFilter=function(){var t=this.filterStack.pop(),e=this.filterStack[this.filterStack.length-1],r=t.renderTarget;if(t.renderTarget){var n=e.renderTarget,i=this.renderer.gl;this.currentFrame=r.frame,this.quad.map(this.textureSize,r.frame),i.bindBuffer(i.ARRAY_BUFFER,this.quad.vertexBuffer),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,this.quad.indexBuffer);var o=t.filter;if(i.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aVertexPosition,2,i.FLOAT,!1,0,0),i.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aTextureCoord,2,i.FLOAT,!1,0,32),i.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aColor,4,i.FLOAT,!1,0,64),this.renderer.blendModeManager.setBlendMode(s.BLEND_MODES.NORMAL),1===o.length)o[0].uniforms.dimensions&&(o[0].uniforms.dimensions.value[0]=this.renderer.width,o[0].uniforms.dimensions.value[1]=this.renderer.height,o[0].uniforms.dimensions.value[2]=this.quad.vertices[0],o[0].uniforms.dimensions.value[3]=this.quad.vertices[5]),o[0].applyFilter(this.renderer,r,n),this.returnRenderTarget(r);else{for(var a=r,u=this.getRenderTarget(!0),l=0;l<o.length-1;l++){var h=o[l];h.uniforms.dimensions&&(h.uniforms.dimensions.value[0]=this.renderer.width,h.uniforms.dimensions.value[1]=this.renderer.height,h.uniforms.dimensions.value[2]=this.quad.vertices[0],h.uniforms.dimensions.value[3]=this.quad.vertices[5]),h.applyFilter(this.renderer,a,u);var c=a;a=u,u=c}o[o.length-1].applyFilter(this.renderer,a,n),this.returnRenderTarget(a),this.returnRenderTarget(u)}return t.filter}},n.prototype.getRenderTarget=function(t){var e=this.texturePool.pop()||new o(this.renderer.gl,this.textureSize.width,this.textureSize.height,s.SCALE_MODES.LINEAR,this.renderer.resolution*s.FILTER_RESOLUTION);return e.frame=this.currentFrame,t&&e.clear(!0),e},n.prototype.returnRenderTarget=function(t){this.texturePool.push(t)},n.prototype.applyFilter=function(t,e,r,n){var i=this.renderer.gl;this.renderer.setRenderTarget(r),n&&r.clear(),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,e.texture),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0),this.renderer.drawCount++},n.prototype.calculateMappedMatrix=function(t,e,r){var n=e.worldTransform.copy(u.Matrix.TEMP_MATRIX),i=e._texture.baseTexture,o=r.identity(),s=this.textureSize.height/this.textureSize.width;o.translate(t.x/this.textureSize.width,t.y/this.textureSize.height),o.scale(1,s);var a=this.textureSize.width/i.width,l=this.textureSize.height/i.height;return n.tx/=i.width*a,n.ty/=i.width*a,n.invert(),o.prepend(n),o.scale(1,1/s),o.scale(a,l),o.translate(e.anchor.x,e.anchor.y),o},n.prototype.capFilterArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.textureSize.width&&(t.width=this.textureSize.width-t.x),t.y+t.height>this.textureSize.height&&(t.height=this.textureSize.height-t.y)},n.prototype.resize=function(t,e){this.textureSize.width=t,this.textureSize.height=e;for(var r=0;r<this.texturePool.length;r++)this.texturePool[r].resize(t,e)},n.prototype.destroy=function(){this.quad.destroy(),i.prototype.destroy.call(this),this.filterStack=null,this.offsetY=0;for(var t=0;t<this.texturePool.length;t++)this.texturePool[t].destroy();this.texturePool=null}},{"../../../const":16,"../../../math":26,"../utils/Quad":57,"../utils/RenderTarget":58,"./WebGLManager":51}],48:[function(t,e,r){function n(t){i.call(this,t),this.stencilStack=[],this.reverse=!0,this.count=0,this.alphaMaskPool=[]}var i=t("./WebGLManager"),o=t("../filters/SpriteMaskFilter");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.pushMask=function(t,e){e.texture?this.pushSpriteMask(t,e):this.pushStencilMask(t,e)},n.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.popStencilMask(t,e)},n.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool.pop();r||(r=[new o(e)]),r[0].maskSprite=e,this.renderer.filterManager.pushFilter(t,r)},n.prototype.popSpriteMask=function(){var t=this.renderer.filterManager.popFilter();this.alphaMaskPool.push(t)},n.prototype.pushStencilMask=function(t,e){this.renderer.stencilManager.pushMask(e)},n.prototype.popStencilMask=function(t,e){this.renderer.stencilManager.popMask(e)}},{"../filters/SpriteMaskFilter":45,"./WebGLManager":51}],49:[function(t,e,r){function n(t){i.call(this,t),this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.stack=[],this._currentId=-1,this.currentShader=null}var i=t("./WebGLManager"),o=t("../shaders/TextureShader"),s=t("../shaders/ComplexPrimitiveShader"),a=t("../shaders/PrimitiveShader"),u=t("../../../utils");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,u.pluginTarget.mixin(n),e.exports=n,n.prototype.onContextChange=function(){this.initPlugins();var t=this.renderer.gl;this.maxAttibs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.defaultShader=new o(this),this.primitiveShader=new a(this),this.complexPrimitiveShader=new s(this)},n.prototype.setAttribs=function(t){var e;for(e=0;e<this.tempAttribState.length;e++)this.tempAttribState[e]=!1;for(var r in t)this.tempAttribState[t[r]]=!0;var n=this.renderer.gl;for(e=0;e<this.attribState.length;e++)this.attribState[e]!==this.tempAttribState[e]&&(this.attribState[e]=this.tempAttribState[e],this.attribState[e]?n.enableVertexAttribArray(e):n.disableVertexAttribArray(e))},n.prototype.setShader=function(t){return this._currentId!==t.uid&&(this._currentId=t.uid,this.currentShader=t,this.renderer.gl.useProgram(t.program),this.setAttribs(t.attributes),!0)},n.prototype.destroy=function(){this.primitiveShader.destroy(),this.complexPrimitiveShader.destroy(),i.prototype.destroy.call(this),this.destroyPlugins(),this.attribState=null,this.tempAttribState=null}},{"../../../utils":70,"../shaders/ComplexPrimitiveShader":52,"../shaders/PrimitiveShader":53,"../shaders/TextureShader":55,"./WebGLManager":51}],50:[function(t,e,r){function n(t){i.call(this,t),this.stencilMaskStack=null}var i=t("./WebGLManager"),o=t("../../../utils");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.stencilStack.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},n.prototype.pushStencil=function(t,e){this.renderer.currentRenderTarget.attachStencilBuffer();var r=this.renderer.gl,n=this.stencilMaskStack;this.bindGraphics(t,e),0===n.stencilStack.length&&(r.enable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),n.reverse=!0,n.count=0),n.stencilStack.push(e);var i=n.count;r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.ALWAYS,0,255),r.stencilOp(r.KEEP,r.KEEP,r.INVERT),1===e.mode?(r.drawElements(r.TRIANGLE_FAN,e.indices.length-4,r.UNSIGNED_SHORT,0),n.reverse?(r.stencilFunc(r.EQUAL,255-i,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)):(r.stencilFunc(r.EQUAL,i,255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(e.indices.length-4)),n.reverse?r.stencilFunc(r.EQUAL,255-(i+1),255):r.stencilFunc(r.EQUAL,i+1,255),n.reverse=!n.reverse):(n.reverse?(r.stencilFunc(r.EQUAL,i,255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,255-i,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),r.drawElements(r.TRIANGLE_STRIP,e.indices.length,r.UNSIGNED_SHORT,0),n.reverse?r.stencilFunc(r.EQUAL,i+1,255):r.stencilFunc(r.EQUAL,255-(i+1),255)),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),n.count++},n.prototype.bindGraphics=function(t,e){var r,n=this.renderer.gl;1===e.mode?(r=this.renderer.shaderManager.complexPrimitiveShader,this.renderer.shaderManager.setShader(r),n.uniformMatrix3fv(r.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),n.uniformMatrix3fv(r.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),n.uniform3fv(r.uniforms.tint._location,o.hex2rgb(t.tint)),n.uniform3fv(r.uniforms.color._location,e.color),n.uniform1f(r.uniforms.alpha._location,t.worldAlpha),n.bindBuffer(n.ARRAY_BUFFER,e.buffer),n.vertexAttribPointer(r.attributes.aVertexPosition,2,n.FLOAT,!1,8,0),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.indexBuffer)):(r=this.renderer.shaderManager.primitiveShader,this.renderer.shaderManager.setShader(r),n.uniformMatrix3fv(r.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),n.uniformMatrix3fv(r.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),n.uniform3fv(r.uniforms.tint._location,o.hex2rgb(t.tint)),n.uniform1f(r.uniforms.alpha._location,t.worldAlpha),n.bindBuffer(n.ARRAY_BUFFER,e.buffer),n.vertexAttribPointer(r.attributes.aVertexPosition,2,n.FLOAT,!1,24,0),n.vertexAttribPointer(r.attributes.aColor,4,n.FLOAT,!1,24,8),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.indexBuffer))},n.prototype.popStencil=function(t,e){var r=this.renderer.gl,n=this.stencilMaskStack;if(n.stencilStack.pop(),n.count--,0===n.stencilStack.length)r.disable(r.STENCIL_TEST);else{var i=n.count;this.bindGraphics(t,e),r.colorMask(!1,!1,!1,!1),1===e.mode?(n.reverse=!n.reverse,n.reverse?(r.stencilFunc(r.EQUAL,255-(i+1),255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,i+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(e.indices.length-4)),r.stencilFunc(r.ALWAYS,0,255),r.stencilOp(r.KEEP,r.KEEP,r.INVERT),r.drawElements(r.TRIANGLE_FAN,e.indices.length-4,r.UNSIGNED_SHORT,0),this.renderer.drawCount+=2,n.reverse?r.stencilFunc(r.EQUAL,i,255):r.stencilFunc(r.EQUAL,255-i,255)):(n.reverse?(r.stencilFunc(r.EQUAL,i+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)):(r.stencilFunc(r.EQUAL,255-(i+1),255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)),r.drawElements(r.TRIANGLE_STRIP,e.indices.length,r.UNSIGNED_SHORT,0),this.renderer.drawCount++,n.reverse?r.stencilFunc(r.EQUAL,i,255):r.stencilFunc(r.EQUAL,255-i,255)),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)}},n.prototype.destroy=function(){i.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},n.prototype.pushMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),t.dirty&&this.renderer.plugins.graphics.updateGraphics(t,this.renderer.gl),t._webGL[this.renderer.gl.id].data.length&&this.pushStencil(t,t._webGL[this.renderer.gl.id].data[0])},n.prototype.popMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.popStencil(t,t._webGL[this.renderer.gl.id].data[0])}},{"../../../utils":70,"./WebGLManager":51}],51:[function(t,e,r){function n(t){this.renderer=t,this.renderer.on("context",this.onContextChange,this)}n.prototype.constructor=n,e.exports=n,n.prototype.onContextChange=function(){},n.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null}},{}],52:[function(t,e,r){function n(t){i.call(this,t,["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},color:{type:"3f",value:[0,0,0]},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0})}var i=t("./Shader");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n},{"./Shader":54}],53:[function(t,e,r){function n(t){i.call(this,t,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aColor:0})}var i=t("./Shader");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n},{"./Shader":54}],54:[function(t,e,r){function n(t,e,r,n,o){if(!e||!r)throw new Error("Pixi.js Error. Shader requires vertexSrc and fragmentSrc");this.uid=i.uid(),this.gl=t.renderer.gl,this.shaderManager=t,this.program=null,this.uniforms=n||{},this.attributes=o||{},this.textureCount=1,this.vertexSrc=e,this.fragmentSrc=r,this.init()}var i=t("../../../utils");n.prototype.constructor=n,e.exports=n,n.prototype.init=function(){this.compile(),this.gl.useProgram(this.program),this.cacheUniformLocations(Object.keys(this.uniforms)),this.cacheAttributeLocations(Object.keys(this.attributes))},n.prototype.cacheUniformLocations=function(t){for(var e=0;e<t.length;++e)this.uniforms[t[e]]._location=this.gl.getUniformLocation(this.program,t[e])},n.prototype.cacheAttributeLocations=function(t){for(var e=0;e<t.length;++e)this.attributes[t[e]]=this.gl.getAttribLocation(this.program,t[e])},n.prototype.compile=function(){var t=this.gl,e=this._glCompile(t.VERTEX_SHADER,this.vertexSrc),r=this._glCompile(t.FRAGMENT_SHADER,this.fragmentSrc),n=t.createProgram();return t.attachShader(n,e),t.attachShader(n,r),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(n,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(n)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(n)),t.deleteProgram(n),n=null),t.deleteShader(e),t.deleteShader(r),this.program=n},n.prototype.syncUniform=function(t){var e,r,n=t._location,o=t.value,s=this.gl;switch(t.type){case"b":case"bool":case"boolean":s.uniform1i(n,o?1:0);break;case"i":case"1i":s.uniform1i(n,o);break;case"f":case"1f":s.uniform1f(n,o);break;case"2f":s.uniform2f(n,o[0],o[1]);break;case"3f":s.uniform3f(n,o[0],o[1],o[2]);break;case"4f":s.uniform4f(n,o[0],o[1],o[2],o[3]);break;case"v2":s.uniform2f(n,o.x,o.y);break;case"v3":s.uniform3f(n,o.x,o.y,o.z);break;case"v4":s.uniform4f(n,o.x,o.y,o.z,o.w);break;case"1iv":s.uniform1iv(n,o);break;case"2iv":s.uniform2iv(n,o);break;case"3iv":s.uniform3iv(n,o);break;case"4iv":s.uniform4iv(n,o);break;case"1fv":s.uniform1fv(n,o);break;case"2fv":s.uniform2fv(n,o);break;case"3fv":s.uniform3fv(n,o);break;case"4fv":s.uniform4fv(n,o);break;case"m2":case"mat2":case"Matrix2fv":s.uniformMatrix2fv(n,t.transpose,o);break;case"m3":case"mat3":case"Matrix3fv":s.uniformMatrix3fv(n,t.transpose,o);break;case"m4":case"mat4":case"Matrix4fv":s.uniformMatrix4fv(n,t.transpose,o);break;case"c":"number"==typeof o&&(o=i.hex2rgb(o)),s.uniform3f(n,o[0],o[1],o[2]);break;case"iv1":s.uniform1iv(n,o);break;case"iv":s.uniform3iv(n,o);break;case"fv1":s.uniform1fv(n,o);break;case"fv":s.uniform3fv(n,o);break;case"v2v":for(t._array||(t._array=new Float32Array(2*o.length)),e=0,r=o.length;r>e;++e)t._array[2*e]=o[e].x,t._array[2*e+1]=o[e].y;s.uniform2fv(n,t._array);break;case"v3v":for(t._array||(t._array=new Float32Array(3*o.length)),e=0,r=o.length;r>e;++e)t._array[3*e]=o[e].x,t._array[3*e+1]=o[e].y,t._array[3*e+2]=o[e].z;s.uniform3fv(n,t._array);break;case"v4v":for(t._array||(t._array=new Float32Array(4*o.length)),e=0,r=o.length;r>e;++e)t._array[4*e]=o[e].x,t._array[4*e+1]=o[e].y,t._array[4*e+2]=o[e].z,t._array[4*e+3]=o[e].w;s.uniform4fv(n,t._array);break;case"t":case"sampler2D":if(!t.value||!t.value.baseTexture.hasLoaded)break;s.activeTexture(s["TEXTURE"+this.textureCount]);var a=t.value.baseTexture._glTextures[s.id];a||(this.initSampler2D(t),a=t.value.baseTexture._glTextures[s.id]),s.bindTexture(s.TEXTURE_2D,a),s.uniform1i(t._location,this.textureCount),this.textureCount++;break;default:console.warn("Pixi.js Shader Warning: Unknown uniform type: "+t.type)}},n.prototype.syncUniforms=function(){for(var t in this.textureCount=1,this.uniforms)this.syncUniform(this.uniforms[t])},n.prototype.initSampler2D=function(t){var e=this.gl,r=t.value.baseTexture;if(r.hasLoaded)if(t.textureData){var n=t.textureData;r._glTextures[e.id]=e.createTexture(),e.bindTexture(e.TEXTURE_2D,r._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,n.luminance?e.LUMINANCE:e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,n.magFilter?n.magFilter:e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,n.wrapS?n.wrapS:e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,n.wrapS?n.wrapS:e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,n.wrapT?n.wrapT:e.CLAMP_TO_EDGE)}else this.shaderManager.renderer.updateTexture(r)},n.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.gl=null,this.uniforms=null,this.attributes=null,this.vertexSrc=null,this.fragmentSrc=null},n.prototype._glCompile=function(t,e){var r=this.gl.createShader(t);return this.gl.shaderSource(r,e),this.gl.compileShader(r),this.gl.getShaderParameter(r,this.gl.COMPILE_STATUS)?r:(console.log(this.gl.getShaderInfoLog(r)),null)}},{"../../../utils":70}],55:[function(t,e,r){function n(t,e,r,o,s){var a={uSampler:{type:"sampler2D",value:0},projectionMatrix:{type:"mat3",value:new Float32Array([1,0,0,0,1,0,0,0,1])}};if(o)for(var u in o)a[u]=o[u];var l={aVertexPosition:0,aTextureCoord:0,aColor:0};if(s)for(var h in s)l[h]=s[h];e=e||n.defaultVertexSrc,r=r||n.defaultFragmentSrc,i.call(this,t,e,r,a,l)}var i=t("./Shader");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.defaultVertexSrc=["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),n.defaultFragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"].join("\n")},{"./Shader":54}],56:[function(t,e,r){function n(t){i.call(this,t)}var i=t("../managers/WebGLManager");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.start=function(){},n.prototype.stop=function(){this.flush()},n.prototype.flush=function(){},n.prototype.render=function(t){}},{"../managers/WebGLManager":51}],57:[function(t,e,r){function n(t){this.gl=t,this.vertices=new Float32Array([0,0,200,0,200,200,0,200]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.colors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),this.indices=new Uint16Array([0,1,2,0,3,2]),this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,128,t.DYNAMIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.upload()}n.prototype.constructor=n,n.prototype.map=function(t,e){var r=0,n=0;this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this.upload()},n.prototype.upload=function(){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices),t.bufferSubData(t.ARRAY_BUFFER,32,this.uvs),t.bufferSubData(t.ARRAY_BUFFER,64,this.colors)},n.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},e.exports=n},{}],58:[function(t,e,r){var n=t("../../../math"),i=t("../../../utils"),o=t("../../../const"),s=t("./StencilMaskStack"),a=function(t,e,r,a,u,l){if(this.gl=t,this.frameBuffer=null,this.texture=null,this.size=new n.Rectangle(0,0,1,1),this.resolution=u||o.RESOLUTION,this.projectionMatrix=new n.Matrix,this.transform=null,this.frame=null,this.stencilBuffer=null,this.stencilMaskStack=new s,this.filterStack=[{renderTarget:this,filter:[],bounds:this.size}],this.scaleMode=a||o.SCALE_MODES.DEFAULT,this.root=l,!this.root){this.frameBuffer=t.createFramebuffer(),this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,a===o.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,a===o.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST);var h=i.isPowerOfTwo(e,r);h?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0)}this.resize(e,r)};a.prototype.constructor=a,e.exports=a,a.prototype.clear=function(t){var e=this.gl;t&&e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},a.prototype.attachStencilBuffer=function(){if(!this.stencilBuffer&&!this.root){var t=this.gl;this.stencilBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencilBuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.size.width*this.resolution,this.size.height*this.resolution)}},a.prototype.activate=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer);var e=this.frame||this.size;this.calculateProjection(e),this.transform&&this.projectionMatrix.append(this.transform),t.viewport(0,0,e.width*this.resolution,e.height*this.resolution)},a.prototype.calculateProjection=function(t){var e=this.projectionMatrix;e.identity(),this.root?(e.a=1/t.width*2,e.d=-1/t.height*2,e.tx=-1-t.x*e.a,e.ty=1-t.y*e.d):(e.a=1/t.width*2,e.d=1/t.height*2,e.tx=-1-t.x*e.a,e.ty=-1-t.y*e.d)},a.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){if(this.size.width=t,this.size.height=e,!this.root){var r=this.gl;r.bindTexture(r.TEXTURE_2D,this.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t*this.resolution,e*this.resolution,0,r.RGBA,r.UNSIGNED_BYTE,null),this.stencilBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencilBuffer),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t*this.resolution,e*this.resolution))}var n=this.frame||this.size;this.calculateProjection(n)}},a.prototype.destroy=function(){var t=this.gl;t.deleteRenderbuffer(this.stencilBuffer),t.deleteFramebuffer(this.frameBuffer),t.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null}},{"../../../const":16,"../../../math":26,"../../../utils":70,"./StencilMaskStack":59}],59:[function(t,e,r){function n(){this.stencilStack=[],this.reverse=!0,this.count=0}n.prototype.constructor=n,e.exports=n},{}],60:[function(t,e,r){function n(t){s.call(this),this.anchor=new i.Point,this._texture=null,this._width=0,this._height=0,this.tint=16777215,this.blendMode=l.BLEND_MODES.NORMAL,this.shader=null,this.cachedTint=16777215,this.texture=t||o.EMPTY}var i=t("../math"),o=t("../textures/Texture"),s=t("../display/Container"),a=t("../renderers/canvas/utils/CanvasTinter"),u=t("../utils"),l=t("../const"),h=new i.Point;n.prototype=Object.create(s.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{width:{get:function(){return Math.abs(this.scale.x)*this.texture._frame.width},set:function(t){var e=u.sign(this.scale.x)||1;this.scale.x=e*t/this.texture._frame.width,this._width=t}},height:{get:function(){return Math.abs(this.scale.y)*this.texture._frame.height},set:function(t){var e=u.sign(this.scale.y)||1;this.scale.y=e*t/this.texture._frame.height,this._height=t}},texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),n.prototype._onTextureUpdate=function(){this._width&&(this.scale.x=u.sign(this.scale.x)*this._width/this.texture.frame.width),this._height&&(this.scale.y=u.sign(this.scale.y)*this._height/this.texture.frame.height)},n.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this)},n.prototype.getBounds=function(t){if(!this._currentBounds){var e,r,n,i,o=this._texture._frame.width,s=this._texture._frame.height,a=o*(1-this.anchor.x),u=o*-this.anchor.x,l=s*(1-this.anchor.y),h=s*-this.anchor.y,c=t||this.worldTransform,f=c.a,p=c.b,d=c.c,g=c.d,v=c.tx,m=c.ty,y=f*u+d*h+v,x=g*h+p*u+m,b=f*a+d*h+v,_=g*h+p*a+m,w=f*a+d*l+v,T=g*l+p*a+m,E=f*u+d*l+v,S=g*l+p*u+m;if(e=(e=(e=(e=y)>b?b:e)>w?w:e)>E?E:e,n=(n=(n=(n=x)>_?_:n)>T?T:n)>S?S:n,r=E>(r=w>(r=b>(r=y)?b:r)?w:r)?E:r,i=S>(i=T>(i=_>(i=x)?_:i)?T:i)?S:i,this.children.length){var A=this.containerGetBounds();a=A.x,u=A.x+A.width,l=A.y,h=A.y+A.height,e=a>e?e:a,n=l>n?n:l,r=r>u?r:u,i=i>h?i:h}var C=this._bounds;C.x=e,C.width=r-e,C.y=n,C.height=i-n,this._currentBounds=C}return this._currentBounds},n.prototype.getLocalBounds=function(){return this._bounds.x=-this._texture._frame.width*this.anchor.x,this._bounds.y=-this._texture._frame.height*this.anchor.y,this._bounds.width=this._texture._frame.width,this._bounds.height=this._texture._frame.height,this._bounds},n.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,h);var e,r=this._texture._frame.width,n=this._texture._frame.height,i=-r*this.anchor.x;return h.x>i&&h.x<i+r&&(e=-n*this.anchor.y,h.y>e&&h.y<e+n)},n.prototype._renderCanvas=function(t){if(!(this.texture.crop.width<=0||this.texture.crop.height<=0)){var e=t.blendModes[this.blendMode];if(e!==t.context.globalCompositeOperation&&(t.context.globalCompositeOperation=e),this.texture.valid){var r,n,i,o,s=this._texture,u=this.worldTransform;t.context.globalAlpha=this.worldAlpha;var h=s.baseTexture.scaleMode===l.SCALE_MODES.LINEAR;if(t.smoothProperty&&t.context[t.smoothProperty]!==h&&(t.context[t.smoothProperty]=h),s.rotate){i=s.crop.height,o=s.crop.width,r=s.trim?s.trim.y-this.anchor.y*s.trim.height:this.anchor.y*-s._frame.height,n=s.trim?s.trim.x-this.anchor.x*s.trim.width:this.anchor.x*-s._frame.width,r+=i,u.tx=n*u.a+r*u.c+u.tx,u.ty=n*u.b+r*u.d+u.ty;var c=u.a;u.a=-u.c,u.c=c,c=u.b,u.b=-u.d,u.d=c,r=0,n=0}else i=s.crop.width,o=s.crop.height,r=s.trim?s.trim.x-this.anchor.x*s.trim.width:this.anchor.x*-s._frame.width,n=s.trim?s.trim.y-this.anchor.y*s.trim.height:this.anchor.y*-s._frame.height;t.roundPixels?(t.context.setTransform(u.a,u.b,u.c,u.d,u.tx*t.resolution|0,u.ty*t.resolution|0),r|=0,n|=0):t.context.setTransform(u.a,u.b,u.c,u.d,u.tx*t.resolution,u.ty*t.resolution);var f=s.baseTexture.resolution;16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=a.getTintedTexture(this,this.tint)),t.context.drawImage(this.tintedTexture,0,0,i*f,o*f,r*t.resolution,n*t.resolution,i*t.resolution,o*t.resolution)):t.context.drawImage(s.baseTexture.source,s.crop.x*f,s.crop.y*f,i*f,o*f,r*t.resolution,n*t.resolution,i*t.resolution,o*t.resolution)}}},n.prototype.destroy=function(t,e){s.prototype.destroy.call(this),this.anchor=null,t&&this._texture.destroy(e),this._texture=null,this.shader=null},n.fromFrame=function(t){var e=u.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new n(e)},n.fromImage=function(t,e,r){return new n(o.fromImage(t,e,r))}},{"../const":16,"../display/Container":17,"../math":26,"../renderers/canvas/utils/CanvasTinter":41,"../textures/Texture":65,"../utils":70}],61:[function(t,e,r){function n(t){i.call(this,t),this.vertSize=5,this.vertByteSize=4*this.vertSize,this.size=s.SPRITE_BATCH_SIZE;var e=4*this.size*this.vertByteSize,r=6*this.size;this.vertices=new ArrayBuffer(e),this.positions=new Float32Array(this.vertices),this.colors=new Uint32Array(this.vertices),this.indices=new Uint16Array(r);for(var n=0,o=0;r>n;n+=6,o+=4)this.indices[n+0]=o+0,this.indices[n+1]=o+1,this.indices[n+2]=o+2,this.indices[n+3]=o+0,this.indices[n+4]=o+2,this.indices[n+5]=o+3;this.currentBatchSize=0,this.sprites=[],this.shader=null}var i=t("../../renderers/webgl/utils/ObjectRenderer"),o=t("../../renderers/webgl/WebGLRenderer"),s=t("../../const");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,o.registerPlugin("sprite",n),n.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=this.renderer.shaderManager.defaultShader,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW),this.currentBlendMode=99999},n.prototype.render=function(t){var e=t._texture;this.currentBatchSize>=this.size&&this.flush();var r=e._uvs;if(r){var n,i,o,s,a=t.anchor.x,u=t.anchor.y;if(e.trim&&void 0===t.tileScale){var l=e.trim;i=l.x-a*l.width,n=i+e.crop.width,s=l.y-u*l.height,o=s+e.crop.height}else n=e._frame.width*(1-a),i=e._frame.width*-a,o=e._frame.height*(1-u),s=e._frame.height*-u;var h=this.currentBatchSize*this.vertByteSize,c=t.worldTransform,f=c.a,p=c.b,d=c.c,g=c.d,v=c.tx,m=c.ty,y=this.colors,x=this.positions;if(this.renderer.roundPixels){var b=this.renderer.resolution;x[h]=((f*i+d*s+v)*b|0)/b,x[h+1]=((g*s+p*i+m)*b|0)/b,x[h+5]=((f*n+d*s+v)*b|0)/b,x[h+6]=((g*s+p*n+m)*b|0)/b,x[h+10]=((f*n+d*o+v)*b|0)/b,x[h+11]=((g*o+p*n+m)*b|0)/b,x[h+15]=((f*i+d*o+v)*b|0)/b,x[h+16]=((g*o+p*i+m)*b|0)/b}else x[h]=f*i+d*s+v,x[h+1]=g*s+p*i+m,x[h+5]=f*n+d*s+v,x[h+6]=g*s+p*n+m,x[h+10]=f*n+d*o+v,x[h+11]=g*o+p*n+m,x[h+15]=f*i+d*o+v,x[h+16]=g*o+p*i+m;x[h+2]=r.x0,x[h+3]=r.y0,x[h+7]=r.x1,x[h+8]=r.y1,x[h+12]=r.x2,x[h+13]=r.y2,x[h+17]=r.x3,x[h+18]=r.y3;var _=t.tint;y[h+4]=y[h+9]=y[h+14]=y[h+19]=(_>>16)+(65280&_)+((255&_)<<16)+(255*t.worldAlpha<<24),this.sprites[this.currentBatchSize++]=t}},n.prototype.flush=function(){if(0!==this.currentBatchSize){var t,e=this.renderer.gl;if(this.currentBatchSize>.5*this.size)e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices);else{var r=this.positions.subarray(0,this.currentBatchSize*this.vertByteSize);e.bufferSubData(e.ARRAY_BUFFER,0,r)}for(var n,i,o,s,a=0,u=0,l=null,h=this.renderer.blendModeManager.currentBlendMode,c=null,f=!1,p=!1,d=0,g=this.currentBatchSize;g>d;d++)s=this.sprites[d],n=s._texture.baseTexture,i=s.blendMode,o=s.shader||this.shader,f=h!==i,p=c!==o,(l!==n||f||p)&&(this.renderBatch(l,a,u),u=d,a=0,l=n,f&&(h=i,this.renderer.blendModeManager.setBlendMode(h)),p&&((t=(c=o).shaders?c.shaders[e.id]:c)||(t=c.getShader(this.renderer)),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),e.activeTexture(e.TEXTURE0))),a++;this.renderBatch(l,a,u),this.currentBatchSize=0}},n.prototype.renderBatch=function(t,e,r){if(0!==e){var n=this.renderer.gl;t._glTextures[n.id]?n.bindTexture(n.TEXTURE_2D,t._glTextures[n.id]):this.renderer.updateTexture(t),n.drawElements(n.TRIANGLES,6*e,n.UNSIGNED_SHORT,6*r*2),this.renderer.drawCount++}},n.prototype.start=function(){var t=this.renderer.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.vertByteSize;t.vertexAttribPointer(this.shader.attributes.aVertexPosition,2,t.FLOAT,!1,e,0),t.vertexAttribPointer(this.shader.attributes.aTextureCoord,2,t.FLOAT,!1,e,8),t.vertexAttribPointer(this.shader.attributes.aColor,4,t.UNSIGNED_BYTE,!0,e,16)},n.prototype.destroy=function(){this.renderer.gl.deleteBuffer(this.vertexBuffer),this.renderer.gl.deleteBuffer(this.indexBuffer),i.prototype.destroy.call(this),this.shader.destroy(),this.renderer=null,this.vertices=null,this.positions=null,this.colors=null,this.indices=null,this.vertexBuffer=null,this.indexBuffer=null,this.sprites=null,this.shader=null}},{"../../const":16,"../../renderers/webgl/WebGLRenderer":42,"../../renderers/webgl/utils/ObjectRenderer":56}],62:[function(t,e,r){function n(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||u.RESOLUTION,this._text=null,this._style=null;var n=o.fromCanvas(this.canvas);n.trim=new s.Rectangle,i.call(this,n),this.text=t,this.style=e}var i=t("../sprites/Sprite"),o=t("../textures/Texture"),s=t("../math"),a=t("../utils"),u=t("../const");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.fontPropertiesCache={},n.fontPropertiesCanvas=document.createElement("canvas"),n.fontPropertiesContext=n.fontPropertiesCanvas.getContext("2d"),Object.defineProperties(n.prototype,{width:{get:function(){return this.dirty&&this.updateText(),this.scale.x*this._texture._frame.width},set:function(t){this.scale.x=t/this._texture._frame.width,this._width=t}},height:{get:function(){return this.dirty&&this.updateText(),this.scale.y*this._texture._frame.height},set:function(t){this.scale.y=t/this._texture._frame.height,this._height=t}},style:{get:function(){return this._style},set:function(t){"number"==typeof(t=t||{}).fill&&(t.fill=a.hex2string(t.fill)),"number"==typeof t.stroke&&(t.stroke=a.hex2string(t.stroke)),"number"==typeof t.dropShadowColor&&(t.dropShadowColor=a.hex2string(t.dropShadowColor)),t.font=t.font||"bold 20pt Arial",t.fill=t.fill||"black",t.align=t.align||"left",t.stroke=t.stroke||"black",t.strokeThickness=t.strokeThickness||0,t.wordWrap=t.wordWrap||!1,t.wordWrapWidth=t.wordWrapWidth||100,t.dropShadow=t.dropShadow||!1,t.dropShadowColor=t.dropShadowColor||"#000000",t.dropShadowAngle=void 0!==t.dropShadowAngle?t.dropShadowAngle:Math.PI/6,t.dropShadowDistance=void 0!==t.dropShadowDistance?t.dropShadowDistance:5,t.dropShadowBlur=void 0!==t.dropShadowBlur?t.dropShadowBlur:0,t.padding=t.padding||0,t.textBaseline=t.textBaseline||"alphabetic",t.lineJoin=t.lineJoin||"miter",t.miterLimit=t.miterLimit||10,this._style=t,this.dirty=!0}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),n.prototype.updateText=function(){var t=this._style;this.context.font=t.font;for(var e=t.wordWrap?this.wordWrap(this._text):this._text,r=e.split(/(?:\r\n|\r|\n)/),n=new Array(r.length),i=0,o=this.determineFontProperties(t.font),s=0;s<r.length;s++){var a=this.context.measureText(r[s]).width;n[s]=a,i=Math.max(i,a)}var u=i+t.strokeThickness;t.dropShadow&&(u+=t.dropShadowDistance),this.canvas.width=(u+this.context.lineWidth)*this.resolution;var l,h,c=this.style.lineHeight||o.fontSize+t.strokeThickness,f=c*r.length;if(t.dropShadow&&(f+=t.dropShadowDistance),this.canvas.height=(f+2*this._style.padding)*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=t.font,this.context.strokeStyle=t.stroke,this.context.lineWidth=t.strokeThickness,this.context.textBaseline=t.textBaseline,this.context.lineJoin=t.lineJoin,this.context.miterLimit=t.miterLimit,t.dropShadow){t.dropShadowBlur>0?(this.context.shadowColor=t.dropShadowColor,this.context.shadowBlur=t.dropShadowBlur):this.context.fillStyle=t.dropShadowColor;var p=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,d=Math.sin(t.dropShadowAngle)*t.dropShadowDistance;for(s=0;s<r.length;s++)l=t.strokeThickness/2,h=t.strokeThickness/2+s*c+o.ascent,"right"===t.align?l+=i-n[s]:"center"===t.align&&(l+=(i-n[s])/2),t.fill&&this.context.fillText(r[s],l+p,h+d+this._style.padding)}for(this.context.fillStyle=t.fill,s=0;s<r.length;s++)l=t.strokeThickness/2,h=t.strokeThickness/2+s*c+o.ascent,"right"===t.align?l+=i-n[s]:"center"===t.align&&(l+=(i-n[s])/2),t.stroke&&t.strokeThickness&&this.context.strokeText(r[s],l,h+this._style.padding),t.fill&&this.context.fillText(r[s],l,h+this._style.padding);this.updateTexture()},n.prototype.updateTexture=function(){var t=this._texture;t.baseTexture.hasLoaded=!0,t.baseTexture.resolution=this.resolution,t.baseTexture.width=this.canvas.width/this.resolution,t.baseTexture.height=this.canvas.height/this.resolution,t.crop.width=t._frame.width=this.canvas.width/this.resolution,t.crop.height=t._frame.height=this.canvas.height/this.resolution,t.trim.x=0,t.trim.y=-this._style.padding,t.trim.width=t._frame.width,t.trim.height=t._frame.height-2*this._style.padding,this._width=this.canvas.width/this.resolution,this._height=this.canvas.height/this.resolution,t.baseTexture.emit("update",t.baseTexture),this.dirty=!1},n.prototype.renderWebGL=function(t){this.dirty&&this.updateText(),i.prototype.renderWebGL.call(this,t)},n.prototype._renderCanvas=function(t){this.dirty&&this.updateText(),i.prototype._renderCanvas.call(this,t)},n.prototype.determineFontProperties=function(t){var e=n.fontPropertiesCache[t];if(!e){e={};var r=n.fontPropertiesCanvas,i=n.fontPropertiesContext;i.font=t;var o=Math.ceil(i.measureText("|MÉq").width),s=Math.ceil(i.measureText("M").width),a=2*s;s=1.4*s|0,r.width=o,r.height=a,i.fillStyle="#f00",i.fillRect(0,0,o,a),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText("|MÉq",0,s);var u,l,h=i.getImageData(0,0,o,a).data,c=h.length,f=4*o,p=0,d=!1;for(u=0;s>u;u++){for(l=0;f>l;l+=4)if(255!==h[p+l]){d=!0;break}if(d)break;p+=f}for(e.ascent=s-u,p=c-f,d=!1,u=a;u>s;u--){for(l=0;f>l;l+=4)if(255!==h[p+l]){d=!0;break}if(d)break;p-=f}e.descent=u-s,e.fontSize=e.ascent+e.descent,n.fontPropertiesCache[t]=e}return e},n.prototype.wordWrap=function(t){for(var e="",r=t.split("\n"),n=this._style.wordWrapWidth,i=0;i<r.length;i++){for(var o=n,s=r[i].split(" "),a=0;a<s.length;a++){var u=this.context.measureText(s[a]).width,l=u+this.context.measureText(" ").width;0===a||l>o?(a>0&&(e+="\n"),e+=s[a],o=n-u):(o-=l,e+=" "+s[a])}i<r.length-1&&(e+="\n")}return e},n.prototype.getBounds=function(t){return this.dirty&&this.updateText(),i.prototype.getBounds.call(this,t)},n.prototype.destroy=function(t){this.context=null,this.canvas=null,this._style=null,this._texture.destroy(void 0===t||t)}},{"../const":16,"../math":26,"../sprites/Sprite":60,"../textures/Texture":65,"../utils":70}],63:[function(t,e,r){function n(t,e,r){s.call(this),this.uid=i.uid(),this.resolution=r||1,this.width=100,this.height=100,this.realWidth=100,this.realHeight=100,this.scaleMode=e||o.SCALE_MODES.DEFAULT,this.hasLoaded=!1,this.isLoading=!1,this.source=null,this.premultipliedAlpha=!0,this.imageUrl=null,this.isPowerOfTwo=!1,this.mipmap=!1,this._glTextures={},t&&this.loadSource(t)}var i=t("../utils"),o=t("../const"),s=t("eventemitter3");n.prototype=Object.create(s.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.update=function(){this.realWidth=this.source.naturalWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.height,this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=i.isPowerOfTwo(this.realWidth,this.realHeight),this.emit("update",this)},n.prototype.loadSource=function(t){var e=this.isLoading;if(this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null),this.source=t,(this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this._sourceLoaded();else if(!t.getContext){this.isLoading=!0;var r=this;t.onload=function(){t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r._sourceLoaded(),r.emit("loaded",r))},t.onerror=function(){t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r.emit("error",r))},t.complete&&t.src&&(this.isLoading=!1,t.onload=null,t.onerror=null,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this))}},n.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},n.prototype.destroy=function(){this.imageUrl?(delete i.BaseTextureCache[this.imageUrl],delete i.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete i.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose()},n.prototype.dispose=function(){this.emit("dispose",this)},n.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},n.fromImage=function(t,e,r){var o=i.BaseTextureCache[t];if(void 0===e&&0!==t.indexOf("data:")&&(e=!0),!o){var s=new Image;e&&(s.crossOrigin=""),(o=new n(s,r)).imageUrl=t,s.src=t,i.BaseTextureCache[t]=o,o.resolution=i.getResolutionOfUrl(t)}return o},n.fromCanvas=function(t,e){t._pixiId||(t._pixiId="canvas_"+i.uid());var r=i.BaseTextureCache[t._pixiId];return r||(r=new n(t,e),i.BaseTextureCache[t._pixiId]=r),r}},{"../const":16,"../utils":70,eventemitter3:10}],64:[function(t,e,r){function n(t,e,r,n,c){if(!t)throw new Error("Unable to create RenderTexture, you must pass a renderer into the constructor.");e=e||100,r=r||100,c=c||h.RESOLUTION;var f=new i;if(f.width=e,f.height=r,f.resolution=c,f.scaleMode=n||h.SCALE_MODES.DEFAULT,f.hasLoaded=!0,o.call(this,f,new l.Rectangle(0,0,e,r)),this.width=e,this.height=r,this.resolution=c,this.render=null,this.renderer=t,this.renderer.type===h.RENDERER_TYPE.WEBGL){var p=this.renderer.gl;this.textureBuffer=new s(p,this.width,this.height,f.scaleMode,this.resolution),this.baseTexture._glTextures[p.id]=this.textureBuffer.texture,this.filterManager=new a(this.renderer),this.filterManager.onContextChange(),this.filterManager.resize(e,r),this.render=this.renderWebGL,this.renderer.currentRenderer.start(),this.renderer.currentRenderTarget.activate()}else this.render=this.renderCanvas,this.textureBuffer=new u(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this._updateUvs()}var i=t("./BaseTexture"),o=t("./Texture"),s=t("../renderers/webgl/utils/RenderTarget"),a=t("../renderers/webgl/managers/FilterManager"),u=t("../renderers/canvas/utils/CanvasBuffer"),l=t("../math"),h=t("../const"),c=new l.Matrix;n.prototype=Object.create(o.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.resize=function(t,e,r){(t!==this.width||e!==this.height)&&(this.valid=t>0&&e>0,this.width=this._frame.width=this.crop.width=t,this.height=this._frame.height=this.crop.height=e,r&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.valid&&(this.textureBuffer.resize(this.width,this.height),this.filterManager&&this.filterManager.resize(this.width,this.height)))},n.prototype.clear=function(){this.valid&&(this.renderer.type===h.RENDERER_TYPE.WEBGL&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},n.prototype.renderWebGL=function(t,e,r,n){if(this.valid){if(n=void 0===n||n,this.textureBuffer.transform=e,this.textureBuffer.activate(),t.worldAlpha=1,n){t.worldTransform.identity(),t.currentBounds=null;var i,o,s=t.children;for(i=0,o=s.length;o>i;++i)s[i].updateTransform()}var a=this.renderer.filterManager;this.renderer.filterManager=this.filterManager,this.renderer.renderDisplayObject(t,this.textureBuffer,r),this.renderer.filterManager=a}},n.prototype.renderCanvas=function(t,e,r,n){if(this.valid){n=!!n;var i=c;i.identity(),e&&i.append(e);var o=t.worldTransform;t.worldTransform=i,t.worldAlpha=1;var s,a,u=t.children;for(s=0,a=u.length;a>s;++s)u[s].updateTransform();r&&this.textureBuffer.clear();var l=this.textureBuffer.context,h=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(t,l),this.renderer.resolution=h,t.worldTransform===i&&(t.worldTransform=o)}},n.prototype.destroy=function(){o.prototype.destroy.call(this,!0),this.textureBuffer.destroy(),this.filterManager&&this.filterManager.destroy(),this.renderer=null},n.prototype.getImage=function(){var t=new Image;return t.src=this.getBase64(),t},n.prototype.getBase64=function(){return this.getCanvas().toDataURL()},n.prototype.getCanvas=function(){if(this.renderer.type===h.RENDERER_TYPE.WEBGL){var t=this.renderer.gl,e=this.textureBuffer.size.width,r=this.textureBuffer.size.height,n=new Uint8Array(4*e*r);t.bindFramebuffer(t.FRAMEBUFFER,this.textureBuffer.frameBuffer),t.readPixels(0,0,e,r,t.RGBA,t.UNSIGNED_BYTE,n),t.bindFramebuffer(t.FRAMEBUFFER,null);var i=new u(e,r),o=i.context.getImageData(0,0,e,r);return o.data.set(n),i.context.putImageData(o,0,0),i.canvas}return this.textureBuffer.canvas},n.prototype.getPixels=function(){var t,e;if(this.renderer.type===h.RENDERER_TYPE.WEBGL){var r=this.renderer.gl;t=this.textureBuffer.size.width,e=this.textureBuffer.size.height;var n=new Uint8Array(4*t*e);return r.bindFramebuffer(r.FRAMEBUFFER,this.textureBuffer.frameBuffer),r.readPixels(0,0,t,e,r.RGBA,r.UNSIGNED_BYTE,n),r.bindFramebuffer(r.FRAMEBUFFER,null),n}return t=this.textureBuffer.canvas.width,e=this.textureBuffer.canvas.height,this.textureBuffer.canvas.getContext("2d").getImageData(0,0,t,e).data},n.prototype.getPixel=function(t,e){if(this.renderer.type===h.RENDERER_TYPE.WEBGL){var r=this.renderer.gl,n=new Uint8Array(4);return r.bindFramebuffer(r.FRAMEBUFFER,this.textureBuffer.frameBuffer),r.readPixels(t,e,1,1,r.RGBA,r.UNSIGNED_BYTE,n),r.bindFramebuffer(r.FRAMEBUFFER,null),n}return this.textureBuffer.canvas.getContext("2d").getImageData(t,e,1,1).data}},{"../const":16,"../math":26,"../renderers/canvas/utils/CanvasBuffer":38,"../renderers/webgl/managers/FilterManager":47,"../renderers/webgl/utils/RenderTarget":58,"./BaseTexture":63,"./Texture":65}],65:[function(t,e,r){function n(t,e,r,i,o){a.call(this),this.noFrame=!1,e||(this.noFrame=!0,e=new u.Rectangle(0,0,1,1)),t instanceof n&&(t=t.baseTexture),this.baseTexture=t,this._frame=e,this.trim=i,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=r||e,this.rotate=!!o,t.hasLoaded?(this.noFrame&&(e=new u.Rectangle(0,0,t.width,t.height),t.on("update",this.onBaseTextureUpdated,this)),this.frame=e):t.once("loaded",this.onBaseTextureLoaded,this)}var i=t("./BaseTexture"),o=t("./VideoBaseTexture"),s=t("./TextureUvs"),a=t("eventemitter3"),u=t("../math"),l=t("../utils");n.prototype=Object.create(a.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{frame:{get:function(){return this._frame},set:function(t){if(this._frame=t,this.noFrame=!1,this.width=t.width,this.height=t.height,!this.trim&&!this.rotate&&(t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=t&&t.width&&t.height&&this.baseTexture.hasLoaded,this.trim?(this.width=this.trim.width,this.height=this.trim.height,this._frame.width=this.trim.width,this._frame.height=this.trim.height):this.crop=t,this.valid&&this._updateUvs()}}}),n.prototype.update=function(){this.baseTexture.update()},n.prototype.onBaseTextureLoaded=function(t){this.noFrame?this.frame=new u.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.emit("update",this)},n.prototype.onBaseTextureUpdated=function(t){this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},n.prototype.destroy=function(t){this.baseTexture&&(t&&this.baseTexture.destroy(),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.crop=null,this.valid=!1,this.off("dispose",this.dispose,this),this.off("update",this.update,this)},n.prototype.clone=function(){return new n(this.baseTexture,this.frame,this.crop,this.trim,this.rotate)},n.prototype._updateUvs=function(){this._uvs||(this._uvs=new s),this._uvs.set(this.crop,this.baseTexture,this.rotate)},n.fromImage=function(t,e,r){var o=l.TextureCache[t];return o||(o=new n(i.fromImage(t,e,r)),l.TextureCache[t]=o),o},n.fromFrame=function(t){var e=l.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},n.fromCanvas=function(t,e){return new n(i.fromCanvas(t,e))},n.fromVideo=function(t,e){return"string"==typeof t?n.fromVideoUrl(t,e):new n(o.fromVideo(t,e))},n.fromVideoUrl=function(t,e){return new n(o.fromUrl(t,e))},n.addTextureToCache=function(t,e){l.TextureCache[e]=t},n.removeTextureFromCache=function(t){var e=l.TextureCache[t];return delete l.TextureCache[t],delete l.BaseTextureCache[t],e},n.EMPTY=new n(new i)},{"../math":26,"../utils":70,"./BaseTexture":63,"./TextureUvs":66,"./VideoBaseTexture":67,eventemitter3:10}],66:[function(t,e,r){function n(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1}e.exports=n,n.prototype.set=function(t,e,r){var n=e.width,i=e.height;r?(this.x0=(t.x+t.height)/n,this.y0=t.y/i,this.x1=(t.x+t.height)/n,this.y1=(t.y+t.width)/i,this.x2=t.x/n,this.y2=(t.y+t.width)/i,this.x3=t.x/n,this.y3=t.y/i):(this.x0=t.x/n,this.y0=t.y/i,this.x1=(t.x+t.width)/n,this.y1=t.y/i,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/i,this.x3=t.x/n,this.y3=(t.y+t.height)/i)}},{}],67:[function(t,e,r){function n(t,e){if(!t)throw new Error("No video source element specified.");(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),o.call(this,t,e),this.autoUpdate=!1,this._onUpdate=this._onUpdate.bind(this),this._onCanPlay=this._onCanPlay.bind(this),t.complete||(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this))),this.__loaded=!1}function i(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=t,r.type=e,r}var o=t("./BaseTexture"),s=t("../utils");n.prototype=Object.create(o.prototype),n.prototype.constructor=n,e.exports=n,n.prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this._onUpdate),this.update())},n.prototype._onPlayStart=function(){this.autoUpdate||(window.requestAnimationFrame(this._onUpdate),this.autoUpdate=!0)},n.prototype._onPlayStop=function(){this.autoUpdate=!1},n.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.source.play(),this.__loaded||(this.__loaded=!0,this.emit("loaded",this)))},n.prototype.destroy=function(){this.source&&this.source._pixiId&&(delete s.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),o.prototype.destroy.call(this)},n.fromVideo=function(t,e){t._pixiId||(t._pixiId="video_"+s.uid());var r=s.BaseTextureCache[t._pixiId];return r||(r=new n(t,e),s.BaseTextureCache[t._pixiId]=r),r},n.fromUrl=function(t,e){var r=document.createElement("video");if(Array.isArray(t))for(var o=0;o<t.length;++o)r.appendChild(i(t[o].src||t[o],t[o].mime));else r.appendChild(i(t.src||t,t.mime));return r.load(),r.play(),n.fromVideo(r,e)},n.fromUrls=n.fromUrl},{"../utils":70,"./BaseTexture":63}],68:[function(t,e,r){function n(){var t=this;this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._emitter.listeners(s,!0)&&(t._requestId=requestAnimationFrame(t._tick)))},this._emitter=new o,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/i.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1}var i=t("../const"),o=t("eventemitter3"),s="tick";Object.defineProperties(n.prototype,{FPS:{get:function(){return 1e3/this.elapsedMS}},minFPS:{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,i.TARGET_FPMS);this._maxElapsedMS=1/e}}}),n.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(s,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},n.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},n.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},n.prototype.add=function(t,e){return this._emitter.on(s,t,e),this._startIfPossible(),this},n.prototype.addOnce=function(t,e){return this._emitter.once(s,t,e),this._startIfPossible(),this},n.prototype.remove=function(t,e){return this._emitter.off(s,t,e),this._emitter.listeners(s,!0)||this._cancelIfNeeded(),this},n.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},n.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},n.prototype.update=function(t){var e;t=t||performance.now(),(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*i.TARGET_FPMS*this.speed,this._emitter.emit(s,this.deltaTime),this.lastTime=t},e.exports=n},{"../const":16,eventemitter3:10}],69:[function(t,e,r){var n=t("./Ticker"),i=new n;i.autoStart=!0,e.exports={shared:i,Ticker:n}},{"./Ticker":68}],70:[function(t,e,r){var n=t("../const"),i=e.exports={_uid:0,_saidHello:!1,EventEmitter:t("eventemitter3"),pluginTarget:t("./pluginTarget"),async:t("async"),uid:function(){return++i._uid},hex2rgb:function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},hex2string:function(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)},rgb2hex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},canUseNewCanvasBlendModes:function(){if("undefined"==typeof document)return!1;var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",e="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",r=new Image;r.src=t+"AP804Oa6"+e;var n=new Image;n.src=t+"/wCKxvRF"+e;var i=document.createElement("canvas");i.width=6,i.height=1;var o=i.getContext("2d");o.globalCompositeOperation="multiply",o.drawImage(r,0,0),o.drawImage(n,2,0);var s=o.getImageData(2,0,1,1).data;return 255===s[0]&&0===s[1]&&0===s[2]},getNextPowerOfTwo:function(t){if(t>0&&0==(t&t-1))return t;for(var e=1;t>e;)e<<=1;return e},isPowerOfTwo:function(t,e){return t>0&&0==(t&t-1)&&e>0&&0==(e&e-1)},getResolutionOfUrl:function(t){var e=n.RETINA_PREFIX.exec(t);return e?parseFloat(e[1]):1},sayHello:function(t){if(!i._saidHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c Pixi.js "+n.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("Pixi.js "+n.VERSION+" - "+t+" - http://www.pixijs.com/");i._saidHello=!0}},isWebGLSupported:function(){var t={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);return!(!r||!r.getContextAttributes().stencil)}catch(t){return!1}},sign:function(t){return t?0>t?-1:1:0},removeItems:function(t,e,r){var n=t.length;if(!(e>=n||0===r)){for(var i=e,o=n-(r=e+r>n?n-e:r);o>i;++i)t[i]=t[i+r];t.length=o}},TextureCache:{},BaseTextureCache:{}}},{"../const":16,"./pluginTarget":71,async:1,eventemitter3:10}],71:[function(t,e,r){e.exports={mixin:function(t){!function(t){t.__plugins={},t.registerPlugin=function(e,r){t.__plugins[e]=r},t.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}(t)}}},{}],72:[function(t,e,r){var n=t("./core"),i=t("./mesh"),o=t("./extras"),s=t("./filters");n.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")},n.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")},Object.defineProperties(n,{Stage:{get:function(){return console.warn("You do not need to use a PIXI Stage any more, you can simply render any container."),n.Container}},DisplayObjectContainer:{get:function(){return console.warn("DisplayObjectContainer has been shortened to Container, please use Container from now on."),n.Container}},Strip:{get:function(){return console.warn("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),i.Mesh}},Rope:{get:function(){return console.warn("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),i.Rope}},MovieClip:{get:function(){return console.warn("The MovieClip class has been moved to extras.MovieClip, please use extras.MovieClip from now on."),o.MovieClip}},TilingSprite:{get:function(){return console.warn("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),o.TilingSprite}},BitmapText:{get:function(){return console.warn("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),o.BitmapText}},blendModes:{get:function(){return console.warn("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),n.BLEND_MODES}},scaleModes:{get:function(){return console.warn("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),n.SCALE_MODES}},BaseTextureCache:{get:function(){return console.warn("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),n.utils.BaseTextureCache}},TextureCache:{get:function(){return console.warn("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),n.utils.TextureCache}},math:{get:function(){return console.warn("The math namespace is deprecated, please access members already accessible on PIXI."),n}}}),n.Sprite.prototype.setTexture=function(t){this.texture=t,console.warn("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},o.BitmapText.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")},n.Text.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},n.Text.prototype.setStyle=function(t){this.style=t,console.warn("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},n.Texture.prototype.setFrame=function(t){this.frame=t,console.warn("setFrame is now deprecated, please use the frame property, e.g : myTexture.frame = frame;")},Object.defineProperties(s,{AbstractFilter:{get:function(){return console.warn("filters.AbstractFilter is an undocumented alias, please use AbstractFilter from now on."),n.AbstractFilter}},FXAAFilter:{get:function(){return console.warn("filters.FXAAFilter is an undocumented alias, please use FXAAFilter from now on."),n.FXAAFilter}},SpriteMaskFilter:{get:function(){return console.warn("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),n.SpriteMaskFilter}}}),n.utils.uuid=function(){return console.warn("utils.uuid() is deprecated, please use utils.uid() from now on."),n.utils.uid()}},{"./core":23,"./extras":79,"./filters":96,"./mesh":121}],73:[function(t,e,r){function n(t,e){i.Container.call(this),e=e||{},this.textWidth=0,this.textHeight=0,this._glyphs=[],this._font={tint:void 0!==e.tint?e.tint:16777215,align:e.align||"left",name:null,size:0},this.font=e.font,this._text=t,this.maxWidth=0,this.maxLineHeight=0,this.dirty=!1,this.updateText()}var i=t("../core");n.prototype=Object.create(i.Container.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{tint:{get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},align:{get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},font:{get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):n.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),n.prototype.updateText=function(){for(var t=n.fonts[this._font.name],e=new i.Point,r=null,o=[],s=0,a=0,u=[],l=0,h=this._font.size/t.size,c=-1,f=0,p=0;p<this.text.length;p++){var d=this.text.charCodeAt(p);if(c=/(\s)/.test(this.text.charAt(p))?p:c,/(?:\r\n|\r|\n)/.test(this.text.charAt(p)))u.push(s),a=Math.max(a,s),l++,e.x=0,e.y+=t.lineHeight,r=null;else if(-1!==c&&this.maxWidth>0&&e.x*h>this.maxWidth)i.utils.removeItems(o,c,p-c),p=c,c=-1,u.push(s),a=Math.max(a,s),l++,e.x=0,e.y+=t.lineHeight,r=null;else{var g=t.chars[d];g&&(r&&g.kerning[r]&&(e.x+=g.kerning[r]),o.push({texture:g.texture,line:l,charCode:d,position:new i.Point(e.x+g.xOffset,e.y+g.yOffset)}),s=e.x+(g.texture.width+g.xOffset),e.x+=g.xAdvance,f=Math.max(f,g.yOffset+g.texture.height),r=d)}}u.push(s),a=Math.max(a,s);var v=[];for(p=0;l>=p;p++){var m=0;"right"===this._font.align?m=a-u[p]:"center"===this._font.align&&(m=(a-u[p])/2),v.push(m)}var y=o.length,x=this.tint;for(p=0;y>p;p++){var b=this._glyphs[p];b?b.texture=o[p].texture:(b=new i.Sprite(o[p].texture),this._glyphs.push(b)),b.position.x=(o[p].position.x+v[o[p].line])*h,b.position.y=o[p].position.y*h,b.scale.x=b.scale.y=h,b.tint=x,b.parent||this.addChild(b)}for(p=y;p<this._glyphs.length;++p)this.removeChild(this._glyphs[p]);this.textWidth=a*h,this.textHeight=(e.y+t.lineHeight)*h,this.maxLineHeight=f*h},n.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},n.prototype.getLocalBounds=function(){return this.validate(),i.Container.prototype.getLocalBounds.call(this)},n.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},n.fonts={}},{"../core":23}],74:[function(t,e,r){function n(t){i.Sprite.call(this,t[0]instanceof i.Texture?t[0]:t[0].texture),this._textures=null,this._durations=null,this.textures=t,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this._currentTime=0,this.playing=!1}var i=t("../core");n.prototype=Object.create(i.Sprite.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{totalFrames:{get:function(){return this._textures.length}},textures:{get:function(){return this._textures},set:function(t){if(t[0]instanceof i.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}}},currentFrame:{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return 0>t&&(t+=this._textures.length),t}}}),n.prototype.stop=function(){this.playing&&(this.playing=!1,i.ticker.shared.remove(this.update,this))},n.prototype.play=function(){this.playing||(this.playing=!0,i.ticker.shared.add(this.update,this))},n.prototype.gotoAndStop=function(t){this.stop(),this._currentTime=t,this._texture=this._textures[this.currentFrame]},n.prototype.gotoAndPlay=function(t){this._currentTime=t,this.play()},n.prototype.update=function(t){var e=this.animationSpeed*t;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;0>r;)this._currentTime--,r+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):this._texture=this._textures[this.currentFrame]},n.prototype.destroy=function(){this.stop(),i.Sprite.prototype.destroy.call(this)},n.fromFrames=function(t){for(var e=[],r=0;r<t.length;++r)e.push(new i.Texture.fromFrame(t[r]));return new n(e)},n.fromImages=function(t){for(var e=[],r=0;r<t.length;++r)e.push(new i.Texture.fromImage(t[r]));return new n(e)}},{"../core":23}],75:[function(t,e,r){function n(t,e,r){i.Sprite.call(this,t),this.tileScale=new i.Point(1,1),this.tilePosition=new i.Point(0,0),this._width=e||100,this._height=r||100,this._uvs=new i.TextureUvs,this._canvasPattern=null,this.shader=new i.AbstractFilter(["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","uniform vec4 uFrame;","uniform vec4 uTransform;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vec2 coord = aTextureCoord;","   coord -= uTransform.xy;","   coord /= uTransform.zw;","   vTextureCoord = coord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform vec4 uFrame;","uniform vec2 uPixelSize;","void main(void){","   vec2 coord = mod(vTextureCoord, uFrame.zw);","   coord = clamp(coord, uPixelSize, uFrame.zw - uPixelSize);","   coord += uFrame.xy;","   gl_FragColor =  texture2D(uSampler, coord) * vColor ;","}"].join("\n"),{uFrame:{type:"4fv",value:[0,0,1,1]},uTransform:{type:"4fv",value:[0,0,1,1]},uPixelSize:{type:"2fv",value:[1,1]}})}var i=t("../core"),o=new i.Point,s=t("../core/renderers/canvas/utils/CanvasTinter");n.prototype=Object.create(i.Sprite.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{width:{get:function(){return this._width},set:function(t){this._width=t}},height:{get:function(){return this._height},set:function(t){this._height=t}}}),n.prototype._onTextureUpdate=function(){},n.prototype._renderWebGL=function(t){var e=this._texture;if(e&&e._uvs){var r=e._uvs,n=e._frame.width,i=e._frame.height,o=e.baseTexture.width,s=e.baseTexture.height;e._uvs=this._uvs,e._frame.width=this.width,e._frame.height=this.height,this.shader.uniforms.uPixelSize.value[0]=1/o,this.shader.uniforms.uPixelSize.value[1]=1/s,this.shader.uniforms.uFrame.value[0]=r.x0,this.shader.uniforms.uFrame.value[1]=r.y0,this.shader.uniforms.uFrame.value[2]=r.x1-r.x0,this.shader.uniforms.uFrame.value[3]=r.y2-r.y0,this.shader.uniforms.uTransform.value[0]=this.tilePosition.x%(n*this.tileScale.x)/this._width,this.shader.uniforms.uTransform.value[1]=this.tilePosition.y%(i*this.tileScale.y)/this._height,this.shader.uniforms.uTransform.value[2]=o/this._width*this.tileScale.x,this.shader.uniforms.uTransform.value[3]=s/this._height*this.tileScale.y,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this),e._uvs=r,e._frame.width=n,e._frame.height=i}},n.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var r=t.context,n=this.worldTransform,o=t.resolution,a=e.baseTexture,u=this.tilePosition.x/this.tileScale.x%e._frame.width,l=this.tilePosition.y/this.tileScale.y%e._frame.height;if(!this._canvasPattern){var h=new i.CanvasBuffer(e._frame.width,e._frame.height);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=s.getTintedTexture(this,this.tint)),h.context.drawImage(this.tintedTexture,0,0)):h.context.drawImage(a.source,-e._frame.x,-e._frame.y),this._canvasPattern=h.context.createPattern(h.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(n.a*o,n.b*o,n.c*o,n.d*o,n.tx*o,n.ty*o),r.scale(this.tileScale.x,this.tileScale.y),r.translate(u+this.anchor.x*-this._width,l+this.anchor.y*-this._height);var c=t.blendModes[this.blendMode];c!==t.context.globalCompositeOperation&&(r.globalCompositeOperation=c),r.fillStyle=this._canvasPattern,r.fillRect(-u,-l,this._width/this.tileScale.x,this._height/this.tileScale.y)}},n.prototype.getBounds=function(){var t,e,r,n,i=this._width,o=this._height,s=i*(1-this.anchor.x),a=i*-this.anchor.x,u=o*(1-this.anchor.y),l=o*-this.anchor.y,h=this.worldTransform,c=h.a,f=h.b,p=h.c,d=h.d,g=h.tx,v=h.ty,m=c*a+p*l+g,y=d*l+f*a+v,x=c*s+p*l+g,b=d*l+f*s+v,_=c*s+p*u+g,w=d*u+f*s+v,T=c*a+p*u+g,E=d*u+f*a+v;t=(t=(t=(t=m)>x?x:t)>_?_:t)>T?T:t,r=(r=(r=(r=y)>b?b:r)>w?w:r)>E?E:r,e=T>(e=_>(e=x>(e=m)?x:e)?_:e)?T:e,n=E>(n=w>(n=b>(n=y)?b:n)?w:n)?E:n;var S=this._bounds;return S.x=t,S.width=e-t,S.y=r,S.height=n-r,this._currentBounds=S,S},n.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,o);var e,r=this._width,n=this._height,i=-r*this.anchor.x;return o.x>i&&o.x<i+r&&(e=-n*this.anchor.y,o.y>e&&o.y<e+n)},n.prototype.destroy=function(){i.Sprite.prototype.destroy.call(this),this.tileScale=null,this._tileScaleOffset=null,this.tilePosition=null,this._uvs=null},n.fromFrame=function(t,e,r){var o=i.utils.TextureCache[t];if(!o)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new n(o,e,r)},n.fromImage=function(t,e,r,o,s){return new n(i.Texture.fromImage(t,o,s),e,r)}},{"../core":23,"../core/renderers/canvas/utils/CanvasTinter":41}],76:[function(t,e,r){var n=t("../core"),i=n.DisplayObject,o=new n.Matrix;i.prototype._cacheAsBitmap=!1,i.prototype._originalRenderWebGL=null,i.prototype._originalRenderCanvas=null,i.prototype._originalUpdateTransform=null,i.prototype._originalHitTest=null,i.prototype._originalDestroy=null,i.prototype._cachedSprite=null,Object.defineProperties(i.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._originalRenderWebGL=this.renderWebGL,this._originalRenderCanvas=this.renderCanvas,this._originalUpdateTransform=this.updateTransform,this._originalGetBounds=this.getBounds,this._originalDestroy=this.destroy,this._originalContainsPoint=this.containsPoint,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(this._cachedSprite&&this._destroyCachedDisplayObject(),this.renderWebGL=this._originalRenderWebGL,this.renderCanvas=this._originalRenderCanvas,this.getBounds=this._originalGetBounds,this.destroy=this._originalDestroy,this.updateTransform=this._originalUpdateTransform,this.containsPoint=this._originalContainsPoint))}}}),i.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cachedSprite.worldAlpha=this.worldAlpha,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this._cachedSprite))},i.prototype._initCachedDisplayObject=function(t){if(!this._cachedSprite){t.currentRenderer.flush();var e=this.getLocalBounds().clone();if(this._filters){var r=this._filters[0].padding;e.x-=r,e.y-=r,e.width+=2*r,e.height+=2*r}var i=t.currentRenderTarget,s=t.filterManager.filterStack,a=new n.RenderTexture(t,0|e.width,0|e.height),u=o;u.tx=-e.x,u.ty=-e.y,this.renderWebGL=this._originalRenderWebGL,a.render(this,u,!0,!0),t.setRenderTarget(i),t.filterManager.filterStack=s,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new n.Sprite(a),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-e.x/e.width,this._cachedSprite.anchor.y=-e.y/e.height,this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},i.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cachedSprite.worldAlpha=this.worldAlpha,this._cachedSprite.renderCanvas(t))},i.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cachedSprite){var e=this.getLocalBounds(),r=t.context,i=new n.RenderTexture(t,0|e.width,0|e.height),s=o;s.tx=-e.x,s.ty=-e.y,this.renderCanvas=this._originalRenderCanvas,i.render(this,s,!0),t.context=r,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new n.Sprite(i),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-e.x/e.width,this._cachedSprite.anchor.y=-e.y/e.height,this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},i.prototype._getCachedBounds=function(){return this._cachedSprite._currentBounds=null,this._cachedSprite.getBounds()},i.prototype._destroyCachedDisplayObject=function(){this._cachedSprite._texture.destroy(),this._cachedSprite=null},i.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1,this._originalDestroy()}},{"../core":23}],77:[function(t,e,r){var n=t("../core");n.DisplayObject.prototype.name=null,n.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},{"../core":23}],78:[function(t,e,r){var n=t("../core");n.DisplayObject.prototype.getGlobalPosition=function(t){return t=t||new n.Point,this.parent?(this.displayObjectUpdateTransform(),t.x=this.worldTransform.tx,t.y=this.worldTransform.ty):(t.x=this.position.x,t.y=this.position.y),t}},{"../core":23}],79:[function(t,e,r){t("./cacheAsBitmap"),t("./getChildByName"),t("./getGlobalPosition"),e.exports={MovieClip:t("./MovieClip"),TilingSprite:t("./TilingSprite"),BitmapText:t("./BitmapText")}},{"./BitmapText":73,"./MovieClip":74,"./TilingSprite":75,"./cacheAsBitmap":76,"./getChildByName":77,"./getGlobalPosition":78}],80:[function(t,e,r){function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nuniform vec4 dimensions;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 uv = gl_FragCoord.xy;\n\n    vec3 col = texture2D(uSampler, floor( uv / pixelSize ) * pixelSize / dimensions.xy).rgb;\n\n    float gray = (col.r + col.g + col.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    vec2 p = mod( uv / ( pixelSize * 0.5 ), 2.0) - vec2(1.0);\n    col = col * character(n, p);\n\n    gl_FragColor = vec4(col, 1.0);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"1f",value:8}})}var i=t("../../core");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.uniforms.pixelSize.value=t}}})},{"../../core":23}],81:[function(t,e,r){function n(){i.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYFilter=new s,this.defaultFilter=new i.AbstractFilter}var i=t("../../core"),o=t("../blur/BlurXFilter"),s=t("../blur/BlurYFilter");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,r){var n=t.filterManager.getRenderTarget(!0);this.defaultFilter.applyFilter(t,e,r),this.blurXFilter.applyFilter(t,e,n),t.blendModeManager.setBlendMode(i.BLEND_MODES.SCREEN),this.blurYFilter.applyFilter(t,n,r),t.blendModeManager.setBlendMode(i.BLEND_MODES.NORMAL),t.filterManager.returnRenderTarget(n)},Object.defineProperties(n.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},{"../../core":23,"../blur/BlurXFilter":84,"../blur/BlurYFilter":85}],82:[function(t,e,r){function n(t,e){i.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform float dirX;\nuniform float dirY;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[3];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[0] = aTextureCoord + vec2( (0.004 * strength) * dirX, (0.004 * strength) * dirY );\n    vBlurTexCoords[1] = aTextureCoord + vec2( (0.008 * strength) * dirX, (0.008 * strength) * dirY );\n    vBlurTexCoords[2] = aTextureCoord + vec2( (0.012 * strength) * dirX, (0.012 * strength) * dirY );\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[3];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vTextureCoord     ) * 0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0]) * 0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1]) * 0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2]) * 0.004431848411938341;\n}\n",{strength:{type:"1f",value:1},dirX:{type:"1f",value:t||0},dirY:{type:"1f",value:e||0}}),this.defaultFilter=new i.AbstractFilter,this.passes=1,this.dirX=t||0,this.dirY=e||0,this.strength=4}var i=t("../../core");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,r,n){var i=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.width/e.size.width),1===this.passes)t.filterManager.applyFilter(i,e,r,n);else{var o=t.filterManager.getRenderTarget(!0);t.filterManager.applyFilter(i,e,o,n);for(var s=0;s<this.passes-2;s++)t.filterManager.applyFilter(i,o,o,n);t.filterManager.applyFilter(i,o,r,n),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(n.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*t,this.strength=t}},dirX:{get:function(){return this.dirX},set:function(t){this.uniforms.dirX.value=t}},dirY:{get:function(){return this.dirY},set:function(t){this.uniforms.dirY.value=t}}})},{"../../core":23}],83:[function(t,e,r){function n(){i.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYFilter=new s}var i=t("../../core"),o=t("./BlurXFilter"),s=t("./BlurYFilter");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,r){var n=t.filterManager.getRenderTarget(!0);this.blurXFilter.applyFilter(t,e,n),this.blurYFilter.applyFilter(t,n,r),t.filterManager.returnRenderTarget(n)},Object.defineProperties(n.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.padding=.5*Math.abs(t),this.blurXFilter.blur=this.blurYFilter.blur=t}},passes:{get:function(){return this.blurXFilter.passes},set:function(t){this.blurXFilter.passes=this.blurYFilter.passes=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},{"../../core":23,"./BlurXFilter":84,"./BlurYFilter":85}],84:[function(t,e,r){function n(){i.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(-0.012 * strength, 0.0);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(-0.008 * strength, 0.0);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(-0.004 * strength, 0.0);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2( 0.004 * strength, 0.0);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2( 0.008 * strength, 0.0);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2( 0.012 * strength, 0.0);\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var i=t("../../core");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,r,n){var i=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.width/e.size.width),1===this.passes)t.filterManager.applyFilter(i,e,r,n);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,u=0;u<this.passes-1;u++){t.filterManager.applyFilter(i,s,a,!0);var l=a;a=s,s=l}t.filterManager.applyFilter(i,s,r,n),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(n.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*Math.abs(t),this.strength=t}}})},{"../../core":23}],85:[function(t,e,r){function n(){i.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var i=t("../../core");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,r,n){var i=this.getShader(t);if(this.uniforms.strength.value=Math.abs(this.strength)/4/this.passes*(e.frame.height/e.size.height),1===this.passes)t.filterManager.applyFilter(i,e,r,n);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,u=0;u<this.passes-1;u++){t.filterManager.applyFilter(i,s,a,!0);var l=a;a=s,s=l}t.filterManager.applyFilter(i,s,r,n),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(n.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*Math.abs(t),this.strength=t}}})},{"../../core":23}],86:[function(t,e,r){function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 delta;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta * percent);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{delta:{type:"v2",value:{x:.1,y:0}}})}var i=t("../../core");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n},{"../../core":23}],87:[function(t,e,r){function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[25];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4];\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9];\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14];\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19];\n\n}\n",{m:{type:"1fv",value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}})}var i=t("../../core");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype._loadMatrix=function(t,e){var r=t;(e=!!e)&&(this._multiply(r,this.uniforms.m.value,t),r=this._colorMatrix(r)),this.uniforms.m.value=r},n.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19],t},n.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},n.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},n.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},n.prototype.grayscale=n.prototype.greyscale,n.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},n.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=.213,o=.715,s=.072,a=[i+r*(1-i)+n*-i,o+r*-o+n*-o,s+r*-s+n*(1-s),0,0,i+r*-i+.143*n,o+r*(1-o)+.14*n,s+r*-s+-.283*n,0,0,i+r*-i+-.787*n,o+r*-o+n*o,s+r*(1-s)+n*s,0,0,0,0,0,1,0];this._loadMatrix(a,e)},n.prototype.contrast=function(t,e){var r=(t||0)+1,n=-128*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)},n.prototype.saturate=function(t,e){var r=2*(t||0)/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,e)},n.prototype.desaturate=function(t){this.saturate(-1)},n.prototype.negative=function(t){this._loadMatrix([0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0],t)},n.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},n.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},n.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},n.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},n.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},n.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},n.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},n.prototype.colorTone=function(t,e,r,n,i){t=t||.2,e=e||.15;var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,u=((n=n||3375104)>>16&255)/255,l=(n>>8&255)/255,h=(255&n)/255,c=[.3,.59,.11,0,0,o,s,a,t,0,u,l,h,e,0,o-u,s-l,a-h,0,0];this._loadMatrix(c,i)},n.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},n.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},n.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},n.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperties(n.prototype,{matrix:{get:function(){return this.uniforms.m.value},set:function(t){this.uniforms.m.value=t}}})},{"../../core":23}],88:[function(t,e,r){function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float step;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    color = floor(color * step) / step;\n\n    gl_FragColor = color;\n}\n",{step:{type:"1f",value:5}})}var i=t("../../core");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{step:{get:function(){return this.uniforms.step.value},set:function(t){this.uniforms.step.value=t}}})},{"../../core":23}],89:[function(t,e,r){function n(t,e,r){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n",{matrix:{type:"1fv",value:new Float32Array(t)},texelSize:{type:"v2",value:{x:1/e,y:1/r}}})}var i=t("../../core");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{matrix:{get:function(){return this.uniforms.matrix.value},set:function(t){this.uniforms.matrix.value=new Float32Array(t)}},width:{get:function(){return 1/this.uniforms.texelSize.value.x},set:function(t){this.uniforms.texelSize.value.x=1/t}},height:{get:function(){return 1/this.uniforms.texelSize.value.y},set:function(t){this.uniforms.texelSize.value.y=1/t}}})},{"../../core":23}],90:[function(t,e,r){function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n")}var i=t("../../core");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n},{"../../core":23}],91:[function(t,e,r){function n(t,e){var r=new i.Matrix;t.renderable=!1,i.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vMapCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision mediump float;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vMapCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y));\n}\n",{mapSampler:{type:"sampler2D",value:t.texture},otherMatrix:{type:"mat3",value:r.toArray(!0)},scale:{type:"v2",value:{x:1,y:1}}}),this.maskSprite=t,this.maskMatrix=r,(null===e||void 0===e)&&(e=20),this.scale=new i.Point(e,e)}var i=t("../../core");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,r){var n=t.filterManager;n.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.scale.value.x=this.scale.x*(1/e.frame.width),this.uniforms.scale.value.y=this.scale.y*(1/e.frame.height);var i=this.getShader(t);n.applyFilter(i,e,r)},Object.defineProperties(n.prototype,{map:{get:function(){return this.uniforms.mapSampler.value},set:function(t){this.uniforms.mapSampler.value=t}}})},{"../../core":23}],92:[function(t,e,r){function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 dimensions;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * dimensions.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n",{scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}})}var i=t("../../core");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{scale:{get:function(){return this.uniforms.scale.value},set:function(t){this.uniforms.scale.value=t}},angle:{get:function(){return this.uniforms.angle.value},set:function(t){this.uniforms.angle.value=t}}})},{"../../core":23}],93:[function(t,e,r){function n(){i.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform vec2 offset;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition+offset), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform vec3 color;\nuniform float alpha;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec4 sum = vec4(0.0);\n\n    sum += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    sum += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    sum += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    sum += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    sum += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n\n    gl_FragColor = vec4( color.rgb * sum.a * alpha, sum.a * alpha );\n}\n",{blur:{type:"1f",value:1/512},color:{type:"c",value:[0,0,0]},alpha:{type:"1f",value:.7},offset:{type:"2f",value:[5,5]},strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var i=t("../../core");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,r,n){var i=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.height/e.size.height),1===this.passes)t.filterManager.applyFilter(i,e,r,n);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,u=0;u<this.passes-1;u++){t.filterManager.applyFilter(i,s,a,n);var l=a;a=s,s=l}t.filterManager.applyFilter(i,s,r,n),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(n.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*t,this.strength=t}}})},{"../../core":23}],94:[function(t,e,r){function n(){i.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYTintFilter=new s,this.defaultFilter=new i.AbstractFilter,this.padding=30,this._dirtyPosition=!0,this._angle=45*Math.PI/180,this._distance=10,this.alpha=.75,this.hideObject=!1,this.blendMode=i.BLEND_MODES.MULTIPLY}var i=t("../../core"),o=t("../blur/BlurXFilter"),s=t("./BlurYTintFilter");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,r){var n=t.filterManager.getRenderTarget(!0);this._dirtyPosition&&(this._dirtyPosition=!1,this.blurYTintFilter.uniforms.offset.value[0]=Math.sin(this._angle)*this._distance,this.blurYTintFilter.uniforms.offset.value[1]=Math.cos(this._angle)*this._distance),this.blurXFilter.applyFilter(t,e,n),t.blendModeManager.setBlendMode(this.blendMode),this.blurYTintFilter.applyFilter(t,n,r),t.blendModeManager.setBlendMode(i.BLEND_MODES.NORMAL),this.hideObject||this.defaultFilter.applyFilter(t,e,r),t.filterManager.returnRenderTarget(n)},Object.defineProperties(n.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYTintFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYTintFilter.blur},set:function(t){this.blurYTintFilter.blur=t}},color:{get:function(){return i.utils.rgb2hex(this.blurYTintFilter.uniforms.color.value)},set:function(t){this.blurYTintFilter.uniforms.color.value=i.utils.hex2rgb(t)}},alpha:{get:function(){return this.blurYTintFilter.uniforms.alpha.value},set:function(t){this.blurYTintFilter.uniforms.alpha.value=t}},distance:{get:function(){return this._distance},set:function(t){this._dirtyPosition=!0,this._distance=t}},angle:{get:function(){return this._angle},set:function(t){this._dirtyPosition=!0,this._angle=t}}})},{"../../core":23,"../blur/BlurXFilter":84,"./BlurYTintFilter":93}],95:[function(t,e,r){function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float gray;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);\n}\n",{gray:{type:"1f",value:1}})}var i=t("../../core");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{gray:{get:function(){return this.uniforms.gray.value},set:function(t){this.uniforms.gray.value=t}}})},{"../../core":23}],96:[function(t,e,r){e.exports={AsciiFilter:t("./ascii/AsciiFilter"),BloomFilter:t("./bloom/BloomFilter"),BlurFilter:t("./blur/BlurFilter"),BlurXFilter:t("./blur/BlurXFilter"),BlurYFilter:t("./blur/BlurYFilter"),BlurDirFilter:t("./blur/BlurDirFilter"),ColorMatrixFilter:t("./color/ColorMatrixFilter"),ColorStepFilter:t("./color/ColorStepFilter"),ConvolutionFilter:t("./convolution/ConvolutionFilter"),CrossHatchFilter:t("./crosshatch/CrossHatchFilter"),DisplacementFilter:t("./displacement/DisplacementFilter"),DotScreenFilter:t("./dot/DotScreenFilter"),GrayFilter:t("./gray/GrayFilter"),DropShadowFilter:t("./dropshadow/DropShadowFilter"),InvertFilter:t("./invert/InvertFilter"),NoiseFilter:t("./noise/NoiseFilter"),PixelateFilter:t("./pixelate/PixelateFilter"),RGBSplitFilter:t("./rgb/RGBSplitFilter"),ShockwaveFilter:t("./shockwave/ShockwaveFilter"),SepiaFilter:t("./sepia/SepiaFilter"),SmartBlurFilter:t("./blur/SmartBlurFilter"),TiltShiftFilter:t("./tiltshift/TiltShiftFilter"),TiltShiftXFilter:t("./tiltshift/TiltShiftXFilter"),TiltShiftYFilter:t("./tiltshift/TiltShiftYFilter"),TwistFilter:t("./twist/TwistFilter")}},{"./ascii/AsciiFilter":80,"./bloom/BloomFilter":81,"./blur/BlurDirFilter":82,"./blur/BlurFilter":83,"./blur/BlurXFilter":84,"./blur/BlurYFilter":85,"./blur/SmartBlurFilter":86,"./color/ColorMatrixFilter":87,"./color/ColorStepFilter":88,"./convolution/ConvolutionFilter":89,"./crosshatch/CrossHatchFilter":90,"./displacement/DisplacementFilter":91,"./dot/DotScreenFilter":92,"./dropshadow/DropShadowFilter":94,"./gray/GrayFilter":95,"./invert/InvertFilter":97,"./noise/NoiseFilter":98,"./pixelate/PixelateFilter":99,"./rgb/RGBSplitFilter":100,"./sepia/SepiaFilter":101,"./shockwave/ShockwaveFilter":102,"./tiltshift/TiltShiftFilter":104,"./tiltshift/TiltShiftXFilter":105,"./tiltshift/TiltShiftYFilter":106,"./twist/TwistFilter":107}],97:[function(t,e,r){function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform float invert;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);\n}\n",{invert:{type:"1f",value:1}})}var i=t("../../core");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{invert:{get:function(){return this.uniforms.invert.value},set:function(t){this.uniforms.invert.value=t}}})},{"../../core":23}],98:[function(t,e,r){function n(){i.AbstractFilter.call(this,null,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(vTextureCoord) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n",{noise:{type:"1f",value:.5}})}var i=t("../../core");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{noise:{get:function(){return this.uniforms.noise.value},set:function(t){this.uniforms.noise.value=t}}})},{"../../core":23}],99:[function(t,e,r){function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 dimensions;\nuniform vec2 pixelSize;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord;\n\n    vec2 size = dimensions.xy / pixelSize;\n\n    vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;\n\n    gl_FragColor = texture2D(uSampler, color);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"v2",value:{x:10,y:10}}})}var i=t("../../core");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.uniforms.pixelSize.value=t}}})},{"../../core":23}],100:[function(t,e,r){function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 dimensions;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n",{red:{type:"v2",value:{x:20,y:20}},green:{type:"v2",value:{x:-20,y:20}},blue:{type:"v2",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}})}var i=t("../../core");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{red:{get:function(){return this.uniforms.red.value},set:function(t){this.uniforms.red.value=t}},green:{get:function(){return this.uniforms.green.value},set:function(t){this.uniforms.green.value=t}},blue:{get:function(){return this.uniforms.blue.value},set:function(t){this.uniforms.blue.value=t}}})},{"../../core":23}],101:[function(t,e,r){function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float sepia;\n\nconst mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);\n}\n",{sepia:{type:"1f",value:1}})}var i=t("../../core");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{sepia:{get:function(){return this.uniforms.sepia.value},set:function(t){this.uniforms.sepia.value=t}}})},{"../../core":23}],102:[function(t,e,r){function n(){i.AbstractFilter.call(this,null,"precision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nuniform vec2 center;\nuniform vec3 params; // 10.0, 0.8, 0.1\nuniform float time;\n\nvoid main()\n{\n    vec2 uv = vTextureCoord;\n    vec2 texCoord = uv;\n\n    float dist = distance(uv, center);\n\n    if ( (dist <= (time + params.z)) && (dist >= (time - params.z)) )\n    {\n        float diff = (dist - time);\n        float powDiff = 1.0 - pow(abs(diff*params.x), params.y);\n\n        float diffTime = diff  * powDiff;\n        vec2 diffUV = normalize(uv - center);\n        texCoord = uv + (diffUV * diffTime);\n    }\n\n    gl_FragColor = texture2D(uSampler, texCoord);\n}\n",{center:{type:"v2",value:{x:.5,y:.5}},params:{type:"v3",value:{x:10,y:.8,z:.1}},time:{type:"1f",value:0}})}var i=t("../../core");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{center:{get:function(){return this.uniforms.center.value},set:function(t){this.uniforms.center.value=t}},params:{get:function(){return this.uniforms.params.value},set:function(t){this.uniforms.params.value=t}},time:{get:function(){return this.uniforms.time.value},set:function(t){this.uniforms.time.value=t}}})},{"../../core":23}],103:[function(t,e,r){function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{blur:{type:"1f",value:100},gradientBlur:{type:"1f",value:600},start:{type:"v2",value:{x:0,y:window.innerHeight/2}},end:{type:"v2",value:{x:600,y:window.innerHeight/2}},delta:{type:"v2",value:{x:30,y:30}},texSize:{type:"v2",value:{x:window.innerWidth,y:window.innerHeight}}}),this.updateDelta()}var i=t("../../core");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.updateDelta=function(){this.uniforms.delta.value.x=0,this.uniforms.delta.value.y=0},Object.defineProperties(n.prototype,{blur:{get:function(){return this.uniforms.blur.value},set:function(t){this.uniforms.blur.value=t}},gradientBlur:{get:function(){return this.uniforms.gradientBlur.value},set:function(t){this.uniforms.gradientBlur.value=t}},start:{get:function(){return this.uniforms.start.value},set:function(t){this.uniforms.start.value=t,this.updateDelta()}},end:{get:function(){return this.uniforms.end.value},set:function(t){this.uniforms.end.value=t,this.updateDelta()}}})},{"../../core":23}],104:[function(t,e,r){function n(){i.AbstractFilter.call(this),this.tiltShiftXFilter=new o,this.tiltShiftYFilter=new s}var i=t("../../core"),o=t("./TiltShiftXFilter"),s=t("./TiltShiftYFilter");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,r){var n=t.filterManager.getRenderTarget(!0);this.tiltShiftXFilter.applyFilter(t,e,n),this.tiltShiftYFilter.applyFilter(t,n,r),t.filterManager.returnRenderTarget(n)},Object.defineProperties(n.prototype,{blur:{get:function(){return this.tiltShiftXFilter.blur},set:function(t){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=t}},gradientBlur:{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(t){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=t}},start:{get:function(){return this.tiltShiftXFilter.start},set:function(t){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=t}},end:{get:function(){return this.tiltShiftXFilter.end},set:function(t){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=t}}})},{"../../core":23,"./TiltShiftXFilter":105,"./TiltShiftYFilter":106}],105:[function(t,e,r){function n(){i.call(this)}var i=t("./TiltShiftAxisFilter");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.updateDelta=function(){var t=this.uniforms.end.value.x-this.uniforms.start.value.x,e=this.uniforms.end.value.y-this.uniforms.start.value.y,r=Math.sqrt(t*t+e*e);this.uniforms.delta.value.x=t/r,this.uniforms.delta.value.y=e/r}},{"./TiltShiftAxisFilter":103}],106:[function(t,e,r){function n(){i.call(this)}var i=t("./TiltShiftAxisFilter");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.updateDelta=function(){var t=this.uniforms.end.value.x-this.uniforms.start.value.x,e=this.uniforms.end.value.y-this.uniforms.start.value.y,r=Math.sqrt(t*t+e*e);this.uniforms.delta.value.x=-e/r,this.uniforms.delta.value.y=t/r}},{"./TiltShiftAxisFilter":103}],107:[function(t,e,r){function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\n\nvoid main(void)\n{\n   vec2 coord = vTextureCoord - offset;\n   float dist = length(coord);\n\n   if (dist < radius)\n   {\n       float ratio = (radius - dist) / radius;\n       float angleMod = ratio * ratio * angle;\n       float s = sin(angleMod);\n       float c = cos(angleMod);\n       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n   }\n\n   gl_FragColor = texture2D(uSampler, coord+offset);\n}\n",{radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"v2",value:{x:.5,y:.5}}})}var i=t("../../core");n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}},radius:{get:function(){return this.uniforms.radius.value},set:function(t){this.uniforms.radius.value=t}},angle:{get:function(){return this.uniforms.angle.value},set:function(t){this.uniforms.angle.value=t}}})},{"../../core":23}],108:[function(t,r,n){(function(e){t("./polyfill");var n=r.exports=t("./core");n.extras=t("./extras"),n.filters=t("./filters"),n.interaction=t("./interaction"),n.loaders=t("./loaders"),n.mesh=t("./mesh"),n.accessibility=t("./accessibility"),n.loader=new n.loaders.Loader,Object.assign(n,t("./deprecation")),e.PIXI=n}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":15,"./core":23,"./deprecation":72,"./extras":79,"./filters":96,"./interaction":111,"./loaders":114,"./mesh":121,"./polyfill":126}],109:[function(t,e,r){function n(){this.global=new i.Point,this.target=null,this.originalEvent=null}var i=t("../core");n.prototype.constructor=n,e.exports=n,n.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)}},{"../core":23}],110:[function(t,e,r){function n(t,e){e=e||{},this.renderer=t,this.autoPreventDefault=void 0===e.autoPreventDefault||e.autoPreventDefault,this.interactionFrequency=e.interactionFrequency||10,this.mouse=new o,this.eventData={stopped:!1,target:null,type:null,data:this.mouse,stopPropagation:function(){this.stopped=!0}},this.interactiveDataPool=[],this.interactionDOMElement=null,this.eventsAdded=!1,this.onMouseUp=this.onMouseUp.bind(this),this.processMouseUp=this.processMouseUp.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.processMouseDown=this.processMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.processMouseMove=this.processMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.processMouseOverOut=this.processMouseOverOut.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.processTouchStart=this.processTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.processTouchEnd=this.processTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.processTouchMove=this.processTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this._tempPoint=new i.Point,this.resolution=1,this.setTargetElement(this.renderer.view,this.renderer.resolution)}var i=t("../core"),o=t("./InteractionData");Object.assign(i.DisplayObject.prototype,t("./interactiveTarget")),n.prototype.constructor=n,e.exports=n,n.prototype.setTargetElement=function(t,e){this.removeEvents(),this.interactionDOMElement=t,this.resolution=e||1,this.addEvents()},n.prototype.addEvents=function(){this.interactionDOMElement&&(i.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"),window.document.addEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.addEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!0)},n.prototype.removeEvents=function(){this.interactionDOMElement&&(i.ticker.shared.remove(this.update),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!1)},n.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)}},n.prototype.dispatchEvent=function(t,e,r){r.stopped||(r.target=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},n.prototype.mapPositionToPoint=function(t,e,r){var n=this.interactionDOMElement.getBoundingClientRect();t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)/this.resolution,t.y=(r-n.top)*(this.interactionDOMElement.height/n.height)/this.resolution},n.prototype.processInteractive=function(t,e,r,n,i){if(!e||!e.visible)return!1;var o=!1,s=i=e.interactive||i;if(e.hitArea&&(s=!1),e.interactiveChildren)for(var a=e.children,u=a.length-1;u>=0;u--)this.processInteractive(t,a[u],r,n,s)&&(o=!0,s=!1,a[u].interactive&&(n=!1));return i&&(n&&!o&&(e.hitArea?(e.worldTransform.applyInverse(t,this._tempPoint),o=e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):e.containsPoint&&(o=e.containsPoint(t))),e.interactive&&r(e,o)),o},n.prototype.onMouseDown=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.autoPreventDefault&&this.mouse.originalEvent.preventDefault(),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0)},n.prototype.processMouseDown=function(t,e){var r=this.mouse.originalEvent,n=2===r.button||3===r.which;e&&(t[n?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(t,n?"rightdown":"mousedown",this.eventData))},n.prototype.onMouseUp=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0)},n.prototype.processMouseUp=function(t,e){var r=this.mouse.originalEvent,n=2===r.button||3===r.which,i=n?"_isRightDown":"_isLeftDown";e?(this.dispatchEvent(t,n?"rightup":"mouseup",this.eventData),t[i]&&(t[i]=!1,this.dispatchEvent(t,n?"rightclick":"click",this.eventData))):t[i]&&(t[i]=!1,this.dispatchEvent(t,n?"rightupoutside":"mouseupoutside",this.eventData))},n.prototype.onMouseMove=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.didMove=!0,this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)},n.prototype.processMouseMove=function(t,e){this.dispatchEvent(t,"mousemove",this.eventData),this.processMouseOverOut(t,e)},n.prototype.onMouseOut=function(t){this.mouse.originalEvent=t,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.interactionDOMElement.style.cursor="inherit",this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1)},n.prototype.processMouseOverOut=function(t,e){e?(t._over||(t._over=!0,this.dispatchEvent(t,"mouseover",this.eventData)),t.buttonMode&&(this.cursor=t.defaultCursor)):t._over&&(t._over=!1,this.dispatchEvent(t,"mouseout",this.eventData))},n.prototype.onTouchStart=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,r=e.length,n=0;r>n;n++){var i=e[n],o=this.getTouchData(i);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchStart,!0),this.returnTouchData(o)}},n.prototype.processTouchStart=function(t,e){e&&(t._touchDown=!0,this.dispatchEvent(t,"touchstart",this.eventData))},n.prototype.onTouchEnd=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,r=e.length,n=0;r>n;n++){var i=e[n],o=this.getTouchData(i);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0),this.returnTouchData(o)}},n.prototype.processTouchEnd=function(t,e){e?(this.dispatchEvent(t,"touchend",this.eventData),t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"tap",this.eventData))):t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"touchendoutside",this.eventData))},n.prototype.onTouchMove=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,r=e.length,n=0;r>n;n++){var i=e[n],o=this.getTouchData(i);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchMove,!0),this.returnTouchData(o)}},n.prototype.processTouchMove=function(t,e){e=e,this.dispatchEvent(t,"touchmove",this.eventData)},n.prototype.getTouchData=function(t){var e=this.interactiveDataPool.pop();return e||(e=new o),e.identifier=t.identifier,this.mapPositionToPoint(e.global,t.clientX,t.clientY),navigator.isCocoonJS&&(e.global.x=e.global.x/this.resolution,e.global.y=e.global.y/this.resolution),t.globalX=e.global.x,t.globalY=e.global.y,e},n.prototype.returnTouchData=function(t){this.interactiveDataPool.push(t)},n.prototype.destroy=function(){this.removeEvents(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactiveDataPool=null,this.interactionDOMElement=null,this.onMouseUp=null,this.processMouseUp=null,this.onMouseDown=null,this.processMouseDown=null,this.onMouseMove=null,this.processMouseMove=null,this.onMouseOut=null,this.processMouseOverOut=null,this.onTouchStart=null,this.processTouchStart=null,this.onTouchEnd=null,this.processTouchEnd=null,this.onTouchMove=null,this.processTouchMove=null,this._tempPoint=null},i.WebGLRenderer.registerPlugin("interaction",n),i.CanvasRenderer.registerPlugin("interaction",n)},{"../core":23,"./InteractionData":109,"./interactiveTarget":112}],111:[function(t,e,r){e.exports={InteractionData:t("./InteractionData"),InteractionManager:t("./InteractionManager"),interactiveTarget:t("./interactiveTarget")}},{"./InteractionData":109,"./InteractionManager":110,"./interactiveTarget":112}],112:[function(t,e,r){e.exports={interactive:!1,buttonMode:!1,interactiveChildren:!0,defaultCursor:"pointer",_over:!1,_touchDown:!1}},{}],113:[function(t,e,r){function n(t,e){var r={},n=t.data.getElementsByTagName("info")[0],i=t.data.getElementsByTagName("common")[0];r.font=n.getAttribute("face"),r.size=parseInt(n.getAttribute("size"),10),r.lineHeight=parseInt(i.getAttribute("lineHeight"),10),r.chars={};for(var a=t.data.getElementsByTagName("char"),u=0;u<a.length;u++){var l=parseInt(a[u].getAttribute("id"),10),h=new o.Rectangle(parseInt(a[u].getAttribute("x"),10)+e.frame.x,parseInt(a[u].getAttribute("y"),10)+e.frame.y,parseInt(a[u].getAttribute("width"),10),parseInt(a[u].getAttribute("height"),10));r.chars[l]={xOffset:parseInt(a[u].getAttribute("xoffset"),10),yOffset:parseInt(a[u].getAttribute("yoffset"),10),xAdvance:parseInt(a[u].getAttribute("xadvance"),10),kerning:{},texture:new o.Texture(e.baseTexture,h)}}var c=t.data.getElementsByTagName("kerning");for(u=0;u<c.length;u++){var f=parseInt(c[u].getAttribute("first"),10),p=parseInt(c[u].getAttribute("second"),10),d=parseInt(c[u].getAttribute("amount"),10);r.chars[p].kerning[f]=d}t.bitmapFont=r,s.BitmapText.fonts[r.font]=r}var i=t("resource-loader").Resource,o=t("../core"),s=t("../extras"),a=t("path");e.exports=function(){return function(t,e){if(!t.data||!t.isXml)return e();if(0===t.data.getElementsByTagName("page").length||0===t.data.getElementsByTagName("info").length||null===t.data.getElementsByTagName("info")[0].getAttribute("face"))return e();var r=a.dirname(t.url);"."===r&&(r=""),this.baseUrl&&r&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/"),r=r.replace(this.baseUrl,"")),r&&"/"!==r.charAt(r.length-1)&&(r+="/");var s=r+t.data.getElementsByTagName("page")[0].getAttribute("file");if(o.utils.TextureCache[s])n(t,o.utils.TextureCache[s]),e();else{var u={crossOrigin:t.crossOrigin,loadType:i.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata};this.add(t.name+"_image",s,u,function(r){n(t,r.texture),e()})}}}},{"../core":23,"../extras":79,path:2,"resource-loader":133}],114:[function(t,e,r){e.exports={Loader:t("./loader"),bitmapFontParser:t("./bitmapFontParser"),spritesheetParser:t("./spritesheetParser"),textureParser:t("./textureParser"),Resource:t("resource-loader").Resource}},{"./bitmapFontParser":113,"./loader":115,"./spritesheetParser":116,"./textureParser":117,"resource-loader":133}],115:[function(t,e,r){function n(t,e){i.call(this,t,e);for(var r=0;r<n._pixiMiddleware.length;++r)this.use(n._pixiMiddleware[r]())}var i=t("resource-loader"),o=t("./textureParser"),s=t("./spritesheetParser"),a=t("./bitmapFontParser");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n._pixiMiddleware=[i.middleware.parsing.blob,o,s,a],n.addPixiMiddleware=function(t){n._pixiMiddleware.push(t)};var u=i.Resource;u.setExtensionXhrType("fnt",u.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":113,"./spritesheetParser":116,"./textureParser":117,"resource-loader":133}],116:[function(t,e,r){var n=t("resource-loader").Resource,i=t("path"),o=t("../core");e.exports=function(){return function(t,e){if(!t.data||!t.isJson||!t.data.frames)return e();var r={crossOrigin:t.crossOrigin,loadType:n.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata},s=i.dirname(t.url.replace(this.baseUrl,"")),a=o.utils.getResolutionOfUrl(t.url);this.add(t.name+"_image",s+"/"+t.data.meta.image,r,function(r){t.textures={};var n=t.data.frames;for(var i in n){var s=n[i].frame;if(s){var u=null,l=null;if(u=n[i].rotated?new o.Rectangle(s.x,s.y,s.h,s.w):new o.Rectangle(s.x,s.y,s.w,s.h),n[i].trimmed&&(l=new o.Rectangle(n[i].spriteSourceSize.x/a,n[i].spriteSourceSize.y/a,n[i].sourceSize.w/a,n[i].sourceSize.h/a)),n[i].rotated){var h=u.width;u.width=u.height,u.height=h}u.x/=a,u.y/=a,u.width/=a,u.height/=a,t.textures[i]=new o.Texture(r.texture.baseTexture,u,u.clone(),l,n[i].rotated),o.utils.TextureCache[i]=t.textures[i]}}e()})}}},{"../core":23,path:2,"resource-loader":133}],117:[function(t,e,r){var n=t("../core");e.exports=function(){return function(t,e){if(t.data&&t.isImage){var r=new n.BaseTexture(t.data,null,n.utils.getResolutionOfUrl(t.url));r.imageUrl=t.url,t.texture=new n.Texture(r),n.utils.BaseTextureCache[t.url]=r,n.utils.TextureCache[t.url]=t.texture}e()}}},{"../core":23}],118:[function(t,e,r){function n(t,e,r,o,s){i.Container.call(this),this._texture=null,this.uvs=r||new Float32Array([0,0,1,0,1,1,0,1]),this.vertices=e||new Float32Array([0,0,100,0,100,100,0,100]),this.indices=o||new Uint16Array([0,1,3,2]),this.dirty=!0,this.blendMode=i.BLEND_MODES.NORMAL,this.canvasPadding=0,this.drawMode=s||n.DRAW_MODES.TRIANGLE_MESH,this.texture=t,this.shader=null}var i=t("../core"),o=new i.Point,s=new i.Polygon;n.prototype=Object.create(i.Container.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),n.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.mesh),t.plugins.mesh.render(this)},n.prototype._renderCanvas=function(t){var e=t.context,r=this.worldTransform;t.roundPixels?e.setTransform(r.a,r.b,r.c,r.d,0|r.tx,0|r.ty):e.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),this.drawMode===n.DRAW_MODES.TRIANGLE_MESH?this._renderCanvasTriangleMesh(e):this._renderCanvasTriangles(e)},n.prototype._renderCanvasTriangleMesh=function(t){for(var e=this.vertices,r=this.uvs,n=e.length/2,i=0;n-2>i;i++){var o=2*i;this._renderCanvasDrawTriangle(t,e,r,o,o+2,o+4)}},n.prototype._renderCanvasTriangles=function(t){for(var e=this.vertices,r=this.uvs,n=this.indices,i=n.length,o=0;i>o;o+=3){var s=2*n[o],a=2*n[o+1],u=2*n[o+2];this._renderCanvasDrawTriangle(t,e,r,s,a,u)}},n.prototype._renderCanvasDrawTriangle=function(t,e,r,n,i,o){var s=this._texture.baseTexture.source,a=this._texture.baseTexture.width,u=this._texture.baseTexture.height,l=e[n],h=e[i],c=e[o],f=e[n+1],p=e[i+1],d=e[o+1],g=r[n]*a,v=r[i]*a,m=r[o]*a,y=r[n+1]*u,x=r[i+1]*u,b=r[o+1]*u;if(this.canvasPadding>0){var _=this.canvasPadding/this.worldTransform.a,w=this.canvasPadding/this.worldTransform.d,T=(l+h+c)/3,E=(f+p+d)/3,S=l-T,A=f-E,C=Math.sqrt(S*S+A*A);l=T+S/C*(C+_),f=E+A/C*(C+w),S=h-T,A=p-E,C=Math.sqrt(S*S+A*A),h=T+S/C*(C+_),p=E+A/C*(C+w),S=c-T,A=d-E,C=Math.sqrt(S*S+A*A),c=T+S/C*(C+_),d=E+A/C*(C+w)}t.save(),t.beginPath(),t.moveTo(l,f),t.lineTo(h,p),t.lineTo(c,d),t.closePath(),t.clip();var M=g*x+y*m+v*b-x*m-y*v-g*b,R=l*x+y*c+h*b-x*c-y*h-l*b,O=g*h+l*m+v*c-h*m-l*v-g*c,P=g*x*c+y*h*m+l*v*b-l*x*m-y*v*c-g*h*b,D=f*x+y*d+p*b-x*d-y*p-f*b,I=g*p+f*m+v*d-p*m-f*v-g*d,L=g*x*d+y*p*m+f*v*b-f*x*m-y*v*d-g*p*b;t.transform(R/M,D/M,O/M,I/M,P/M,L/M),t.drawImage(s,0,0),t.restore()},n.prototype.renderMeshFlat=function(t){var e=this.context,r=t.vertices,n=r.length/2;e.beginPath();for(var i=1;n-2>i;i++){var o=2*i,s=r[o],a=r[o+2],u=r[o+4],l=r[o+1],h=r[o+3],c=r[o+5];e.moveTo(s,l),e.lineTo(a,h),e.lineTo(u,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},n.prototype._onTextureUpdate=function(){this.updateFrame=!0},n.prototype.getBounds=function(t){if(!this._currentBounds){for(var e=t||this.worldTransform,r=e.a,n=e.b,o=e.c,s=e.d,a=e.tx,u=e.ty,l=-1/0,h=-1/0,c=1/0,f=1/0,p=this.vertices,d=0,g=p.length;g>d;d+=2){var v=p[d],m=p[d+1],y=r*v+o*m+a,x=s*m+n*v+u;c=c>y?y:c,f=f>x?x:f,l=y>l?y:l,h=x>h?x:h}if(c===-1/0||h===1/0)return i.Rectangle.EMPTY;var b=this._bounds;b.x=c,b.width=l-c,b.y=f,b.height=h-f,this._currentBounds=b}return this._currentBounds},n.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,o);var e,r,i=this.vertices,a=s.points;if(this.drawMode===n.DRAW_MODES.TRIANGLES){var u=this.indices;for(r=this.indices.length,e=0;r>e;e+=3){var l=2*u[e],h=2*u[e+1],c=2*u[e+2];if(a[0]=i[l],a[1]=i[l+1],a[2]=i[h],a[3]=i[h+1],a[4]=i[c],a[5]=i[c+1],s.contains(o.x,o.y))return!0}}else for(r=i.length,e=0;r>e;e+=6)if(a[0]=i[e],a[1]=i[e+1],a[2]=i[e+2],a[3]=i[e+3],a[4]=i[e+4],a[5]=i[e+5],s.contains(o.x,o.y))return!0;return!1},n.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":23}],119:[function(t,e,r){function n(t,e,r){i.call(this,t),this._ready=!0,this.segmentsX=e||10,this.segmentsY=r||10,this.drawMode=i.DRAW_MODES.TRIANGLES,this.refresh()}var i=t("./Mesh");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.refresh=function(){var t=this.segmentsX*this.segmentsY,e=[],r=[],n=[],i=this.texture,o=this.segmentsX-1,s=this.segmentsY-1,a=0,u=i.width/o,l=i.height/s;for(a=0;t>a;a++){var h=a%this.segmentsX,c=a/this.segmentsX|0;e.push(h*u,c*l),r.push(h/(this.segmentsX-1),c/(this.segmentsY-1))}var f=o*s;for(a=0;f>a;a++){var p=a%o,d=a/o|0,g=d*this.segmentsX+p,v=d*this.segmentsX+p+1,m=(d+1)*this.segmentsX+p,y=(d+1)*this.segmentsX+p+1;n.push(g,v,m),n.push(v,y,m)}this.vertices=new Float32Array(e),this.uvs=new Float32Array(r),this.colors=new Float32Array([]),this.indices=new Uint16Array(n)},n.prototype._onTextureUpdate=function(){i.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()}},{"./Mesh":118}],120:[function(t,e,r){function n(t,e){i.call(this,t),this.points=e,this.vertices=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length),this._ready=!0,this.refresh()}var i=t("./Mesh"),o=t("../core");n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){var e=this.uvs,r=this.indices,n=this.colors,i=this._texture._uvs,s=new o.Point(i.x0,i.y0),a=new o.Point(i.x2-i.x0,i.y2-i.y0);e[0]=0+s.x,e[1]=0+s.y,e[2]=0+s.x,e[3]=1*a.y+s.y,n[0]=1,n[1]=1,r[0]=0,r[1]=1;for(var u,l,h=t.length,c=1;h>c;c++)t[c],l=c/(h-1),e[u=4*c]=l*a.x+s.x,e[u+1]=0+s.y,e[u+2]=l*a.x+s.x,e[u+3]=1*a.y+s.y,n[u=2*c]=1,n[u+1]=1,r[u=2*c]=u,r[u+1]=u+1;this.dirty=!0}},n.prototype._onTextureUpdate=function(){i.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},n.prototype.updateTransform=function(){var t=this.points;if(!(t.length<1)){for(var e,r,n,i,o,s=t[0],a=0,u=0,l=this.vertices,h=t.length,c=0;h>c;c++)r=t[c],n=4*c,e=c<t.length-1?t[c+1]:r,u=-(e.x-s.x),a=e.y-s.y,i=Math.sqrt(a*a+u*u),o=this._texture.height/2,a/=i,u/=i,a*=o,u*=o,l[n]=r.x+a,l[n+1]=r.y+u,l[n+2]=r.x-a,l[n+3]=r.y-u,s=r;this.containerUpdateTransform()}}},{"../core":23,"./Mesh":118}],121:[function(t,e,r){e.exports={Mesh:t("./Mesh"),Plane:t("./Plane"),Rope:t("./Rope"),MeshRenderer:t("./webgl/MeshRenderer"),MeshShader:t("./webgl/MeshShader")}},{"./Mesh":118,"./Plane":119,"./Rope":120,"./webgl/MeshRenderer":122,"./webgl/MeshShader":123}],122:[function(t,e,r){function n(t){i.ObjectRenderer.call(this,t),this.indices=new Uint16Array(15e3);for(var e=0,r=0;15e3>e;e+=6,r+=4)this.indices[e+0]=r+0,this.indices[e+1]=r+1,this.indices[e+2]=r+2,this.indices[e+3]=r+0,this.indices[e+4]=r+2,this.indices[e+5]=r+3;this.currentShader=null}var i=t("../../core"),o=t("../Mesh");n.prototype=Object.create(i.ObjectRenderer.prototype),n.prototype.constructor=n,e.exports=n,i.WebGLRenderer.registerPlugin("mesh",n),n.prototype.onContextChange=function(){},n.prototype.render=function(t){t._vertexBuffer||this._initWebGL(t);var e=this.renderer,r=e.gl,n=t._texture.baseTexture,i=t.shader,s=t.drawMode===o.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;e.blendModeManager.setBlendMode(t.blendMode),i=i?i.shaders[r.id]||i.getShader(e):e.shaderManager.plugins.meshShader,this.renderer.shaderManager.setShader(i),i.uniforms.translationMatrix.value=t.worldTransform.toArray(!0),i.uniforms.projectionMatrix.value=e.currentRenderTarget.projectionMatrix.toArray(!0),i.uniforms.alpha.value=t.worldAlpha,i.syncUniforms(),t.dirty?(t.dirty=!1,r.bindBuffer(r.ARRAY_BUFFER,t._vertexBuffer),r.bufferData(r.ARRAY_BUFFER,t.vertices,r.STATIC_DRAW),r.vertexAttribPointer(i.attributes.aVertexPosition,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,t._uvBuffer),r.bufferData(r.ARRAY_BUFFER,t.uvs,r.STATIC_DRAW),r.vertexAttribPointer(i.attributes.aTextureCoord,2,r.FLOAT,!1,0,0),r.activeTexture(r.TEXTURE0),n._glTextures[r.id]?r.bindTexture(r.TEXTURE_2D,n._glTextures[r.id]):this.renderer.updateTexture(n),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t._indexBuffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.indices,r.STATIC_DRAW)):(r.bindBuffer(r.ARRAY_BUFFER,t._vertexBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,t.vertices),r.vertexAttribPointer(i.attributes.aVertexPosition,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,t._uvBuffer),r.vertexAttribPointer(i.attributes.aTextureCoord,2,r.FLOAT,!1,0,0),r.activeTexture(r.TEXTURE0),n._glTextures[r.id]?r.bindTexture(r.TEXTURE_2D,n._glTextures[r.id]):this.renderer.updateTexture(n),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t._indexBuffer),r.bufferSubData(r.ELEMENT_ARRAY_BUFFER,0,t.indices)),r.drawElements(s,t.indices.length,r.UNSIGNED_SHORT,0)},n.prototype._initWebGL=function(t){var e=this.renderer.gl;t._vertexBuffer=e.createBuffer(),t._indexBuffer=e.createBuffer(),t._uvBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,t.vertices,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,t._uvBuffer),e.bufferData(e.ARRAY_BUFFER,t.uvs,e.STATIC_DRAW),t.colors&&(t._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._colorBuffer),e.bufferData(e.ARRAY_BUFFER,t.colors,e.STATIC_DRAW)),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t.indices,e.STATIC_DRAW)},n.prototype.flush=function(){},n.prototype.start=function(){this.currentShader=null},n.prototype.destroy=function(){i.ObjectRenderer.prototype.destroy.call(this)}},{"../../core":23,"../Mesh":118}],123:[function(t,e,r){function n(t){i.Shader.call(this,t,["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * alpha ;","}"].join("\n"),{alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aTextureCoord:0})}var i=t("../../core");n.prototype=Object.create(i.Shader.prototype),n.prototype.constructor=n,e.exports=n,i.ShaderManager.registerPlugin("meshShader",n)},{"../../core":23}],124:[function(t,e,r){Math.sign||(Math.sign=function(t){return 0==(t=+t)||isNaN(t)?t:t>0?1:-1})},{}],125:[function(t,e,r){Object.assign||(Object.assign=t("object-assign"))},{"object-assign":11}],126:[function(t,e,r){t("./Object.assign"),t("./requestAnimationFrame"),t("./Math.sign")},{"./Math.sign":124,"./Object.assign":125,"./requestAnimationFrame":127}],127:[function(t,r,n){(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var r=Date.now(),n=["ms","moz","webkit","o"],i=0;i<n.length&&!t.requestAnimationFrame;++i)t.requestAnimationFrame=t[n[i]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[n[i]+"CancelAnimationFrame"]||t[n[i]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),n=16+r-e;return 0>n&&(n=0),r=e,setTimeout(function(){r=Date.now(),t(performance.now())},n)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],128:[function(t,e,n){(function(t){!function(){function n(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(i,arguments)}}var i,o,s={};null!=(i=this)&&(o=i.async),s.noConflict=function(){return i.async=o,s};var a=Object.prototype.toString,u=Array.isArray||function(t){return"[object Array]"===a.call(t)},l=function(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r+=1)e(t[r],r,t)},h=function(t,e){if(t.map)return t.map(e);var r=[];return l(t,function(t,n,i){r.push(e(t,n,i))}),r},c=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e};void 0!==t&&t.nextTick?(s.nextTick=t.nextTick,s.setImmediate=void 0!==r?function(t){r(t)}:s.nextTick):"function"==typeof r?(s.nextTick=function(t){r(t)},s.setImmediate=s.nextTick):(s.nextTick=function(t){setTimeout(t,0)},s.setImmediate=s.nextTick),s.each=function(t,e,r){function i(e){e?(r(e),r=function(){}):(o+=1)>=t.length&&r()}if(r=r||function(){},!t.length)return r();var o=0;l(t,function(t){e(t,n(i))})},s.forEach=s.each,s.eachSeries=function(t,e,r){if(r=r||function(){},!t.length)return r();var n=0,i=function(){e(t[n],function(e){e?(r(e),r=function(){}):(n+=1)>=t.length?r():i()})};i()},s.forEachSeries=s.eachSeries,s.eachLimit=function(t,e,r,n){var i=f(e);i.apply(null,[t,r,n])},s.forEachLimit=s.eachLimit;var f=function(t){return function(e,r,n){if(n=n||function(){},!e.length||0>=t)return n();var i=0,o=0,s=0;!function a(){if(i>=e.length)return n();for(;t>s&&o<e.length;)s+=1,r(e[(o+=1)-1],function(t){t?(n(t),n=function(){}):(s-=1,(i+=1)>=e.length?n():a())})}()}},p=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.each].concat(e))}},d=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.eachSeries].concat(e))}},g=function(t,e,r,n){if(e=h(e,function(t,e){return{index:e,value:t}}),n){var i=[];t(e,function(t,e){r(t.value,function(r,n){i[t.index]=n,e(r)})},function(t){n(t,i)})}else t(e,function(t,e){r(t.value,function(t){e(t)})})};s.map=p(g),s.mapSeries=d(g),s.mapLimit=function(t,e,r,n){return v(e)(t,r,n)};var v=function(t){return function(t,e){return function(){var r=Array.prototype.slice.call(arguments);return e.apply(null,[f(t)].concat(r))}}(t,g)};s.reduce=function(t,e,r,n){s.eachSeries(t,function(t,n){r(e,t,function(t,r){e=r,n(t)})},function(t){n(t,e)})},s.inject=s.reduce,s.foldl=s.reduce,s.reduceRight=function(t,e,r,n){var i=h(t,function(t){return t}).reverse();s.reduce(i,e,r,n)},s.foldr=s.reduceRight;var m=function(t,e,r,n){var i=[];e=h(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){r(t.value,function(r){r&&i.push(t),e()})},function(t){n(h(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.filter=p(m),s.filterSeries=d(m),s.select=s.filter,s.selectSeries=s.filterSeries;var y=function(t,e,r,n){var i=[];e=h(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){r(t.value,function(r){r||i.push(t),e()})},function(t){n(h(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.reject=p(y),s.rejectSeries=d(y);var x=function(t,e,r,n){t(e,function(t,e){r(t,function(r){r?(n(t),n=function(){}):e()})},function(t){n()})};s.detect=p(x),s.detectSeries=d(x),s.some=function(t,e,r){s.each(t,function(t,n){e(t,function(t){t&&(r(!0),r=function(){}),n()})},function(t){r(!1)})},s.any=s.some,s.every=function(t,e,r){s.each(t,function(t,n){e(t,function(t){t||(r(!1),r=function(){}),n()})},function(t){r(!0)})},s.all=s.every,s.sortBy=function(t,e,r){s.map(t,function(t,r){e(t,function(e,n){e?r(e):r(null,{value:t,criteria:n})})},function(t,e){if(t)return r(t);r(null,h(e.sort(function(t,e){var r=t.criteria,n=e.criteria;return n>r?-1:r>n?1:0}),function(t){return t.value}))})},s.auto=function(t,e){e=e||function(){};var r=c(t),n=r.length;if(!n)return e();var i={},o=[],a=function(t){o.unshift(t)},h=function(t){for(var e=0;e<o.length;e+=1)if(o[e]===t)return void o.splice(e,1)},f=function(){n--,l(o.slice(0),function(t){t()})};a(function(){if(!n){var t=e;e=function(){},t(null,i)}}),l(r,function(r){var n=u(t[r])?t[r]:[t[r]],o=function(t){var n=Array.prototype.slice.call(arguments,1);if(n.length<=1&&(n=n[0]),t){var o={};l(c(i),function(t){o[t]=i[t]}),o[r]=n,e(t,o),e=function(){}}else i[r]=n,s.setImmediate(f)},p=n.slice(0,Math.abs(n.length-1))||[],d=function(){return function(t,e,r){return t.reduce?t.reduce(e,r):(l(t,function(t,n,i){r=e(r,t,n,i)}),r)}(p,function(t,e){return t&&i.hasOwnProperty(e)},!0)&&!i.hasOwnProperty(r)};if(d())n[n.length-1](o,i);else{var g=function(){d()&&(h(g),n[n.length-1](o,i))};a(g)}})},s.retry=function(t,e,r){var n=[];"function"==typeof t&&(r=e,e=t,t=5),t=parseInt(t,10)||5;var i=function(i,o){for(var a=function(t,e){return function(r){t(function(t,n){r(!t||e,{err:t,result:n})},o)}};t;)n.push(a(e,!(t-=1)));s.series(n,function(t,e){e=e[e.length-1],(i||r)(e.err,e.result)})};return r?i():i},s.waterfall=function(t,e){if(e=e||function(){},!u(t)){var r=new Error("First argument to waterfall must be an array of functions");return e(r)}if(!t.length)return e();var n=function(t){return function(r){if(r)e.apply(null,arguments),e=function(){};else{var i=Array.prototype.slice.call(arguments,1),o=t.next();o?i.push(n(o)):i.push(e),s.setImmediate(function(){t.apply(null,i)})}}};n(s.iterator(t))()};var b=function(t,e,r){if(r=r||function(){},u(e))t.map(e,function(t,e){t&&t(function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),e.call(null,t,r)})},r);else{var n={};t.each(c(e),function(t,r){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[t]=i,r(e)})},function(t){r(t,n)})}};s.parallel=function(t,e){b({map:s.map,each:s.each},t,e)},s.parallelLimit=function(t,e,r){b({map:v(e),each:f(e)},t,r)},s.series=function(t,e){if(e=e||function(){},u(t))s.mapSeries(t,function(t,e){t&&t(function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),e.call(null,t,r)})},e);else{var r={};s.eachSeries(c(t),function(e,n){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[e]=i,n(t)})},function(t){e(t,r)})}},s.iterator=function(t){var e=function(r){var n=function(){return t.length&&t[r].apply(null,arguments),n.next()};return n.next=function(){return r<t.length-1?e(r+1):null},n};return e(0)},s.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var _=function(t,e,r,n){var i=[];t(e,function(t,e){r(t,function(t,r){i=i.concat(r||[]),e(t)})},function(t){n(t,i)})};s.concat=p(_),s.concatSeries=d(_),s.whilst=function(t,e,r){t()?e(function(n){return n?r(n):void s.whilst(t,e,r)}):r()},s.doWhilst=function(t,e,r){t(function(n){if(n)return r(n);var i=Array.prototype.slice.call(arguments,1);e.apply(null,i)?s.doWhilst(t,e,r):r()})},s.until=function(t,e,r){t()?r():e(function(n){return n?r(n):void s.until(t,e,r)})},s.doUntil=function(t,e,r){t(function(n){if(n)return r(n);var i=Array.prototype.slice.call(arguments,1);e.apply(null,i)?r():s.doUntil(t,e,r)})},s.queue=function(t,e){function r(t,e,r,n){return t.started||(t.started=!0),u(e)||(e=[e]),0==e.length?s.setImmediate(function(){t.drain&&t.drain()}):void l(e,function(e){var i={data:e,callback:"function"==typeof n?n:null};r?t.tasks.unshift(i):t.tasks.push(i),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}void 0===e&&(e=1);var i=0,o={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,e){r(o,t,!1,e)},kill:function(){o.drain=null,o.tasks=[]},unshift:function(t,e){r(o,t,!0,e)},process:function(){if(!o.paused&&i<o.concurrency&&o.tasks.length){var e=o.tasks.shift();o.empty&&0===o.tasks.length&&o.empty(),i+=1;var r=n(function(){i-=1,e.callback&&e.callback.apply(e,arguments),o.drain&&o.tasks.length+i===0&&o.drain(),o.process()});t(e.data,r)}},length:function(){return o.tasks.length},running:function(){return i},idle:function(){return o.tasks.length+i===0},pause:function(){!0!==o.paused&&(o.paused=!0,o.process())},resume:function(){!1!==o.paused&&(o.paused=!1,o.process())}};return o},s.priorityQueue=function(t,e){function r(t,e){return t.priority-e.priority}function n(t,e,n,i){return t.started||(t.started=!0),u(e)||(e=[e]),0==e.length?s.setImmediate(function(){t.drain&&t.drain()}):void l(e,function(e){var o={data:e,priority:n,callback:"function"==typeof i?i:null};t.tasks.splice(function(t,e,r){for(var n=-1,i=t.length-1;i>n;){var o=n+(i-n+1>>>1);r(e,t[o])>=0?n=o:i=o-1}return n}(t.tasks,o,r)+1,0,o),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}var i=s.queue(t,e);return i.push=function(t,e,r){n(i,t,e,r)},delete i.unshift,i},s.cargo=function(t,e){var r=!1,n=[],i={tasks:n,payload:e,saturated:null,empty:null,drain:null,drained:!0,push:function(t,r){u(t)||(t=[t]),l(t,function(t){n.push({data:t,callback:"function"==typeof r?r:null}),i.drained=!1,i.saturated&&n.length===e&&i.saturated()}),s.setImmediate(i.process)},process:function o(){if(!r){if(0===n.length)return i.drain&&!i.drained&&i.drain(),void(i.drained=!0);var s="number"==typeof e?n.splice(0,e):n.splice(0,n.length),a=h(s,function(t){return t.data});i.empty&&i.empty(),r=!0,t(a,function(){r=!1;var t=arguments;l(s,function(e){e.callback&&e.callback.apply(null,t)}),o()})}},length:function(){return n.length},running:function(){return r}};return i};var w=function(t){return function(e){var r=Array.prototype.slice.call(arguments,1);e.apply(null,r.concat([function(e){var r=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&l(r,function(e){console[t](e)}))}]))}};s.log=w("log"),s.dir=w("dir"),s.memoize=function(t,e){var r={},n={};e=e||function(t){return t};var i=function(){var i=Array.prototype.slice.call(arguments),o=i.pop(),a=e.apply(null,i);a in r?s.nextTick(function(){o.apply(null,r[a])}):a in n?n[a].push(o):(n[a]=[o],t.apply(null,i.concat([function(){r[a]=arguments;var t=n[a];delete n[a];for(var e=0,i=t.length;i>e;e++)t[e].apply(null,arguments)}])))};return i.memo=r,i.unmemoized=t,i},s.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},s.times=function(t,e,r){for(var n=[],i=0;t>i;i++)n.push(i);return s.map(n,e,r)},s.timesSeries=function(t,e,r){for(var n=[],i=0;t>i;i++)n.push(i);return s.mapSeries(n,e,r)},s.seq=function(){var t=arguments;return function(){var e=this,r=Array.prototype.slice.call(arguments),n=r.pop();s.reduce(t,r,function(t,r,n){r.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);n(t,e)}]))},function(t,r){n.apply(e,[t].concat(r))})}},s.compose=function(){return s.seq.apply(null,Array.prototype.reverse.call(arguments))};var T=function(t,e){var r=function(){var r=this,n=Array.prototype.slice.call(arguments),i=n.pop();return t(e,function(t,e){t.apply(r,n.concat([e]))},i)};if(arguments.length>2){var n=Array.prototype.slice.call(arguments,2);return r.apply(this,n)}return r};s.applyEach=p(T),s.applyEachSeries=d(T),s.forever=function(t,e){!function r(n){if(n){if(e)return e(n);throw n}t(r)}()},void 0!==e&&e.exports?e.exports=s:i.async=s}()}).call(this,t("_process"))},{_process:3}],129:[function(t,e,r){"use strict";function n(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function i(){}var o="function"!=typeof Object.create&&"~";i.prototype._events=void 0,i.prototype.listeners=function(t,e){var r=o?o+t:t,n=this._events&&this._events[r];if(e)return!!n;if(!n)return[];if(this._events[r].fn)return[this._events[r].fn];for(var i=0,s=this._events[r].length,a=new Array(s);s>i;i++)a[i]=this._events[r][i].fn;return a},i.prototype.emit=function(t,e,r,n,i,s){var a=o?o+t:t;if(!this._events||!this._events[a])return!1;var u,l,h=this._events[a],c=arguments.length;if("function"==typeof h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),c){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,r),!0;case 4:return h.fn.call(h.context,e,r,n),!0;case 5:return h.fn.call(h.context,e,r,n,i),!0;case 6:return h.fn.call(h.context,e,r,n,i,s),!0}for(l=1,u=new Array(c-1);c>l;l++)u[l-1]=arguments[l];h.fn.apply(h.context,u)}else{var f,p=h.length;for(l=0;p>l;l++)switch(h[l].once&&this.removeListener(t,h[l].fn,void 0,!0),c){case 1:h[l].fn.call(h[l].context);break;case 2:h[l].fn.call(h[l].context,e);break;case 3:h[l].fn.call(h[l].context,e,r);break;default:if(!u)for(f=1,u=new Array(c-1);c>f;f++)u[f-1]=arguments[f];h[l].fn.apply(h[l].context,u)}}return!0},i.prototype.on=function(t,e,r){var i=new n(e,r||this),s=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],i]:this._events[s].push(i):this._events[s]=i,this},i.prototype.once=function(t,e,r){var i=new n(e,r||this,!0),s=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],i]:this._events[s].push(i):this._events[s]=i,this},i.prototype.removeListener=function(t,e,r,n){var i=o?o+t:t;if(!this._events||!this._events[i])return this;var s=this._events[i],a=[];if(e)if(s.fn)(s.fn!==e||n&&!s.once||r&&s.context!==r)&&a.push(s);else for(var u=0,l=s.length;l>u;u++)(s[u].fn!==e||n&&!s[u].once||r&&s[u].context!==r)&&a.push(s[u]);return a.length?this._events[i]=1===a.length?a[0]:a:delete this._events[i],this},i.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[o?o+t:t]:this._events=o?{}:Object.create(null),this):this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=o,e.exports=i},{}],130:[function(t,e,r){function n(t,e){a.call(this),e=e||10,this.baseUrl=t||"",this.progress=0,this.loading=!1,this._progressChunk=0,this._beforeMiddleware=[],this._afterMiddleware=[],this._boundLoadResource=this._loadResource.bind(this),this._boundOnLoad=this._onLoad.bind(this),this._buffer=[],this._numToLoad=0,this._queue=i.queue(this._boundLoadResource,e),this.resources={}}var i=t("async"),o=t("url"),s=t("./Resource"),a=t("eventemitter3");n.prototype=Object.create(a.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.add=n.prototype.enqueue=function(t,e,r,n){if(Array.isArray(t)){for(var i=0;i<t.length;++i)this.add(t[i]);return this}if("object"==typeof t&&(n=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(n=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(n=r,r=null),this.resources[t])throw new Error('Resource with name "'+t+'" already exists.');return e=this._handleBaseUrl(e),this.resources[t]=new s(t,e,r),"function"==typeof n&&this.resources[t].once("afterMiddleware",n),this._numToLoad++,this._queue.started?(this._queue.push(this.resources[t]),this._progressChunk=(100-this.progress)/(this._queue.length()+this._queue.running())):(this._buffer.push(this.resources[t]),this._progressChunk=100/this._buffer.length),this},n.prototype._handleBaseUrl=function(t){var e=o.parse(t);return e.protocol||0===e.pathname.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t},n.prototype.before=n.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},n.prototype.after=n.prototype.use=function(t){return this._afterMiddleware.push(t),this},n.prototype.reset=function(){this.progress=0,this.loading=!1,this._progressChunk=0,this._buffer.length=0,this._numToLoad=0,this._queue.kill(),this._queue.started=!1,this.resources={}},n.prototype.load=function(t){if("function"==typeof t&&this.once("complete",t),this._queue.started)return this;this.emit("start",this);for(var e=0;e<this._buffer.length;++e)this._queue.push(this._buffer[e]);return this._buffer.length=0,this},n.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,this._runMiddleware(t,this._beforeMiddleware,function(){t.load(r._boundOnLoad)})},n.prototype._onComplete=function(){this.emit("complete",this,this.resources)},n.prototype._onLoad=function(t){this.progress+=this._progressChunk,this.emit("progress",this,t),this._runMiddleware(t,this._afterMiddleware,function(){t.emit("afterMiddleware",t),this._numToLoad--,0===this._numToLoad&&(this.progress=100,this._onComplete()),t.error?this.emit("error",t.error,this,t):this.emit("load",this,t)}),t._dequeue()},n.prototype._runMiddleware=function(t,e,r){var n=this;i.eachSeries(e,function(e,r){e.call(n,t,r)},r.bind(this,t))},n.LOAD_TYPE=s.LOAD_TYPE,n.XHR_READY_STATE=s.XHR_READY_STATE,n.XHR_RESPONSE_TYPE=s.XHR_RESPONSE_TYPE},{"./Resource":131,async:128,eventemitter3:129,url:8}],131:[function(t,e,r){function n(t,e,r){if(s.call(this),r=r||{},"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");this.name=t,this.url=e,this.isDataUrl=0===this.url.indexOf("data:"),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.isJson=!1,this.isXml=!1,this.isImage=!1,this.isAudio=!1,this.isVideo=!1,this._dequeue=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this)}function i(t){return t.toString().replace("object ","")}function o(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}var s=t("eventemitter3"),a=t("url"),u=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),l=null;n.prototype=Object.create(s.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError),this.data.removeEventListener("load",this._boundComplete),this.data.removeEventListener("progress",this._boundOnProgress),this.data.removeEventListener("canplaythrough",this._boundComplete)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError),this.xhr.removeEventListener("abort",this._boundXhrOnAbort),this.xhr.removeEventListener("progress",this._boundOnProgress),this.xhr.removeEventListener("load",this._boundXhrOnLoad)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.emit("complete",this)},n.prototype.load=function(t){switch(this.emit("start",this),t&&this.once("complete",t),(!1===this.crossOrigin||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case n.LOAD_TYPE.IMAGE:this._loadImage();break;case n.LOAD_TYPE.AUDIO:this._loadElement("audio");break;case n.LOAD_TYPE.VIDEO:this._loadElement("video");break;case n.LOAD_TYPE.XHR:default:u&&this.crossOrigin?this._loadXdr():this._loadXhr()}},n.prototype._loadImage=function(){this.data=new Image,this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.data.src=this.url,this.isImage=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},n.prototype._loadElement=function(t){if("audio"===t&&"undefined"!=typeof Audio?this.data=new Audio:this.data=document.createElement(t),null===this.data)return this.error=new Error("Unsupported element "+t),void this.complete();if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=0;e<this.url.length;++e)this.data.appendChild(this._createSource(t,this.url[e]));else this.data.appendChild(this._createSource(t,this.url));this["is"+t[0].toUpperCase()+t.substring(1)]=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},n.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),this.xhrType===n.XHR_RESPONSE_TYPE.JSON||this.xhrType===n.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=n.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},n.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){t.send()},0)},n.prototype._createSource=function(t,e,r){r||(r=t+"/"+e.substr(e.lastIndexOf(".")+1));var n=document.createElement("source");return n.src=e,n.type=r,n},n.prototype._onError=function(t){this.error=new Error("Failed to load element using "+t.target.nodeName),this.complete()},n.prototype._onProgress=function(t){t&&t.lengthComputable&&this.emit("progress",this,t.loaded/t.total)},n.prototype._xhrOnError=function(){this.error=new Error(i(this.xhr)+" Request failed. Status: "+this.xhr.status+', text: "'+this.xhr.statusText+'"'),this.complete()},n.prototype._xhrOnAbort=function(){this.error=new Error(i(this.xhr)+" Request was aborted by the user."),this.complete()},n.prototype._xdrOnTimeout=function(){this.error=new Error(i(this.xhr)+" Request timed out."),this.complete()},n.prototype._xhrOnLoad=function(){var t=this.xhr,e=void 0!==t.status?t.status:200;if(200===e||204===e||0===e&&t.responseText.length>0)if(this.xhrType===n.XHR_RESPONSE_TYPE.TEXT)this.data=t.responseText;else if(this.xhrType===n.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(t.responseText),this.isJson=!0}catch(t){this.error=new Error("Error trying to parse loaded json:",t)}else if(this.xhrType===n.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var r=new DOMParser;this.data=r.parseFromString(t.responseText,"text/xml")}else{var i=document.createElement("div");i.innerHTML=t.responseText,this.data=i}this.isXml=!0}catch(t){this.error=new Error("Error trying to parse loaded xml:",t)}else this.data=t.response||t.responseText;else this.error=new Error("["+t.status+"]"+t.statusText+":"+t.responseURL);this.complete()},n.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,l||(l=document.createElement("a")),l.href=t;var r=!(t=a.parse(l.href)).port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&r&&t.protocol===e.protocol?"":"anonymous"},n.prototype._determineXhrType=function(){return n._xhrTypeMap[this._getExtension()]||n.XHR_RESPONSE_TYPE.TEXT},n.prototype._determineLoadType=function(){return n._loadTypeMap[this._getExtension()]||n.LOAD_TYPE.XHR},n.prototype._getExtension=function(){var t,e=this.url;if(this.isDataUrl){var r=e.indexOf("/");t=e.substring(r+1,e.indexOf(";",r))}else{var n=e.indexOf("?");-1!==n&&(e=e.substring(0,n)),t=e.substring(e.lastIndexOf(".")+1)}return t},n.prototype._getMimeFromXhrType=function(t){switch(t){case n.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case n.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case n.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case n.XHR_RESPONSE_TYPE.JSON:return"application/json";case n.XHR_RESPONSE_TYPE.DEFAULT:case n.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},n.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},n.XHR_READY_STATE={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},n.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},n._loadTypeMap={gif:n.LOAD_TYPE.IMAGE,png:n.LOAD_TYPE.IMAGE,bmp:n.LOAD_TYPE.IMAGE,jpg:n.LOAD_TYPE.IMAGE,jpeg:n.LOAD_TYPE.IMAGE,tif:n.LOAD_TYPE.IMAGE,tiff:n.LOAD_TYPE.IMAGE,webp:n.LOAD_TYPE.IMAGE,tga:n.LOAD_TYPE.IMAGE},n._xhrTypeMap={xhtml:n.XHR_RESPONSE_TYPE.DOCUMENT,html:n.XHR_RESPONSE_TYPE.DOCUMENT,htm:n.XHR_RESPONSE_TYPE.DOCUMENT,xml:n.XHR_RESPONSE_TYPE.DOCUMENT,tmx:n.XHR_RESPONSE_TYPE.DOCUMENT,tsx:n.XHR_RESPONSE_TYPE.DOCUMENT,svg:n.XHR_RESPONSE_TYPE.DOCUMENT,gif:n.XHR_RESPONSE_TYPE.BLOB,png:n.XHR_RESPONSE_TYPE.BLOB,bmp:n.XHR_RESPONSE_TYPE.BLOB,jpg:n.XHR_RESPONSE_TYPE.BLOB,jpeg:n.XHR_RESPONSE_TYPE.BLOB,tif:n.XHR_RESPONSE_TYPE.BLOB,tiff:n.XHR_RESPONSE_TYPE.BLOB,webp:n.XHR_RESPONSE_TYPE.BLOB,tga:n.XHR_RESPONSE_TYPE.BLOB,json:n.XHR_RESPONSE_TYPE.JSON,text:n.XHR_RESPONSE_TYPE.TEXT,txt:n.XHR_RESPONSE_TYPE.TEXT},n.setExtensionLoadType=function(t,e){o(n._loadTypeMap,t,e)},n.setExtensionXhrType=function(t,e){o(n._xhrTypeMap,t,e)}},{eventemitter3:129,url:8}],132:[function(t,e,r){e.exports={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeBinary:function(t){for(var e,r="",n=new Array(4),i=0,o=0;i<t.length;){for(e=new Array(3),o=0;o<e.length;o++)i<t.length?e[o]=255&t.charCodeAt(i++):e[o]=0;switch(n[0]=e[0]>>2,n[1]=(3&e[0])<<4|e[1]>>4,n[2]=(15&e[1])<<2|e[2]>>6,n[3]=63&e[2],i-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(o=0;o<n.length;o++)r+=this._keyStr.charAt(n[o])}return r}}},{}],133:[function(t,e,r){e.exports=t("./Loader"),e.exports.Resource=t("./Resource"),e.exports.middleware={caching:{memory:t("./middlewares/caching/memory")},parsing:{blob:t("./middlewares/parsing/blob")}}},{"./Loader":130,"./Resource":131,"./middlewares/caching/memory":134,"./middlewares/parsing/blob":135}],134:[function(t,e,r){var n={};e.exports=function(){return function(t,e){n[t.url]?(t.data=n[t.url],t.complete()):t.once("complete",function(){n[this.url]=this.data}),e()}}},{}],135:[function(t,e,r){var n=t("../../Resource"),i=t("../../b64");window.URL=window.URL||window.webkitURL,e.exports=function(){return function(t,e){if(!t.data)return e();if(t.xhr&&t.xhrType===n.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=URL.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=r,t.isImage=!0,t.data.onload=function(){URL.revokeObjectURL(r),t.data.onload=null,e()}}}else{var o=t.xhr.getResponseHeader("content-type");o&&0===o.indexOf("image")&&(t.data=new Image,t.data.src="data:"+o+";base64,"+i.encodeBinary(t.xhr.responseText),t.isImage=!0,t.data.onload=function(){t.data.onload=null,e()})}else e()}}},{"../../Resource":131,"../../b64":132}]},{},[108])(108)}).call(window)}).call(this,r("yLpj"),r("CfyG").setImmediate)},NO8f:function(t,e,r){r("7DDg")("Uint8",1,function(t){return function(e,r,n){return t(this,e,r,n)}})},NTXk:function(t,e,r){"use strict";var n=r("XKFU"),i=r("AvRE")(!0);n(n.P,"String",{at:function(t){return i(this,t)}})},NV0k:function(t,e){e.f={}.propertyIsEnumerable},NeU8:function(t,e,r){var n;
/*!
 * angular-translate - v2.17.0 - 2017-12-21
 * 
 * Copyright (c) 2017 The angular-translate team, Pascal Precht; Licensed MIT
 */void 0===(n=function(){return function(){function t(t){"use strict";var e=t.storageKey(),r=t.storage(),n=function(){var n=t.preferredLanguage();angular.isString(n)?t.use(n):r.put(e,t.use())};n.displayName="fallbackFromIncorrectStorageValue",r?r.get(e)?t.use(r.get(e)).catch(n):n():angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}function e(t,e,r,n){"use strict";var i,o,s,a,u,l,h,c,f,p,d,g,v,m,y,x,b={},_=[],w=t,T=[],E="translate-cloak",S=!1,A=!1,C=".",M=!1,R=!1,O=0,P=!0,D="default",I={default:function(t){return(t||"").split("-").join("_")},java:function(t){var e=(t||"").split("-").join("_"),r=e.split("_");return r.length>1?r[0].toLowerCase()+"_"+r[1].toUpperCase():e},bcp47:function(t){var e=(t||"").split("_").join("-"),r=e.split("-");switch(r.length){case 1:r[0]=r[0].toLowerCase();break;case 2:r[0]=r[0].toLowerCase(),4===r[1].length?r[1]=r[1].charAt(0).toUpperCase()+r[1].slice(1).toLowerCase():r[1]=r[1].toUpperCase();break;case 3:r[0]=r[0].toLowerCase(),r[1]=r[1].charAt(0).toUpperCase()+r[1].slice(1).toLowerCase(),r[2]=r[2].toUpperCase();break;default:return e}return r.join("-")},"iso639-1":function(t){var e=(t||"").split("_").join("-"),r=e.split("-");return r[0].toLowerCase()}},L=function(){if(angular.isFunction(n.getLocale))return n.getLocale();var t,r,i=e.$get().navigator,o=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(i.languages))for(t=0;t<i.languages.length;t++)if((r=i.languages[t])&&r.length)return r;for(t=0;t<o.length;t++)if((r=i[o[t]])&&r.length)return r;return null};L.displayName="angular-translate/service: getFirstBrowserLanguage";var F=function(){var t=L()||"";return I[D]&&(t=I[D](t)),t};F.displayName="angular-translate/service: getLocale";var k=function(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1},B=function(){return this.toString().replace(/^\s+|\s+$/g,"")},N=function(t){return angular.isString(t)?t.toLowerCase():t},U=function(t){if(t){for(var e,r=[],n=N(t),i=0,s=_.length;i<s;i++)r.push(N(_[i]));if((i=k(r,n))>-1)return _[i];if(o)for(var a in o)if(o.hasOwnProperty(a)){var u=!1,l=Object.prototype.hasOwnProperty.call(o,a)&&N(a)===N(t);if("*"===a.slice(-1)&&(u=N(a.slice(0,-1))===N(t.slice(0,a.length-1))),(l||u)&&(e=o[a],k(r,N(e))>-1))return e}var h=t.split("_");return h.length>1&&k(r,N(h[0]))>-1?h[0]:void 0}},$=function(t,e){if(!t&&!e)return b;if(t&&!e){if(angular.isString(t))return b[t]}else angular.isObject(b[t])||(b[t]={}),angular.extend(b[t],j(e));return this};this.translations=$,this.cloakClassName=function(t){return t?(E=t,this):E},this.nestedObjectDelimeter=function(t){return t?(C=t,this):C};var j=function(t,e,r,n){var i,o,s,a;for(i in e||(e=[]),r||(r={}),t)Object.prototype.hasOwnProperty.call(t,i)&&(a=t[i],angular.isObject(a)?j(a,e.concat(i),r,i):(o=e.length?""+e.join(C)+C+i:i,e.length&&i===n&&(s=""+e.join(C),r[s]="@:"+o),r[o]=a));return r};j.displayName="flatObject",this.addInterpolation=function(t){return T.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return p=t,this},this.useSanitizeValueStrategy=function(t){return r.useStrategy(t),this},this.preferredLanguage=function(t){return t?(G(t),this):i};var G=function(t){return t&&(i=t),i};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(v=t,this):v},this.translationNotFoundIndicatorRight=function(t){return t?(m=t,this):m},this.fallbackLanguage=function(t){return W(t),this};var W=function(t){return t?(angular.isString(t)?(a=!0,s=[t]):angular.isArray(t)&&(a=!1,s=t),angular.isString(i)&&k(s,i)<0&&s.push(i),this):a?s[0]:s};this.use=function(t){if(t){if(!b[t]&&!d)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return u=t,this}return u},this.resolveClientLocale=function(){return F()};var V=function(t){return t?(w=t,this):c?c+w:w};this.storageKey=V,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return d=t,g=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return h=t,this},this.storagePrefix=function(t){return t?(c=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return f=t,this},this.usePostCompiling=function(t){return S=!!t,this},this.forceAsyncReload=function(t){return A=!!t,this},this.uniformLanguageTag=function(t){return t?angular.isString(t)&&(t={standard:t}):t={},D=t.standard,this},this.determinePreferredLanguage=function(t){var e=t&&angular.isFunction(t)?t():F();return i=_.length&&U(e)||e,this},this.registerAvailableLanguageKeys=function(t,e){return t?(_=t,e&&(o=e),this):_},this.useLoaderCache=function(t){return!1===t?y=void 0:!0===t?y=!0:void 0===t?y="$translationCache":t&&(y=t),this},this.directivePriority=function(t){return void 0===t?O:(O=t,this)},this.statefulFilter=function(t){return void 0===t?P:(P=t,this)},this.postProcess=function(t){return x=t||void 0,this},this.keepContent=function(t){return R=!!t,this},this.$get=["$log","$injector","$rootScope","$q",function(t,e,r,n){var o,c,D,I=e.get(p||"$translateDefaultInterpolation"),L=!1,N={},X={},z=function(t,e,r,a,l,f){!u&&i&&(u=i);var p=l&&l!==u?U(l)||l:u;if(l&&ot(l),angular.isArray(t))return function(t){for(var i={},o=[],s=function(t){var o=n.defer(),s=function(e){i[t]=e,o.resolve([t,e])};return z(t,e,r,a,l,f).then(s,s),o.promise},u=0,h=t.length;u<h;u++)o.push(s(t[u]));return n.all(o).then(function(){return i})}(t);var d=n.defer();t&&(t=B.apply(t));var g=function(){var t=X[p]||X[i];if(c=0,h&&!t){var e=o.get(w);if(t=X[e],s&&s.length){var r=k(s,e);c=0===r?1:0,k(s,i)<0&&s.push(i)}}return t}();if(g){var v=function(){l||(p=u),rt(t,e,r,a,p,f).then(d.resolve,d.reject)};v.displayName="promiseResolved",g.finally(v).catch(angular.noop)}else rt(t,e,r,a,p,f).then(d.resolve,d.reject);return d.promise},Y=function(t){return v&&(t=[v,t].join(" ")),m&&(t=[t,m].join(" ")),t},H=function(t){u=t,h&&o.put(z.storageKey(),u),r.$emit("$translateChangeSuccess",{language:t}),I.setLocale(u);var e=function(t,e){N[e].setLocale(u)};e.displayName="eachInterpolatorLocaleSetter",angular.forEach(N,e),r.$emit("$translateChangeEnd",{language:t})},q=function(t){if(!t)throw"No language key specified for loading.";var i=n.defer();r.$emit("$translateLoadingStart",{language:t}),L=!0;var o=y;"string"==typeof o&&(o=e.get(o));var s=angular.extend({},g,{key:t,$http:angular.extend({},{cache:o},g.$http)}),a=function(e){var n={};r.$emit("$translateLoadingSuccess",{language:t}),angular.isArray(e)?angular.forEach(e,function(t){angular.extend(n,j(t))}):angular.extend(n,j(e)),L=!1,i.resolve({key:t,table:n}),r.$emit("$translateLoadingEnd",{language:t})};a.displayName="onLoaderSuccess";var u=function(t){r.$emit("$translateLoadingError",{language:t}),i.reject(t),r.$emit("$translateLoadingEnd",{language:t})};return u.displayName="onLoaderError",e.get(d)(s).then(a,u),i.promise};if(h&&(!(o=e.get(h)).get||!o.put))throw new Error("Couldn't use storage '"+h+"', missing get() or put() method!");if(T.length){var Z=function(t){var r=e.get(t);r.setLocale(i||u),N[r.getInterpolationIdentifier()]=r};Z.displayName="interpolationFactoryAdder",angular.forEach(T,Z)}var K=function(t,e,r,i,o){var s=n.defer(),a=function(n){if(Object.prototype.hasOwnProperty.call(n,e)&&null!==n[e]){i.setLocale(t);var a=n[e];if("@:"===a.substr(0,2))K(t,a.substr(2),r,i,o).then(s.resolve,s.reject);else{var l=i.interpolate(n[e],r,"service",o,e);l=it(e,n[e],l,r,t),s.resolve(l)}i.setLocale(u)}else s.reject()};return a.displayName="fallbackTranslationResolver",function(t){var e=n.defer();if(Object.prototype.hasOwnProperty.call(b,t))e.resolve(b[t]);else if(X[t]){var r=function(t){$(t.key,t.table),e.resolve(t.table)};r.displayName="translationTableResolver",X[t].then(r,e.reject)}else e.reject();return e.promise}(t).then(a,s.reject),s.promise},Q=function(t,e,r,n,i){var o,s=b[t];if(s&&Object.prototype.hasOwnProperty.call(s,e)&&null!==s[e]){if(n.setLocale(t),o=n.interpolate(s[e],r,"filter",i,e),o=it(e,s[e],o,r,t,i),!angular.isString(o)&&angular.isFunction(o.$$unwrapTrustedValue)){var a=o.$$unwrapTrustedValue();if("@:"===a.substr(0,2))return Q(t,a.substr(2),r,n,i)}else if("@:"===o.substr(0,2))return Q(t,o.substr(2),r,n,i);n.setLocale(u)}return o},J=function(t,r,n,i){return f?e.get(f)(t,u,r,n,i):t},tt=function(t,e,r,i,o,a){var u=n.defer();if(t<s.length){var l=s[t];K(l,e,r,i,a).then(function(t){u.resolve(t)},function(){return tt(t+1,e,r,i,o,a).then(u.resolve,u.reject)})}else if(o)u.resolve(o);else{var h=J(e,r,o);f&&h?u.resolve(h):u.reject(Y(e))}return u.promise},et=function(t,e,r,n,i){var o;if(t<s.length){var a=s[t];(o=Q(a,e,r,n,i))||""===o||(o=et(t+1,e,r,n))}return o},rt=function(t,e,r,i,o,a){var u=n.defer(),l=o?b[o]:b,h=r?N[r]:I;if(l&&Object.prototype.hasOwnProperty.call(l,t)&&null!==l[t]){var p=l[t];if("@:"===p.substr(0,2))z(p.substr(2),e,r,i,o,a).then(u.resolve,u.reject);else{var d=h.interpolate(p,e,"service",a,t);d=it(t,p,d,e,o),u.resolve(d)}}else{var g;f&&!L&&(g=J(t,e,i)),o&&s&&s.length?function(t,e,r,n,i){return tt(D>0?D:c,t,e,r,n,i)}(t,e,h,i,a).then(function(t){u.resolve(t)},function(t){u.reject(Y(t))}):f&&!L&&g?i?u.resolve(i):u.resolve(g):i?u.resolve(i):u.reject(Y(t))}return u.promise},nt=function(t,e,r,n,i){var o,a=n?b[n]:b,u=I;if(N&&Object.prototype.hasOwnProperty.call(N,r)&&(u=N[r]),a&&Object.prototype.hasOwnProperty.call(a,t)&&null!==a[t]){var l=a[t];"@:"===l.substr(0,2)?o=nt(l.substr(2),e,r,n,i):(o=u.interpolate(l,e,"filter",i,t),o=it(t,l,o,e,n,i))}else{var h;f&&!L&&(h=J(t,e,i)),n&&s&&s.length?(c=0,o=function(t,e,r,n){return et(D>0?D:c,t,e,r,n)}(t,e,u,i)):o=f&&!L&&h?h:Y(t)}return o},it=function(t,r,n,i,o,s){var a=x;return a&&("string"==typeof a&&(a=e.get(a)),a)?a(t,r,n,i,o,s):n},ot=function(t){b[t]||!d||X[t]||(X[t]=q(t).then(function(t){return $(t.key,t.table),t}))};z.preferredLanguage=function(t){return t&&G(t),i},z.cloakClassName=function(){return E},z.nestedObjectDelimeter=function(){return C},z.fallbackLanguage=function(t){if(void 0!==t&&null!==t){if(W(t),d&&s&&s.length)for(var e=0,r=s.length;e<r;e++)X[s[e]]||(X[s[e]]=q(s[e]));z.use(z.use())}return a?s[0]:s},z.useFallbackLanguage=function(t){if(void 0!==t&&null!==t)if(t){var e=k(s,t);e>-1&&(D=e)}else D=0},z.proposedLanguage=function(){return l},z.storage=function(){return o},z.negotiateLocale=U,z.use=function(t){if(!t)return u;var e=n.defer();e.promise.then(null,angular.noop),r.$emit("$translateChangeStart",{language:t});var i=U(t);return _.length>0&&!i?n.reject(t):(i&&(t=i),l=t,!A&&b[t]||!d||X[t]?X[t]?X[t].then(function(t){return l===t.key&&H(t.key),e.resolve(t.key),t},function(t){return!u&&s&&s.length>0&&s[0]!==t?z.use(s[0]).then(e.resolve,e.reject):e.reject(t)}):(e.resolve(t),H(t)):(X[t]=q(t).then(function(r){return $(r.key,r.table),e.resolve(r.key),l===t&&H(r.key),r},function(t){return r.$emit("$translateChangeError",{language:t}),e.reject(t),r.$emit("$translateChangeEnd",{language:t}),n.reject(t)}),X[t].finally(function(){!function(t){l===t&&(l=void 0),X[t]=void 0}(t)}).catch(angular.noop)),e.promise)},z.resolveClientLocale=function(){return F()},z.storageKey=function(){return V()},z.isPostCompilingEnabled=function(){return S},z.isForceAsyncReloadEnabled=function(){return A},z.isKeepContent=function(){return R},z.refresh=function(t){if(!d)throw new Error("Couldn't refresh translation table, no loader registered!");r.$emit("$translateRefreshStart",{language:t});var e=n.defer(),i={};function o(t){var e=q(t);return X[t]=e,e.then(function(e){b[t]={},$(t,e.table),i[t]=!0},angular.noop),e}if(e.promise.then(function(){for(var t in b)b.hasOwnProperty(t)&&(t in i||delete b[t]);u&&H(u)},angular.noop).finally(function(){r.$emit("$translateRefreshEnd",{language:t})}),t)b[t]?o(t).then(e.resolve,e.reject):e.reject();else{var a=s&&s.slice()||[];u&&-1===a.indexOf(u)&&a.push(u),n.all(a.map(o)).then(e.resolve,e.reject)}return e.promise},z.instant=function(t,e,r,n,o){var a=n&&n!==u?U(n)||n:u;if(null===t||angular.isUndefined(t))return t;if(n&&ot(n),angular.isArray(t)){for(var l={},h=0,c=t.length;h<c;h++)l[t[h]]=z.instant(t[h],e,r,n,o);return l}if(angular.isString(t)&&t.length<1)return t;t&&(t=B.apply(t));var p,d,g=[];i&&g.push(i),a&&g.push(a),s&&s.length&&(g=g.concat(s));for(var y=0,x=g.length;y<x;y++){var _=g[y];if(b[_]&&void 0!==b[_][t]&&(p=nt(t,e,r,a,o)),void 0!==p)break}return p||""===p||(v||m?p=Y(t):(p=I.interpolate(t,e,"filter",o),f&&!L&&(d=J(t,e,o)),f&&!L&&d&&(p=d))),p},z.versionInfo=function(){return"2.17.0"},z.loaderCache=function(){return y},z.directivePriority=function(){return O},z.statefulFilter=function(){return P},z.isReady=function(){return M};var st=n.defer();st.promise.then(function(){M=!0}),z.onReady=function(t){var e=n.defer();return angular.isFunction(t)&&e.promise.then(t),M?e.resolve():st.promise.then(e.resolve),e.promise},z.getAvailableLanguageKeys=function(){return _.length>0?_:null},z.getTranslationTable=function(t){return(t=t||z.use())&&b[t]?angular.copy(b[t]):null};var at=r.$on("$translateReady",function(){st.resolve(),at(),at=null}),ut=r.$on("$translateChangeEnd",function(){st.resolve(),ut(),ut=null});if(d){if(angular.equals(b,{})&&z.use()&&z.use(z.use()),s&&s.length)for(var lt=function(t){return $(t.key,t.table),r.$emit("$translateChangeEnd",{language:t.key}),t},ht=0,ct=s.length;ht<ct;ht++){var ft=s[ht];!A&&b[ft]||(X[ft]=q(ft).then(lt))}}else r.$emit("$translateReady",{language:z.use()});return z}]}function r(t,e){"use strict";var r={setLocale:function(t){},getInterpolationIdentifier:function(){return"default"},useSanitizeValueStrategy:function(t){return e.useStrategy(t),this},interpolate:function(r,n,i,o,s){var a;return n=n||{},n=e.sanitize(n,"params",o,i),angular.isNumber(r)?a=""+r:angular.isString(r)?(a=t(r)(n),a=e.sanitize(a,"text",o,i)):a="",a}};return r}function n(t,e,r,n,o){"use strict";var s=function(t){return angular.isString(t)?t.toLowerCase():t};return{restrict:"AE",scope:!0,priority:t.directivePriority(),compile:function(a,u){var l=u.translateValues?u.translateValues:void 0,h=u.translateInterpolation?u.translateInterpolation:void 0,c=u.translateSanitizeStrategy?u.translateSanitizeStrategy:void 0,f=a[0].outerHTML.match(/translate-value-+/i),p="^(.*)("+e.startSymbol()+".*"+e.endSymbol()+")(.*)",d="^(.*)"+e.startSymbol()+"(.*)"+e.endSymbol()+"(.*)";return function(a,g,v){a.interpolateParams={},a.preText="",a.postText="",a.translateNamespace=i(a);var m={},y=function(t){if(angular.isFunction(y._unwatchOld)&&(y._unwatchOld(),y._unwatchOld=void 0),angular.equals(t,"")||!angular.isDefined(t)){var r=function(){return this.toString().replace(/^\s+|\s+$/g,"")}.apply(g.text()),n=r.match(p);if(angular.isArray(n)){a.preText=n[1],a.postText=n[3],m.translate=e(n[2])(a.$parent);var i=r.match(d);angular.isArray(i)&&i[2]&&i[2].length&&(y._unwatchOld=a.$watch(i[2],function(t){m.translate=t,E()}))}else m.translate=r||void 0}else m.translate=t;E()},x=function(t){v.$observe(t,function(e){m[t]=e,E()})};!function(t,e,r){if(e.translateValues&&angular.extend(t,n(e.translateValues)(a.$parent)),f)for(var i in r)if(Object.prototype.hasOwnProperty.call(e,i)&&"translateValue"===i.substr(0,14)&&"translateValues"!==i){var o=s(i.substr(14,1))+i.substr(15);t[o]=r[i]}}(a.interpolateParams,v,u);var b=!0;for(var _ in v.$observe("translate",function(t){void 0===t?y(""):""===t&&b||(m.translate=t,E()),b=!1}),v)v.hasOwnProperty(_)&&"translateAttr"===_.substr(0,13)&&_.length>13&&x(_);if(v.$observe("translateDefault",function(t){a.defaultText=t,E()}),c&&v.$observe("translateSanitizeStrategy",function(t){a.sanitizeStrategy=n(t)(a.$parent),E()}),l&&v.$observe("translateValues",function(t){t&&a.$parent.$watch(function(){angular.extend(a.interpolateParams,n(t)(a.$parent))})}),f){var w=function(t){v.$observe(t,function(e){var r=s(t.substr(14,1))+t.substr(15);a.interpolateParams[r]=e})};for(var T in v)Object.prototype.hasOwnProperty.call(v,T)&&"translateValue"===T.substr(0,14)&&"translateValues"!==T&&w(T)}var E=function(){for(var t in m)m.hasOwnProperty(t)&&void 0!==m[t]&&S(t,m[t],a,a.interpolateParams,a.defaultText,a.translateNamespace)},S=function(e,r,n,i,o,s){r?(s&&"."===r.charAt(0)&&(r=s+r),t(r,i,h,o,n.translateLanguage,n.sanitizeStrategy).then(function(t){A(t,n,!0,e)},function(t){A(t,n,!1,e)})):A(r,n,!1,e)},A=function(e,n,i,o){if(i||void 0!==n.defaultText&&(e=n.defaultText),"translate"===o){(i||!i&&!t.isKeepContent()&&void 0===v.translateKeepContent)&&g.empty().append(n.preText+e+n.postText);var s=t.isPostCompilingEnabled(),a=void 0!==u.translateCompile,l=a&&"false"!==u.translateCompile;(s&&!a||l)&&r(g.contents())(n)}else{var h=v.$attr[o];"data-"===h.substr(0,5)&&(h=h.substr(5)),h=h.substr(15),g.attr(h,e)}};(l||f||v.translateDefault)&&a.$watch("interpolateParams",E,!0),a.$on("translateLanguageChanged",E);var C=o.$on("$translateChangeSuccess",E);g.text().length?v.translate?y(v.translate):y(""):v.translate&&y(v.translate),E(),a.$on("$destroy",C)}}}}function i(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?i(t.$parent):void 0}function o(t,e){"use strict";return{restrict:"A",priority:t.directivePriority(),link:function(r,n,i){var o,a,u,l={},h=function(){angular.forEach(o,function(e,o){e&&(l[o]=!0,r.translateNamespace&&"."===e.charAt(0)&&(e=r.translateNamespace+e),t(e,a,i.translateInterpolation,void 0,r.translateLanguage,u).then(function(t){n.attr(o,t)},function(t){n.attr(o,t)}))}),angular.forEach(l,function(t,e){o[e]||(n.removeAttr(e),delete l[e])})};s(r,i.translateAttr,function(t){o=t},h),s(r,i.translateValues,function(t){a=t},h),s(r,i.translateSanitizeStrategy,function(t){u=t},h),i.translateValues&&r.$watch(i.translateValues,h,!0),r.$on("translateLanguageChanged",h);var c=e.$on("$translateChangeSuccess",h);h(),r.$on("$destroy",c)}}}function s(t,e,r,n){"use strict";e&&("::"===e.substr(0,2)?e=e.substr(2):t.$watch(e,function(t){r(t),n()},!0),r(t.$eval(e)))}function a(t,e){"use strict";return{compile:function(r){var n=function(e){e.addClass(t.cloakClassName())};return n(r),function(r,i,o){var s=function(e){e.removeClass(t.cloakClassName())}.bind(this,i),a=n.bind(this,i);o.translateCloak&&o.translateCloak.length?(o.$observe("translateCloak",function(e){t(e).then(s,a)}),e.$on("$translateChangeSuccess",function(){t(o.translateCloak).then(s,a)})):t.onReady(s)}}}}function u(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,e,r){t.translateNamespace=i(t),t.translateNamespace&&"."===r.translateNamespace.charAt(0)?t.translateNamespace+=r.translateNamespace:t.translateNamespace=r.translateNamespace}}}}}function i(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?i(t.$parent):void 0}function l(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(t,e,r){r.$observe("translateLanguage",function(e){t.translateLanguage=e}),t.$watch("translateLanguage",function(){t.$broadcast("translateLanguageChanged")})}}}}function h(t,e){"use strict";var r=function(r,n,i,o){if(!angular.isObject(n)){var s=this||{__SCOPE_IS_NOT_AVAILABLE:"More info at https://github.com/angular/angular.js/commit/8863b9d04c722b278fa93c5d66ad1e578ad6eb1f"};n=t(n)(s)}return e.instant(r,n,i,o)};return e.statefulFilter()&&(r.$stateful=!0),r}function c(t){"use strict";return t("translations")}return t.$inject=["$translate"],e.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],r.$inject=["$interpolate","$translateSanitization"],n.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],o.$inject=["$translate","$rootScope"],a.$inject=["$translate","$rootScope"],h.$inject=["$parse","$translate"],c.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(t),t.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",function(){"use strict";var t,e,r,n=null,i=!1,o=!1;(r={sanitize:function(t,e){return"text"===e&&(t=a(t)),t},escape:function(t,e){return"text"===e&&(t=s(t)),t},sanitizeParameters:function(t,e){return"params"===e&&(t=l(t,a)),t},escapeParameters:function(t,e){return"params"===e&&(t=l(t,s)),t},sce:function(t,e,r){return"text"===e?t=u(t):"params"===e&&"filter"!==r&&(t=l(t,s)),t},sceParameters:function(t,e){return"params"===e&&(t=l(t,u)),t}}).escaped=r.escapeParameters,this.addStrategy=function(t,e){return r[t]=e,this},this.removeStrategy=function(t){return delete r[t],this},this.useStrategy=function(t){return i=!0,n=t,this},this.$get=["$injector","$log",function(s,a){var u,l={};return s.has("$sanitize")&&(t=s.get("$sanitize")),s.has("$sce")&&(e=s.get("$sce")),{useStrategy:(u=this,function(t){u.useStrategy(t)}),sanitize:function(t,e,u,h){if(n||i||o||(a.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),o=!0),u||null===u||(u=n),!u)return t;h||(h="service");var c=angular.isArray(u)?u:[u];return function(t,e,n,i){return angular.forEach(i,function(i){if(angular.isFunction(i))t=i(t,e,n);else if(angular.isFunction(r[i]))t=r[i](t,e,n);else{if(!angular.isString(r[i]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'");if(!l[r[i]])try{l[r[i]]=s.get(r[i])}catch(t){throw l[r[i]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'")}t=l[r[i]](t,e,n)}}),t}(t,e,h,c)}}}];var s=function(t){var e=angular.element("<div></div>");return e.text(t),e.html()},a=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return t(e)},u=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return e.trustAsHtml(t)},l=function(t,e,r){if(angular.isDate(t))return t;if(angular.isObject(t)){var n=angular.isArray(t)?[]:{};if(r){if(r.indexOf(t)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else r=[];return r.push(t),angular.forEach(t,function(t,i){angular.isFunction(t)||(n[i]=l(t,e,r))}),r.splice(-1,1),n}return angular.isNumber(t)?t:!0===t||!1===t?t:angular.isUndefined(t)||null===t?t:e(t)}}),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",e),e.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",r),r.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",n),n.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",o),o.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",a),a.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",u),u.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",l),l.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",h),h.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",c),c.displayName="$translationCache","pascalprecht.translate"}()}.apply(e,[]))||(t.exports=n)},NegM:function(t,e,r){var n=r("2faE"),i=r("rr1i");t.exports=r("jmDH")?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},Nr18:function(t,e,r){"use strict";var n=r("S/j/"),i=r("d/Gc"),o=r("ne8i");t.exports=function(t){for(var e=n(this),r=o(e.length),s=arguments.length,a=i(s>1?arguments[1]:void 0,r),u=s>2?arguments[2]:void 0,l=void 0===u?r:i(u,r);l>a;)e[a++]=t;return e}},"NsO/":function(t,e,r){var n=r("M1xp"),i=r("Jes0");t.exports=function(t){return n(i(t))}},NwJ3:function(t,e,r){var n=r("SBuE"),i=r("UWiX")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[i]===t)}},Nz9U:function(t,e,r){"use strict";var n=r("XKFU"),i=r("aCFj"),o=[].join;n(n.P+n.F*(r("Ymqv")!=Object||!r("LyE8")(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},OEbY:function(t,e,r){r("nh4g")&&"g"!=/./g.flags&&r("hswa").f(RegExp.prototype,"flags",{configurable:!0,get:r("C/va")})},OG14:function(t,e,r){r("IU+Z")("search",1,function(t,e,r){return[function(r){"use strict";var n=t(this),i=void 0==r?void 0:r[e];return void 0!==i?i.call(r,n):new RegExp(r)[e](String(n))},r]})},OGtf:function(t,e,r){var n=r("XKFU"),i=r("eeVq"),o=r("vhPU"),s=/"/g,a=function(t,e,r,n){var i=String(o(t)),a="<"+e;return""!==r&&(a+=" "+r+'="'+String(n).replace(s,"&quot;")+'"'),a+">"+i+"</"+e+">"};t.exports=function(t,e){var r={};r[t]=e(a),n(n.P+n.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",r)}},ONr6:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAFCAYAAACw/UeDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNzA0ODc4NTBEOTExMUU0OTQwRUY3N0Y4NjU4NkUxMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNzA0ODc4NjBEOTExMUU0OTQwRUY3N0Y4NjU4NkUxMyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU3MDQ4NzgzMEQ5MTExRTQ5NDBFRjc3Rjg2NTg2RTEzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU3MDQ4Nzg0MEQ5MTExRTQ5NDBFRjc3Rjg2NTg2RTEzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Z0mLggAAAFVJREFUeNpi+P//vxwQ7wLiz1AaxGfAgslWBxLc/R8V7MehmWx1jCAbGRgYeBgQ4BcQszNgArLVMQGJE2iKjjFgB+Srg4YhyItfoLQ8nrAmSx1AgAEAGIkLFSECmUsAAAAASUVORK5CYII="},OP3Y:function(t,e,r){var n=r("aagx"),i=r("S/j/"),o=r("YTvA")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},Ojgd:function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},OnI7:function(t,e,r){var n=r("dyZX"),i=r("g3g5"),o=r("LQAc"),s=r("N8g3"),a=r("hswa").f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},Opxb:function(t,e,r){var n=r("N6cJ"),i=r("y3w9"),o=r("2OiF"),s=n.key,a=n.set;n.exp({metadata:function(t,e){return function(r,n){a(t,e,(void 0!==n?i:o)(r),s(n))}}})},Oyvg:function(t,e,r){var n=r("dyZX"),i=r("Xbzi"),o=r("hswa").f,s=r("kJMx").f,a=r("quPj"),u=r("C/va"),l=n.RegExp,h=l,c=l.prototype,f=/a/g,p=/a/g,d=new l(f)!==f;if(r("nh4g")&&(!d||r("eeVq")(function(){return p[r("K0xU")("match")]=!1,l(f)!=f||l(p)==p||"/a/i"!=l(f,"i")}))){l=function(t,e){var r=this instanceof l,n=a(t),o=void 0===e;return!r&&n&&t.constructor===l&&o?t:i(d?new h(n&&!o?t.source:t,e):h((n=t instanceof l)?t.source:t,n&&o?u.call(t):e),r?this:c,l)};for(var g=function(t){t in l||o(l,t,{configurable:!0,get:function(){return h[t]},set:function(e){h[t]=e}})},v=s(h),m=0;v.length>m;)g(v[m++]);c.constructor=l,l.prototype=c,r("KroJ")(n,"RegExp",l)}r("elZq")("RegExp")},P2sY:function(t,e,r){t.exports={default:r("UbbE"),__esModule:!0}},PBE1:function(t,e,r){"use strict";var n=r("Y7ZC"),i=r("WEpk"),o=r("5T2Y"),s=r("8gHz"),a=r("zXhZ");n(n.P+n.R,"Promise",{finally:function(t){var e=s(this,i.Promise||o.Promise),r="function"==typeof t;return this.then(r?function(r){return a(e,t()).then(function(){return r})}:t,r?function(r){return a(e,t()).then(function(){throw r})}:t)}})},PKUr:function(t,e,r){var n=r("dyZX").parseInt,i=r("qncB").trim,o=r("/e88"),s=/^[-+]?0[xX]/;t.exports=8!==n(o+"08")||22!==n(o+"0x16")?function(t,e){var r=i(String(t),3);return n(r,e>>>0||(s.test(r)?16:10))}:n},"Q/yX":function(t,e,r){"use strict";var n=r("Y7ZC"),i=r("ZW5q"),o=r("RDmV");n(n.S,"Promise",{try:function(t){var e=i.f(this),r=o(t);return(r.e?e.reject:e.resolve)(r.v),e.promise}})},Q3ne:function(t,e,r){var n=r("SlkY");t.exports=function(t,e){var r=[];return n(t,!1,r.push,r,e),r}},QMMT:function(t,e,r){var n=r("a0xu"),i=r("UWiX")("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?r:o?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},QWy2:function(t,e,r){r("KOQb")("Map")},QXhf:function(t,e,r){var n,i,o,s=r("2GTP"),a=r("MCSJ"),u=r("MvwC"),l=r("Hsns"),h=r("5T2Y"),c=h.process,f=h.setImmediate,p=h.clearImmediate,d=h.MessageChannel,g=h.Dispatch,v=0,m={},y=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},x=function(t){y.call(t.data)};f&&p||(f=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return m[++v]=function(){a("function"==typeof t?t:Function(t),e)},n(v),v},p=function(t){delete m[t]},"process"==r("a0xu")(c)?n=function(t){c.nextTick(s(y,t,1))}:g&&g.now?n=function(t){g.now(s(y,t,1))}:d?(o=(i=new d).port2,i.port1.onmessage=x,n=s(o.postMessage,o,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(n=function(t){h.postMessage(t+"","*")},h.addEventListener("message",x,!1)):n="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),t.exports={set:f,clear:p}},QaDb:function(t,e,r){"use strict";var n=r("Kuth"),i=r("RjD/"),o=r("fyDq"),s={};r("Mukb")(s,r("K0xU")("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=n(s,{next:i(1,r)}),o(t,e+" Iterator")}},QbLZ:function(t,e,r){"use strict";e.__esModule=!0;var n,i=r("P2sY"),o=(n=i)&&n.__esModule?n:{default:n};e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}},QnYD:function(t,e,r){var n=r("XKFU"),i=r("LZWt");n(n.S,"Error",{isError:function(t){return"Error"===i(t)}})},Qnnr:function(t,e,r){(function(){
/**
 * @license
 * pixi.js - v1.6.1
 * Copyright (c) 2012-2014, Mat Groves
 * http://goodboydigital.com/
 *
 * Compiled: 2014-07-25
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license.php
 */
(function(){var r=r||{};r.WEBGL_RENDERER=0,r.CANVAS_RENDERER=1,r.VERSION="v1.6.1",r.blendModes={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},r.scaleModes={DEFAULT:0,LINEAR:0,NEAREST:1},r._UID=0,"undefined"!=typeof Float32Array?(r.Float32Array=Float32Array,r.Uint16Array=Uint16Array):(r.Float32Array=Array,r.Uint16Array=Array),r.INTERACTION_FREQUENCY=30,r.AUTO_PREVENT_DEFAULT=!0,r.RAD_TO_DEG=180/Math.PI,r.DEG_TO_RAD=Math.PI/180,r.dontSayHello=!1,r.sayHello=function(t){if(!r.dontSayHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["%c %c %c Pixi.js "+r.VERSION+" - "+t+"  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ ","background: #ff66a5","background: #ff66a5","color: #ff66a5; background: #030307;","background: #ff66a5","background: #ffc3dc","background: #ff66a5","color: #ff2424; background: #fff","color: #ff2424; background: #fff","color: #ff2424; background: #fff"];console.log.apply(console,e)}else window.console&&console.log("Pixi.js "+r.VERSION+" - http://www.pixijs.com/");r.dontSayHello=!0}},r.Point=function(t,e){this.x=t||0,this.y=e||0},r.Point.prototype.clone=function(){return new r.Point(this.x,this.y)},r.Point.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},r.Point.prototype.constructor=r.Point,r.Rectangle=function(t,e,r,n){this.x=t||0,this.y=e||0,this.width=r||0,this.height=n||0},r.Rectangle.prototype.clone=function(){return new r.Rectangle(this.x,this.y,this.width,this.height)},r.Rectangle.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=this.x;if(t>=r&&t<=r+this.width){var n=this.y;if(e>=n&&e<=n+this.height)return!0}return!1},r.Rectangle.prototype.constructor=r.Rectangle,r.EmptyRectangle=new r.Rectangle(0,0,0,0),r.Polygon=function(t){if(t instanceof Array||(t=Array.prototype.slice.call(arguments)),"number"==typeof t[0]){for(var e=[],n=0,i=t.length;i>n;n+=2)e.push(new r.Point(t[n],t[n+1]));t=e}this.points=t},r.Polygon.prototype.clone=function(){for(var t=[],e=0;e<this.points.length;e++)t.push(this.points[e].clone());return new r.Polygon(t)},r.Polygon.prototype.contains=function(t,e){for(var r=!1,n=0,i=this.points.length-1;n<this.points.length;i=n++){var o=this.points[n].x,s=this.points[n].y,a=this.points[i].x,u=this.points[i].y;s>e!=u>e&&(a-o)*(e-s)/(u-s)+o>t&&(r=!r)}return r},r.Polygon.prototype.constructor=r.Polygon,r.Circle=function(t,e,r){this.x=t||0,this.y=e||0,this.radius=r||0},r.Circle.prototype.clone=function(){return new r.Circle(this.x,this.y,this.radius)},r.Circle.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.x-t,n=this.y-e;return this.radius*this.radius>=(r*=r)+(n*=n)},r.Circle.prototype.getBounds=function(){return new r.Rectangle(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},r.Circle.prototype.constructor=r.Circle,r.Ellipse=function(t,e,r,n){this.x=t||0,this.y=e||0,this.width=r||0,this.height=n||0},r.Ellipse.prototype.clone=function(){return new r.Ellipse(this.x,this.y,this.width,this.height)},r.Ellipse.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,n=(e-this.y)/this.height;return 1>=(r*=r)+(n*=n)},r.Ellipse.prototype.getBounds=function(){return new r.Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)},r.Ellipse.prototype.constructor=r.Ellipse,r.Matrix=function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},r.Matrix.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},r.Matrix.prototype.toArray=function(t){this.array||(this.array=new Float32Array(9));var e=this.array;return t?(e[0]=this.a,e[1]=this.c,e[2]=0,e[3]=this.b,e[4]=this.d,e[5]=0,e[6]=this.tx,e[7]=this.ty,e[8]=1):(e[0]=this.a,e[1]=this.b,e[2]=this.tx,e[3]=this.c,e[4]=this.d,e[5]=this.ty,e[6]=0,e[7]=0,e[8]=1),e},r.Matrix.prototype.apply=function(t,e){return(e=e||new r.Point).x=this.a*t.x+this.b*t.y+this.tx,e.y=this.c*t.x+this.d*t.y+this.ty,e},r.Matrix.prototype.applyInverse=function(t,e){e=e||new r.Point;var n=1/(this.a*this.d+this.b*-this.c);return e.x=this.d*n*t.x-this.b*n*t.y+(this.ty*this.b-this.tx*this.d)*n,e.y=this.a*n*t.y-this.c*n*t.x+(this.tx*this.c-this.ty*this.a)*n,e},r.identityMatrix=new r.Matrix,r.determineMatrixArrayType=function(){return"undefined"!=typeof Float32Array?Float32Array:Array},r.Matrix2=r.determineMatrixArrayType(),r.DisplayObject=function(){this.position=new r.Point,this.scale=new r.Point(1,1),this.pivot=new r.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.hitArea=null,this.buttonMode=!1,this.renderable=!1,this.parent=null,this.stage=null,this.worldAlpha=1,this._interactive=!1,this.defaultCursor="pointer",this.worldTransform=new r.Matrix,this.color=[],this.dynamic=!0,this._sr=0,this._cr=1,this.filterArea=null,this._bounds=new r.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null,this._cacheAsBitmap=!1,this._cacheIsDirty=!1},r.DisplayObject.prototype.constructor=r.DisplayObject,r.DisplayObject.prototype.setInteractive=function(t){this.interactive=t},Object.defineProperty(r.DisplayObject.prototype,"interactive",{get:function(){return this._interactive},set:function(t){this._interactive=t,this.stage&&(this.stage.dirty=!0)}}),Object.defineProperty(r.DisplayObject.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}}),Object.defineProperty(r.DisplayObject.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask&&(this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.isMask=!0)}}),Object.defineProperty(r.DisplayObject.prototype,"filters",{get:function(){return this._filters},set:function(t){if(t){for(var e=[],r=0;r<t.length;r++)for(var n=t[r].passes,i=0;i<n.length;i++)e.push(n[i]);this._filterBlock={target:this,filterPasses:e}}this._filters=t}}),Object.defineProperty(r.DisplayObject.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap!==t&&(t?this._generateCachedSprite():this._destroyCachedSprite(),this._cacheAsBitmap=t)}}),r.DisplayObject.prototype.updateTransform=function(){this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation));var t=this.parent.worldTransform,e=this.worldTransform,r=this.pivot.x,n=this.pivot.y,i=this._cr*this.scale.x,o=-this._sr*this.scale.y,s=this._sr*this.scale.x,a=this._cr*this.scale.y,u=this.position.x-i*r-n*o,l=this.position.y-a*n-r*s,h=t.a,c=t.b,f=t.c,p=t.d;e.a=h*i+c*s,e.b=h*o+c*a,e.tx=h*u+c*l+t.tx,e.c=f*i+p*s,e.d=f*o+p*a,e.ty=f*u+p*l+t.ty,this.worldAlpha=this.alpha*this.parent.worldAlpha},r.DisplayObject.prototype.getBounds=function(t){return t=t,r.EmptyRectangle},r.DisplayObject.prototype.getLocalBounds=function(){return this.getBounds(r.identityMatrix)},r.DisplayObject.prototype.setStageReference=function(t){this.stage=t,this._interactive&&(this.stage.dirty=!0)},r.DisplayObject.prototype.generateTexture=function(t){var e=this.getLocalBounds(),n=new r.RenderTexture(0|e.width,0|e.height,t);return n.render(this,new r.Point(-e.x,-e.y)),n},r.DisplayObject.prototype.updateCache=function(){this._generateCachedSprite()},r.DisplayObject.prototype._renderCachedSprite=function(t){this._cachedSprite.worldAlpha=this.worldAlpha,t.gl?r.Sprite.prototype._renderWebGL.call(this._cachedSprite,t):r.Sprite.prototype._renderCanvas.call(this._cachedSprite,t)},r.DisplayObject.prototype._generateCachedSprite=function(){this._cacheAsBitmap=!1;var t=this.getLocalBounds();if(this._cachedSprite)this._cachedSprite.texture.resize(0|t.width,0|t.height);else{var e=new r.RenderTexture(0|t.width,0|t.height);this._cachedSprite=new r.Sprite(e),this._cachedSprite.worldTransform=this.worldTransform}var n=this._filters;this._filters=null,this._cachedSprite.filters=n,this._cachedSprite.texture.render(this,new r.Point(-t.x,-t.y)),this._cachedSprite.anchor.x=-t.x/t.width,this._cachedSprite.anchor.y=-t.y/t.height,this._filters=n,this._cacheAsBitmap=!0},r.DisplayObject.prototype._destroyCachedSprite=function(){this._cachedSprite&&(this._cachedSprite.texture.destroy(!0),this._cachedSprite=null)},r.DisplayObject.prototype._renderWebGL=function(t){t=t},r.DisplayObject.prototype._renderCanvas=function(t){t=t},Object.defineProperty(r.DisplayObject.prototype,"x",{get:function(){return this.position.x},set:function(t){this.position.x=t}}),Object.defineProperty(r.DisplayObject.prototype,"y",{get:function(){return this.position.y},set:function(t){this.position.y=t}}),r.DisplayObjectContainer=function(){r.DisplayObject.call(this),this.children=[]},r.DisplayObjectContainer.prototype=Object.create(r.DisplayObject.prototype),r.DisplayObjectContainer.prototype.constructor=r.DisplayObjectContainer,Object.defineProperty(r.DisplayObjectContainer.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/(e/this.scale.x):1,this._width=t}}),Object.defineProperty(r.DisplayObjectContainer.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/(e/this.scale.y):1,this._height=t}}),r.DisplayObjectContainer.prototype.addChild=function(t){return this.addChildAt(t,this.children.length)},r.DisplayObjectContainer.prototype.addChildAt=function(t,e){if(e>=0&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),this.stage&&t.setStageReference(this.stage),t;throw new Error(t+" The index "+e+" supplied is out of bounds "+this.children.length)},r.DisplayObjectContainer.prototype.swapChildren=function(t,e){if(t!==e){var r=this.children.indexOf(t),n=this.children.indexOf(e);if(0>r||0>n)throw new Error("swapChildren: Both the supplied DisplayObjects must be a child of the caller.");this.children[r]=e,this.children[n]=t}},r.DisplayObjectContainer.prototype.getChildAt=function(t){if(t>=0&&t<this.children.length)return this.children[t];throw new Error("Supplied index does not exist in the child list, or the supplied DisplayObject must be a child of the caller")},r.DisplayObjectContainer.prototype.removeChild=function(t){return this.removeChildAt(this.children.indexOf(t))},r.DisplayObjectContainer.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return this.stage&&e.removeStageReference(),e.parent=void 0,this.children.splice(t,1),e},r.DisplayObjectContainer.prototype.removeChildren=function(t,e){var r=t||0,n="number"==typeof e?e:this.children.length,i=n-r;if(i>0&&n>=i){for(var o=this.children.splice(r,i),s=0;s<o.length;s++){var a=o[s];this.stage&&a.removeStageReference(),a.parent=void 0}return o}throw new Error("Range Error, numeric values are outside the acceptable range")},r.DisplayObjectContainer.prototype.updateTransform=function(){if(this.visible&&(r.DisplayObject.prototype.updateTransform.call(this),!this._cacheAsBitmap))for(var t=0,e=this.children.length;e>t;t++)this.children[t].updateTransform()},r.DisplayObjectContainer.prototype.getBounds=function(t){if(0===this.children.length)return r.EmptyRectangle;if(t){var e=this.worldTransform;this.worldTransform=t,this.updateTransform(),this.worldTransform=e}for(var n,i,o,s=1/0,a=1/0,u=-1/0,l=-1/0,h=!1,c=0,f=this.children.length;f>c;c++){this.children[c].visible&&(h=!0,s=s<(n=this.children[c].getBounds(t)).x?s:n.x,a=a<n.y?a:n.y,i=n.width+n.x,o=n.height+n.y,u=u>i?u:i,l=l>o?l:o)}if(!h)return r.EmptyRectangle;var p=this._bounds;return p.x=s,p.y=a,p.width=u-s,p.height=l-a,p},r.DisplayObjectContainer.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=r.identityMatrix;for(var e=0,n=this.children.length;n>e;e++)this.children[e].updateTransform();var i=this.getBounds();return this.worldTransform=t,i},r.DisplayObjectContainer.prototype.setStageReference=function(t){this.stage=t,this._interactive&&(this.stage.dirty=!0);for(var e=0,r=this.children.length;r>e;e++){this.children[e].setStageReference(t)}},r.DisplayObjectContainer.prototype.removeStageReference=function(){for(var t=0,e=this.children.length;e>t;t++){this.children[t].removeStageReference()}this._interactive&&(this.stage.dirty=!0),this.stage=null},r.DisplayObjectContainer.prototype._renderWebGL=function(t){if(this.visible&&!(this.alpha<=0)){if(this._cacheAsBitmap)return void this._renderCachedSprite(t);var e,r;if(this._mask||this._filters){for(this._filters&&(t.spriteBatch.flush(),t.filterManager.pushFilter(this._filterBlock)),this._mask&&(t.spriteBatch.stop(),t.maskManager.pushMask(this.mask,t),t.spriteBatch.start()),e=0,r=this.children.length;r>e;e++)this.children[e]._renderWebGL(t);t.spriteBatch.stop(),this._mask&&t.maskManager.popMask(this._mask,t),this._filters&&t.filterManager.popFilter(),t.spriteBatch.start()}else for(e=0,r=this.children.length;r>e;e++)this.children[e]._renderWebGL(t)}},r.DisplayObjectContainer.prototype._renderCanvas=function(t){if(!1!==this.visible&&0!==this.alpha){if(this._cacheAsBitmap)return void this._renderCachedSprite(t);this._mask&&t.maskManager.pushMask(this._mask,t.context);for(var e=0,r=this.children.length;r>e;e++){this.children[e]._renderCanvas(t)}this._mask&&t.maskManager.popMask(t.context)}},r.Sprite=function(t){r.DisplayObjectContainer.call(this),this.anchor=new r.Point,this.texture=t,this._width=0,this._height=0,this.tint=16777215,this.blendMode=r.blendModes.NORMAL,t.baseTexture.hasLoaded?this.onTextureUpdate():(this.onTextureUpdateBind=this.onTextureUpdate.bind(this),this.texture.addEventListener("update",this.onTextureUpdateBind)),this.renderable=!0},r.Sprite.prototype=Object.create(r.DisplayObjectContainer.prototype),r.Sprite.prototype.constructor=r.Sprite,Object.defineProperty(r.Sprite.prototype,"width",{get:function(){return this.scale.x*this.texture.frame.width},set:function(t){this.scale.x=t/this.texture.frame.width,this._width=t}}),Object.defineProperty(r.Sprite.prototype,"height",{get:function(){return this.scale.y*this.texture.frame.height},set:function(t){this.scale.y=t/this.texture.frame.height,this._height=t}}),r.Sprite.prototype.setTexture=function(t){this.texture=t,this.cachedTint=16777215},r.Sprite.prototype.onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height)},r.Sprite.prototype.getBounds=function(t){var e=this.texture.frame.width,r=this.texture.frame.height,n=e*(1-this.anchor.x),i=e*-this.anchor.x,o=r*(1-this.anchor.y),s=r*-this.anchor.y,a=t||this.worldTransform,u=a.a,l=a.c,h=a.b,c=a.d,f=a.tx,p=a.ty,d=u*i+h*s+f,g=c*s+l*i+p,v=u*n+h*s+f,m=c*s+l*n+p,y=u*n+h*o+f,x=c*o+l*n+p,b=u*i+h*o+f,_=c*o+l*i+p,w=-1/0,T=-1/0,E=1/0,S=1/0;E=(E=(E=(E=E>d?d:E)>v?v:E)>y?y:E)>b?b:E,S=(S=(S=(S=S>g?g:S)>m?m:S)>x?x:S)>_?_:S,w=b>(w=y>(w=v>(w=d>w?d:w)?v:w)?y:w)?b:w,T=_>(T=x>(T=m>(T=g>T?g:T)?m:T)?x:T)?_:T;var A=this._bounds;return A.x=E,A.width=w-E,A.y=S,A.height=T-S,this._currentBounds=A,A},r.Sprite.prototype._renderWebGL=function(t){var e,r;if(this.visible&&!(this.alpha<=0))if(this._mask||this._filters){var n=t.spriteBatch;for(this._filters&&(n.flush(),t.filterManager.pushFilter(this._filterBlock)),this._mask&&(n.stop(),t.maskManager.pushMask(this.mask,t),n.start()),n.render(this),e=0,r=this.children.length;r>e;e++)this.children[e]._renderWebGL(t);n.stop(),this._mask&&t.maskManager.popMask(this._mask,t),this._filters&&t.filterManager.popFilter(),n.start()}else for(t.spriteBatch.render(this),e=0,r=this.children.length;r>e;e++)this.children[e]._renderWebGL(t)},r.Sprite.prototype._renderCanvas=function(t){if(!1!==this.visible&&0!==this.alpha){if(this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,t.context.globalCompositeOperation=r.blendModesCanvas[t.currentBlendMode]),this._mask&&t.maskManager.pushMask(this._mask,t.context),this.texture.valid){t.context.globalAlpha=this.worldAlpha,t.roundPixels?t.context.setTransform(this.worldTransform.a,this.worldTransform.c,this.worldTransform.b,this.worldTransform.d,0|this.worldTransform.tx,0|this.worldTransform.ty):t.context.setTransform(this.worldTransform.a,this.worldTransform.c,this.worldTransform.b,this.worldTransform.d,this.worldTransform.tx,this.worldTransform.ty),t.smoothProperty&&t.scaleMode!==this.texture.baseTexture.scaleMode&&(t.scaleMode=this.texture.baseTexture.scaleMode,t.context[t.smoothProperty]=t.scaleMode===r.scaleModes.LINEAR);var e=this.texture.trim?this.texture.trim.x-this.anchor.x*this.texture.trim.width:this.anchor.x*-this.texture.frame.width,n=this.texture.trim?this.texture.trim.y-this.anchor.y*this.texture.trim.height:this.anchor.y*-this.texture.frame.height;16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=r.CanvasTinter.getTintedTexture(this,this.tint)),t.context.drawImage(this.tintedTexture,0,0,this.texture.crop.width,this.texture.crop.height,e,n,this.texture.crop.width,this.texture.crop.height)):t.context.drawImage(this.texture.baseTexture.source,this.texture.crop.x,this.texture.crop.y,this.texture.crop.width,this.texture.crop.height,e,n,this.texture.crop.width,this.texture.crop.height)}for(var i=0,o=this.children.length;o>i;i++)this.children[i]._renderCanvas(t);this._mask&&t.maskManager.popMask(t.context)}},r.Sprite.fromFrame=function(t){var e=r.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache'+this);return new r.Sprite(e)},r.Sprite.fromImage=function(t,e,n){var i=r.Texture.fromImage(t,e,n);return new r.Sprite(i)},r.SpriteBatch=function(t){r.DisplayObjectContainer.call(this),this.textureThing=t,this.ready=!1},r.SpriteBatch.prototype=Object.create(r.DisplayObjectContainer.prototype),r.SpriteBatch.constructor=r.SpriteBatch,r.SpriteBatch.prototype.initWebGL=function(t){this.fastSpriteBatch=new r.WebGLFastSpriteBatch(t),this.ready=!0},r.SpriteBatch.prototype.updateTransform=function(){r.DisplayObject.prototype.updateTransform.call(this)},r.SpriteBatch.prototype._renderWebGL=function(t){!this.visible||this.alpha<=0||!this.children.length||(this.ready||this.initWebGL(t.gl),t.spriteBatch.stop(),t.shaderManager.setShader(t.shaderManager.fastShader),this.fastSpriteBatch.begin(this,t),this.fastSpriteBatch.render(this),t.spriteBatch.start())},r.SpriteBatch.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this.worldAlpha,r.DisplayObject.prototype.updateTransform.call(this);for(var n=this.worldTransform,i=!0,o=0;o<this.children.length;o++){var s=this.children[o];if(s.visible){var a=s.texture,u=a.frame;if(e.globalAlpha=this.worldAlpha*s.alpha,s.rotation%(2*Math.PI)==0)i&&(e.setTransform(n.a,n.c,n.b,n.d,n.tx,n.ty),i=!1),e.drawImage(a.baseTexture.source,u.x,u.y,u.width,u.height,s.anchor.x*-u.width*s.scale.x+s.position.x+.5|0,s.anchor.y*-u.height*s.scale.y+s.position.y+.5|0,u.width*s.scale.x,u.height*s.scale.y);else{i||(i=!0),r.DisplayObject.prototype.updateTransform.call(s);var l=s.worldTransform;t.roundPixels?e.setTransform(l.a,l.c,l.b,l.d,0|l.tx,0|l.ty):e.setTransform(l.a,l.c,l.b,l.d,l.tx,l.ty),e.drawImage(a.baseTexture.source,u.x,u.y,u.width,u.height,s.anchor.x*-u.width+.5|0,s.anchor.y*-u.height+.5|0,u.width,u.height)}}}},r.MovieClip=function(t){r.Sprite.call(this,t[0]),this.textures=t,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this.currentFrame=0,this.playing=!1},r.MovieClip.prototype=Object.create(r.Sprite.prototype),r.MovieClip.prototype.constructor=r.MovieClip,Object.defineProperty(r.MovieClip.prototype,"totalFrames",{get:function(){return this.textures.length}}),r.MovieClip.prototype.stop=function(){this.playing=!1},r.MovieClip.prototype.play=function(){this.playing=!0},r.MovieClip.prototype.gotoAndStop=function(t){this.playing=!1,this.currentFrame=t;var e=this.currentFrame+.5|0;this.setTexture(this.textures[e%this.textures.length])},r.MovieClip.prototype.gotoAndPlay=function(t){this.currentFrame=t,this.playing=!0},r.MovieClip.prototype.updateTransform=function(){if(r.Sprite.prototype.updateTransform.call(this),this.playing){this.currentFrame+=this.animationSpeed;var t=this.currentFrame+.5|0;this.currentFrame=this.currentFrame%this.textures.length,this.loop||t<this.textures.length?this.setTexture(this.textures[t%this.textures.length]):t>=this.textures.length&&(this.gotoAndStop(this.textures.length-1),this.onComplete&&this.onComplete())}},r.MovieClip.fromFrames=function(t){for(var e=[],n=0;n<t.length;n++)e.push(new r.Texture.fromFrame(t[n]));return new r.MovieClip(e)},r.MovieClip.fromImages=function(t){for(var e=[],n=0;n<t.length;n++)e.push(new r.Texture.fromImage(t[n]));return new r.MovieClip(e)},r.FilterBlock=function(){this.visible=!0,this.renderable=!0},r.Text=function(t,e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),r.Sprite.call(this,r.Texture.fromCanvas(this.canvas)),this.setText(t),this.setStyle(e)},r.Text.prototype=Object.create(r.Sprite.prototype),r.Text.prototype.constructor=r.Text,Object.defineProperty(r.Text.prototype,"width",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.x*this.texture.frame.width},set:function(t){this.scale.x=t/this.texture.frame.width,this._width=t}}),Object.defineProperty(r.Text.prototype,"height",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.y*this.texture.frame.height},set:function(t){this.scale.y=t/this.texture.frame.height,this._height=t}}),r.Text.prototype.setStyle=function(t){(t=t||{}).font=t.font||"bold 20pt Arial",t.fill=t.fill||"black",t.align=t.align||"left",t.stroke=t.stroke||"black",t.strokeThickness=t.strokeThickness||0,t.wordWrap=t.wordWrap||!1,t.wordWrapWidth=t.wordWrapWidth||100,t.wordWrapWidth=t.wordWrapWidth||100,t.dropShadow=t.dropShadow||!1,t.dropShadowAngle=t.dropShadowAngle||Math.PI/6,t.dropShadowDistance=t.dropShadowDistance||4,t.dropShadowColor=t.dropShadowColor||"black",this.style=t,this.dirty=!0},r.Text.prototype.setText=function(t){this.text=t.toString()||" ",this.dirty=!0},r.Text.prototype.updateText=function(){this.context.font=this.style.font;var t=this.text;this.style.wordWrap&&(t=this.wordWrap(this.text));for(var e=t.split(/(?:\r\n|\r|\n)/),r=[],n=0,i=0;i<e.length;i++){var o=this.context.measureText(e[i]).width;r[i]=o,n=Math.max(n,o)}var s=n+this.style.strokeThickness;this.style.dropShadow&&(s+=this.style.dropShadowDistance),this.canvas.width=s+this.context.lineWidth;var a,u,l=this.determineFontHeight("font: "+this.style.font+";")+this.style.strokeThickness,h=l*e.length;if(this.style.dropShadow&&(h+=this.style.dropShadowDistance),this.canvas.height=h,navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=this.style.font,this.context.strokeStyle=this.style.stroke,this.context.lineWidth=this.style.strokeThickness,this.context.textBaseline="top",this.style.dropShadow){this.context.fillStyle=this.style.dropShadowColor;var c=Math.sin(this.style.dropShadowAngle)*this.style.dropShadowDistance,f=Math.cos(this.style.dropShadowAngle)*this.style.dropShadowDistance;for(i=0;i<e.length;i++)a=this.style.strokeThickness/2,u=this.style.strokeThickness/2+i*l,"right"===this.style.align?a+=n-r[i]:"center"===this.style.align&&(a+=(n-r[i])/2),this.style.fill&&this.context.fillText(e[i],a+c,u+f)}for(this.context.fillStyle=this.style.fill,i=0;i<e.length;i++)a=this.style.strokeThickness/2,u=this.style.strokeThickness/2+i*l,"right"===this.style.align?a+=n-r[i]:"center"===this.style.align&&(a+=(n-r[i])/2),this.style.stroke&&this.style.strokeThickness&&this.context.strokeText(e[i],a,u),this.style.fill&&this.context.fillText(e[i],a,u);this.updateTexture()},r.Text.prototype.updateTexture=function(){this.texture.baseTexture.width=this.canvas.width,this.texture.baseTexture.height=this.canvas.height,this.texture.crop.width=this.texture.frame.width=this.canvas.width,this.texture.crop.height=this.texture.frame.height=this.canvas.height,this._width=this.canvas.width,this._height=this.canvas.height,this.requiresUpdate=!0},r.Text.prototype._renderWebGL=function(t){this.requiresUpdate&&(this.requiresUpdate=!1,r.updateWebGLTexture(this.texture.baseTexture,t.gl)),r.Sprite.prototype._renderWebGL.call(this,t)},r.Text.prototype.updateTransform=function(){this.dirty&&(this.updateText(),this.dirty=!1),r.Sprite.prototype.updateTransform.call(this)},r.Text.prototype.determineFontHeight=function(t){var e=r.Text.heightCache[t];if(!e){var n=document.getElementsByTagName("body")[0],i=document.createElement("div"),o=document.createTextNode("M");i.appendChild(o),i.setAttribute("style",t+";position:absolute;top:0;left:0"),n.appendChild(i),e=i.offsetHeight,r.Text.heightCache[t]=e,n.removeChild(i)}return e},r.Text.prototype.wordWrap=function(t){for(var e="",r=t.split("\n"),n=0;n<r.length;n++){for(var i=this.style.wordWrapWidth,o=r[n].split(" "),s=0;s<o.length;s++){var a=this.context.measureText(o[s]).width,u=a+this.context.measureText(" ").width;0===s||u>i?(s>0&&(e+="\n"),e+=o[s],i=this.style.wordWrapWidth-a):(i-=u,e+=" "+o[s])}n<r.length-1&&(e+="\n")}return e},r.Text.prototype.destroy=function(t){this.context=null,this.canvas=null,this.texture.destroy(void 0===t||t)},r.Text.heightCache={},r.BitmapText=function(t,e){r.DisplayObjectContainer.call(this),this._pool=[],this.setText(t),this.setStyle(e),this.updateText(),this.dirty=!1},r.BitmapText.prototype=Object.create(r.DisplayObjectContainer.prototype),r.BitmapText.prototype.constructor=r.BitmapText,r.BitmapText.prototype.setText=function(t){this.text=t||" ",this.dirty=!0},r.BitmapText.prototype.setStyle=function(t){(t=t||{}).align=t.align||"left",this.style=t;var e=t.font.split(" ");this.fontName=e[e.length-1],this.fontSize=e.length>=2?parseInt(e[e.length-2],10):r.BitmapText.fonts[this.fontName].size,this.dirty=!0,this.tint=t.tint},r.BitmapText.prototype.updateText=function(){for(var t=r.BitmapText.fonts[this.fontName],e=new r.Point,n=null,i=[],o=0,s=[],a=0,u=this.fontSize/t.size,l=0;l<this.text.length;l++){var h=this.text.charCodeAt(l);if(/(?:\r\n|\r|\n)/.test(this.text.charAt(l)))s.push(e.x),o=Math.max(o,e.x),a++,e.x=0,e.y+=t.lineHeight,n=null;else{var c=t.chars[h];c&&(n&&c[n]&&(e.x+=c.kerning[n]),i.push({texture:c.texture,line:a,charCode:h,position:new r.Point(e.x+c.xOffset,e.y+c.yOffset)}),e.x+=c.xAdvance,n=h)}}s.push(e.x),o=Math.max(o,e.x);var f=[];for(l=0;a>=l;l++){var p=0;"right"===this.style.align?p=o-s[l]:"center"===this.style.align&&(p=(o-s[l])/2),f.push(p)}var d=this.children.length,g=i.length,v=this.tint||16777215;for(l=0;g>l;l++){var m=d>l?this.children[l]:this._pool.pop();m?m.setTexture(i[l].texture):m=new r.Sprite(i[l].texture),m.position.x=(i[l].position.x+f[i[l].line])*u,m.position.y=i[l].position.y*u,m.scale.x=m.scale.y=u,m.tint=v,m.parent||this.addChild(m)}for(;this.children.length>g;){var y=this.getChildAt(this.children.length-1);this._pool.push(y),this.removeChild(y)}this.textWidth=o*u,this.textHeight=(e.y+t.lineHeight)*u},r.BitmapText.prototype.updateTransform=function(){this.dirty&&(this.updateText(),this.dirty=!1),r.DisplayObjectContainer.prototype.updateTransform.call(this)},r.BitmapText.fonts={},r.InteractionData=function(){this.global=new r.Point,this.target=null,this.originalEvent=null},r.InteractionData.prototype.getLocalPosition=function(t){var e=t.worldTransform,n=this.global,i=e.a,o=e.b,s=e.tx,a=e.c,u=e.d,l=e.ty,h=1/(i*u+o*-a);return new r.Point(u*h*n.x+-o*h*n.y+(l*o-s*u)*h,i*h*n.y+-a*h*n.x+(-l*i+s*a)*h)},r.InteractionData.prototype.constructor=r.InteractionData,r.InteractionManager=function(t){this.stage=t,this.mouse=new r.InteractionData,this.touchs={},this.tempPoint=new r.Point,this.mouseoverEnabled=!0,this.pool=[],this.interactiveItems=[],this.interactionDOMElement=null,this.onMouseMove=this.onMouseMove.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this.mouseOut=!1},r.InteractionManager.prototype.constructor=r.InteractionManager,r.InteractionManager.prototype.collectInteractiveSprite=function(t,e){for(var r=t.children,n=r.length-1;n>=0;n--){var i=r[n];i._interactive?(e.interactiveChildren=!0,this.interactiveItems.push(i),i.children.length>0&&this.collectInteractiveSprite(i,i)):(i.__iParent=null,i.children.length>0&&this.collectInteractiveSprite(i,e))}},r.InteractionManager.prototype.setTarget=function(t){this.target=t,null===this.interactionDOMElement&&this.setTargetDomElement(t.view)},r.InteractionManager.prototype.setTargetDomElement=function(t){this.removeEvents(),window.navigator.msPointerEnabled&&(t.style["-ms-content-zooming"]="none",t.style["-ms-touch-action"]="none"),this.interactionDOMElement=t,t.addEventListener("mousemove",this.onMouseMove,!0),t.addEventListener("mousedown",this.onMouseDown,!0),t.addEventListener("mouseout",this.onMouseOut,!0),t.addEventListener("touchstart",this.onTouchStart,!0),t.addEventListener("touchend",this.onTouchEnd,!0),t.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0)},r.InteractionManager.prototype.removeEvents=function(){this.interactionDOMElement&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]="",this.interactionDOMElement.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0))},r.InteractionManager.prototype.update=function(){if(this.target){var t=Date.now(),e=t-this.last;if(!(1>(e=e*r.INTERACTION_FREQUENCY/1e3))){this.last=t;var n=0;this.dirty&&this.rebuildInteractiveGraph();var i=this.interactiveItems.length,o="inherit",s=!1;for(n=0;i>n;n++){var a=this.interactiveItems[n];a.__hit=this.hitTest(a,this.mouse),this.mouse.target=a,a.__hit&&!s?(a.buttonMode&&(o=a.defaultCursor),a.interactiveChildren||(s=!0),a.__isOver||(a.mouseover&&a.mouseover(this.mouse),a.__isOver=!0)):a.__isOver&&(a.mouseout&&a.mouseout(this.mouse),a.__isOver=!1)}this.currentCursorStyle!==o&&(this.currentCursorStyle=o,this.interactionDOMElement.style.cursor=o)}}},r.InteractionManager.prototype.rebuildInteractiveGraph=function(){this.dirty=!1;for(var t=this.interactiveItems.length,e=0;t>e;e++)this.interactiveItems[e].interactiveChildren=!1;this.interactiveItems=[],this.stage.interactive&&this.interactiveItems.push(this.stage),this.collectInteractiveSprite(this.stage,this.stage)},r.InteractionManager.prototype.onMouseMove=function(t){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=t||window.event;var e=this.interactionDOMElement.getBoundingClientRect();this.mouse.global.x=(t.clientX-e.left)*(this.target.width/e.width),this.mouse.global.y=(t.clientY-e.top)*(this.target.height/e.height);for(var r=this.interactiveItems.length,n=0;r>n;n++){var i=this.interactiveItems[n];i.mousemove&&i.mousemove(this.mouse)}},r.InteractionManager.prototype.onMouseDown=function(t){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=t||window.event,r.AUTO_PREVENT_DEFAULT&&this.mouse.originalEvent.preventDefault();for(var e=this.interactiveItems.length,n=0;e>n;n++){var i=this.interactiveItems[n];if((i.mousedown||i.click)&&(i.__mouseIsDown=!0,i.__hit=this.hitTest(i,this.mouse),i.__hit&&(i.mousedown&&i.mousedown(this.mouse),i.__isDown=!0,!i.interactiveChildren)))break}},r.InteractionManager.prototype.onMouseOut=function(){this.dirty&&this.rebuildInteractiveGraph();var t=this.interactiveItems.length;this.interactionDOMElement.style.cursor="inherit";for(var e=0;t>e;e++){var r=this.interactiveItems[e];r.__isOver&&(this.mouse.target=r,r.mouseout&&r.mouseout(this.mouse),r.__isOver=!1)}this.mouseOut=!0,this.mouse.global.x=-1e4,this.mouse.global.y=-1e4},r.InteractionManager.prototype.onMouseUp=function(t){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=t||window.event;for(var e=this.interactiveItems.length,r=!1,n=0;e>n;n++){var i=this.interactiveItems[n];i.__hit=this.hitTest(i,this.mouse),i.__hit&&!r?(i.mouseup&&i.mouseup(this.mouse),i.__isDown&&i.click&&i.click(this.mouse),i.interactiveChildren||(r=!0)):i.__isDown&&i.mouseupoutside&&i.mouseupoutside(this.mouse),i.__isDown=!1}},r.InteractionManager.prototype.hitTest=function(t,e){var n=e.global;if(!t.worldVisible)return!1;var i=t instanceof r.Sprite,o=t.worldTransform,s=o.a,a=o.b,u=o.tx,l=o.c,h=o.d,c=o.ty,f=1/(s*h+a*-l),p=h*f*n.x+-a*f*n.y+(c*a-u*h)*f,d=s*f*n.y+-l*f*n.x+(-c*s+u*l)*f;if(e.target=t,t.hitArea&&t.hitArea.contains)return!!t.hitArea.contains(p,d)&&(e.target=t,!0);if(i){var g,v=t.texture.frame.width,m=t.texture.frame.height,y=-v*t.anchor.x;if(p>y&&y+v>p&&(d>(g=-m*t.anchor.y)&&g+m>d))return e.target=t,!0}for(var x=t.children.length,b=0;x>b;b++){var _=t.children[b];if(this.hitTest(_,e))return e.target=t,!0}return!1},r.InteractionManager.prototype.onTouchMove=function(t){this.dirty&&this.rebuildInteractiveGraph();var e,r=this.interactionDOMElement.getBoundingClientRect(),n=t.changedTouches,i=0;for(i=0;i<n.length;i++){var o=n[i];(e=this.touchs[o.identifier]).originalEvent=t||window.event,e.global.x=(o.clientX-r.left)*(this.target.width/r.width),e.global.y=(o.clientY-r.top)*(this.target.height/r.height),navigator.isCocoonJS&&(e.global.x=o.clientX,e.global.y=o.clientY);for(var s=0;s<this.interactiveItems.length;s++){var a=this.interactiveItems[s];a.touchmove&&a.__touchData&&a.__touchData[o.identifier]&&a.touchmove(e)}}},r.InteractionManager.prototype.onTouchStart=function(t){this.dirty&&this.rebuildInteractiveGraph();var e=this.interactionDOMElement.getBoundingClientRect();r.AUTO_PREVENT_DEFAULT&&t.preventDefault();for(var n=t.changedTouches,i=0;i<n.length;i++){var o=n[i],s=this.pool.pop();s||(s=new r.InteractionData),s.originalEvent=t||window.event,this.touchs[o.identifier]=s,s.global.x=(o.clientX-e.left)*(this.target.width/e.width),s.global.y=(o.clientY-e.top)*(this.target.height/e.height),navigator.isCocoonJS&&(s.global.x=o.clientX,s.global.y=o.clientY);for(var a=this.interactiveItems.length,u=0;a>u;u++){var l=this.interactiveItems[u];if((l.touchstart||l.tap)&&(l.__hit=this.hitTest(l,s),l.__hit&&(l.touchstart&&l.touchstart(s),l.__isDown=!0,l.__touchData=l.__touchData||{},l.__touchData[o.identifier]=s,!l.interactiveChildren)))break}}},r.InteractionManager.prototype.onTouchEnd=function(t){this.dirty&&this.rebuildInteractiveGraph();for(var e=this.interactionDOMElement.getBoundingClientRect(),r=t.changedTouches,n=0;n<r.length;n++){var i=r[n],o=this.touchs[i.identifier],s=!1;o.global.x=(i.clientX-e.left)*(this.target.width/e.width),o.global.y=(i.clientY-e.top)*(this.target.height/e.height),navigator.isCocoonJS&&(o.global.x=i.clientX,o.global.y=i.clientY);for(var a=this.interactiveItems.length,u=0;a>u;u++){var l=this.interactiveItems[u];l.__touchData&&l.__touchData[i.identifier]&&(l.__hit=this.hitTest(l,l.__touchData[i.identifier]),o.originalEvent=t||window.event,(l.touchend||l.tap)&&(l.__hit&&!s?(l.touchend&&l.touchend(o),l.__isDown&&l.tap&&l.tap(o),l.interactiveChildren||(s=!0)):l.__isDown&&l.touchendoutside&&l.touchendoutside(o),l.__isDown=!1),l.__touchData[i.identifier]=null)}this.pool.push(o),this.touchs[i.identifier]=null}},r.Stage=function(t){r.DisplayObjectContainer.call(this),this.worldTransform=new r.Matrix,this.interactive=!0,this.interactionManager=new r.InteractionManager(this),this.dirty=!0,this.stage=this,this.stage.hitArea=new r.Rectangle(0,0,1e5,1e5),this.setBackgroundColor(t)},r.Stage.prototype=Object.create(r.DisplayObjectContainer.prototype),r.Stage.prototype.constructor=r.Stage,r.Stage.prototype.setInteractionDelegate=function(t){this.interactionManager.setTargetDomElement(t)},r.Stage.prototype.updateTransform=function(){this.worldAlpha=1;for(var t=0,e=this.children.length;e>t;t++)this.children[t].updateTransform();this.dirty&&(this.dirty=!1,this.interactionManager.dirty=!0),this.interactive&&this.interactionManager.update()},r.Stage.prototype.setBackgroundColor=function(t){this.backgroundColor=t||0,this.backgroundColorSplit=r.hex2rgb(this.backgroundColor);var e=this.backgroundColor.toString(16);e="000000".substr(0,6-e.length)+e,this.backgroundColorString="#"+e},r.Stage.prototype.getMousePosition=function(){return this.interactionManager.mouse.global};for(var n=0,i=["ms","moz","webkit","o"],o=0;o<i.length&&!window.requestAnimationFrame;++o)window.requestAnimationFrame=window[i[o]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[o]+"CancelAnimationFrame"]||window[i[o]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var e=(new Date).getTime(),r=Math.max(0,16-(e-n)),i=window.setTimeout(function(){t(e+r)},r);return n=e+r,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),window.requestAnimFrame=window.requestAnimationFrame,r.hex2rgb=function(t){return[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]},r.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(){var t=Array.prototype.slice;return function(e){function r(){var o=i.concat(t.call(arguments));n.apply(this instanceof r?this:e,o)}var n=this,i=t.call(arguments,1);if("function"!=typeof n)throw new TypeError;return r.prototype=function t(e){return e&&(t.prototype=e),this instanceof t?void 0:new t}(n.prototype),r}}()),r.AjaxRequest=function(){var t=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"];if(!window.ActiveXObject)return!!window.XMLHttpRequest&&new window.XMLHttpRequest;for(var e=0;e<t.length;e++)try{return new window.ActiveXObject(t[e])}catch(t){}},r.canUseNewCanvasBlendModes=function(){var t=document.createElement("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="#000",e.fillRect(0,0,1,1),e.globalCompositeOperation="multiply",e.fillStyle="#fff",e.fillRect(0,0,1,1),0===e.getImageData(0,0,1,1).data[0]},r.getNextPowerOfTwo=function(t){if(t>0&&0==(t&t-1))return t;for(var e=1;t>e;)e<<=1;return e},r.EventTarget=function(){var t={};this.addEventListener=this.on=function(e,r){void 0===t[e]&&(t[e]=[]),-1===t[e].indexOf(r)&&t[e].unshift(r)},this.dispatchEvent=this.emit=function(e){if(t[e.type]&&t[e.type].length)for(var r=t[e.type].length-1;r>=0;r--)t[e.type][r](e)},this.removeEventListener=this.off=function(e,r){if(void 0!==t[e]){var n=t[e].indexOf(r);-1!==n&&t[e].splice(n,1)}},this.removeAllEventListeners=function(e){var r=t[e];r&&(r.length=0)}},r.autoDetectRenderer=function(t,e,n,i,o,s){return t||(t=800),e||(e=600),function(){try{var t=document.createElement("canvas");return!!window.WebGLRenderingContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(t){return!1}}()?new r.WebGLRenderer(t,e,n,i,o,s):new r.CanvasRenderer(t,e,n,i)},r.autoDetectRecommendedRenderer=function(t,e,n,i,o,s){t||(t=800),e||(e=600);var a=function(){try{var t=document.createElement("canvas");return!!window.WebGLRenderingContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(t){return!1}}(),u=/Android/i.test(navigator.userAgent);return a&&!u?new r.WebGLRenderer(t,e,n,i,o,s):new r.CanvasRenderer(t,e,n,i)},r.PolyK={},r.PolyK.Triangulate=function(t){var e=!0,n=t.length>>1;if(3>n)return[];for(var i=[],o=[],s=0;n>s;s++)o.push(s);s=0;for(var a=n;a>3;){var u=o[(s+0)%a],l=o[(s+1)%a],h=o[(s+2)%a],c=t[2*u],f=t[2*u+1],p=t[2*l],d=t[2*l+1],g=t[2*h],v=t[2*h+1],m=!1;if(r.PolyK._convex(c,f,p,d,g,v,e)){m=!0;for(var y=0;a>y;y++){var x=o[y];if(x!==u&&x!==l&&x!==h&&r.PolyK._PointInTriangle(t[2*x],t[2*x+1],c,f,p,d,g,v)){m=!1;break}}}if(m)i.push(u,l,h),o.splice((s+1)%a,1),a--,s=0;else if(s++>3*a){if(!e)return window.console.log("PIXI Warning: shape too complex to fill"),[];for(i=[],o=[],s=0;n>s;s++)o.push(s);s=0,a=n,e=!1}}return i.push(o[0],o[1],o[2]),i},r.PolyK._PointInTriangle=function(t,e,r,n,i,o,s,a){var u=s-r,l=a-n,h=i-r,c=o-n,f=t-r,p=e-n,d=u*u+l*l,g=u*h+l*c,v=u*f+l*p,m=h*h+c*c,y=h*f+c*p,x=1/(d*m-g*g),b=(m*v-g*y)*x,_=(d*y-g*v)*x;return b>=0&&_>=0&&1>b+_},r.PolyK._convex=function(t,e,r,n,i,o,s){return(e-n)*(i-r)+(r-t)*(o-n)>=0===s},r.initDefaultShaders=function(){},r.CompileVertexShader=function(t,e){return r._CompileShader(t,e,t.VERTEX_SHADER)},r.CompileFragmentShader=function(t,e){return r._CompileShader(t,e,t.FRAGMENT_SHADER)},r._CompileShader=function(t,e,r){var n=e.join("\n"),i=t.createShader(r);return t.shaderSource(i,n),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:(window.console.log(t.getShaderInfoLog(i)),null)},r.compileProgram=function(t,e,n){var i=r.CompileFragmentShader(t,n),o=r.CompileVertexShader(t,e),s=t.createProgram();return t.attachShader(s,o),t.attachShader(s,i),t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||window.console.log("Could not initialise shaders"),s},r.PixiShader=function(t){this._UID=r._UID++,this.gl=t,this.program=null,this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"],this.textureCount=0,this.attributes=[],this.init()},r.PixiShader.prototype.init=function(){var t=this.gl,e=r.compileProgram(t,this.vertexSrc||r.PixiShader.defaultVertexSrc,this.fragmentSrc);for(var n in t.useProgram(e),this.uSampler=t.getUniformLocation(e,"uSampler"),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.dimensions=t.getUniformLocation(e,"dimensions"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.aTextureCoord=t.getAttribLocation(e,"aTextureCoord"),this.colorAttribute=t.getAttribLocation(e,"aColor"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aTextureCoord,this.colorAttribute],this.uniforms)this.uniforms[n].uniformLocation=t.getUniformLocation(e,n);this.initUniforms(),this.program=e},r.PixiShader.prototype.initUniforms=function(){this.textureCount=1;var t,e=this.gl;for(var r in this.uniforms){var n=(t=this.uniforms[r]).type;"sampler2D"===n?(t._init=!1,null!==t.value&&this.initSampler2D(t)):"mat2"===n||"mat3"===n||"mat4"===n?(t.glMatrix=!0,t.glValueLength=1,"mat2"===n?t.glFunc=e.uniformMatrix2fv:"mat3"===n?t.glFunc=e.uniformMatrix3fv:"mat4"===n&&(t.glFunc=e.uniformMatrix4fv)):(t.glFunc=e["uniform"+n],t.glValueLength="2f"===n||"2i"===n?2:"3f"===n||"3i"===n?3:"4f"===n||"4i"===n?4:1)}},r.PixiShader.prototype.initSampler2D=function(t){if(t.value&&t.value.baseTexture&&t.value.baseTexture.hasLoaded){var e=this.gl;if(e.activeTexture(e["TEXTURE"+this.textureCount]),e.bindTexture(e.TEXTURE_2D,t.value.baseTexture._glTextures[e.id]),t.textureData){var r=t.textureData,n=r.magFilter?r.magFilter:e.LINEAR,i=r.minFilter?r.minFilter:e.LINEAR,o=r.wrapS?r.wrapS:e.CLAMP_TO_EDGE,s=r.wrapT?r.wrapT:e.CLAMP_TO_EDGE,a=r.luminance?e.LUMINANCE:e.RGBA;if(r.repeat&&(o=e.REPEAT,s=e.REPEAT),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!!r.flipY),r.width){var u=r.width?r.width:512,l=r.height?r.height:2,h=r.border?r.border:0;e.texImage2D(e.TEXTURE_2D,0,a,u,l,h,a,e.UNSIGNED_BYTE,null)}else e.texImage2D(e.TEXTURE_2D,0,a,e.RGBA,e.UNSIGNED_BYTE,t.value.baseTexture.source);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,s)}e.uniform1i(t.uniformLocation,this.textureCount),t._init=!0,this.textureCount++}},r.PixiShader.prototype.syncUniforms=function(){this.textureCount=1;var t,e=this.gl;for(var n in this.uniforms)1===(t=this.uniforms[n]).glValueLength?!0===t.glMatrix?t.glFunc.call(e,t.uniformLocation,t.transpose,t.value):t.glFunc.call(e,t.uniformLocation,t.value):2===t.glValueLength?t.glFunc.call(e,t.uniformLocation,t.value.x,t.value.y):3===t.glValueLength?t.glFunc.call(e,t.uniformLocation,t.value.x,t.value.y,t.value.z):4===t.glValueLength?t.glFunc.call(e,t.uniformLocation,t.value.x,t.value.y,t.value.z,t.value.w):"sampler2D"===t.type&&(t._init?(e.activeTexture(e["TEXTURE"+this.textureCount]),e.bindTexture(e.TEXTURE_2D,t.value.baseTexture._glTextures[e.id]||r.createWebGLTexture(t.value.baseTexture,e)),e.uniform1i(t.uniformLocation,this.textureCount),this.textureCount++):this.initSampler2D(t))},r.PixiShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},r.PixiShader.defaultVertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec2 aColor;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","varying vec4 vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vec3 color = mod(vec3(aColor.y/65536.0, aColor.y/256.0, aColor.y), 256.0) / 256.0;","   vColor = vec4(color * aColor.x, aColor.x);","}"],r.PixiFastShader=function(t){this._UID=r._UID++,this.gl=t,this.program=null,this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","attribute vec2 aTextureCoord;","attribute float aColor;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform mat3 uMatrix;","varying vec2 vTextureCoord;","varying float vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   vec2 v;","   vec2 sv = aVertexPosition * aScale;","   v.x = (sv.x) * cos(aRotation) - (sv.y) * sin(aRotation);","   v.y = (sv.x) * sin(aRotation) + (sv.y) * cos(aRotation);","   v = ( uMatrix * vec3(v + aPositionCoord , 1.0) ).xy ;","   gl_Position = vec4( ( v / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"],this.textureCount=0,this.init()},r.PixiFastShader.prototype.init=function(){var t=this.gl,e=r.compileProgram(t,this.vertexSrc,this.fragmentSrc);t.useProgram(e),this.uSampler=t.getUniformLocation(e,"uSampler"),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.dimensions=t.getUniformLocation(e,"dimensions"),this.uMatrix=t.getUniformLocation(e,"uMatrix"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.aPositionCoord=t.getAttribLocation(e,"aPositionCoord"),this.aScale=t.getAttribLocation(e,"aScale"),this.aRotation=t.getAttribLocation(e,"aRotation"),this.aTextureCoord=t.getAttribLocation(e,"aTextureCoord"),this.colorAttribute=t.getAttribLocation(e,"aColor"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aPositionCoord,this.aScale,this.aRotation,this.aTextureCoord,this.colorAttribute],this.program=e},r.PixiFastShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},r.StripShader=function(t){this._UID=r._UID++,this.gl=t,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y));","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"],this.init()},r.StripShader.prototype.init=function(){var t=this.gl,e=r.compileProgram(t,this.vertexSrc,this.fragmentSrc);t.useProgram(e),this.uSampler=t.getUniformLocation(e,"uSampler"),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.colorAttribute=t.getAttribLocation(e,"aColor"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.aTextureCoord=t.getAttribLocation(e,"aTextureCoord"),this.attributes=[this.aVertexPosition,this.aTextureCoord],this.translationMatrix=t.getUniformLocation(e,"translationMatrix"),this.alpha=t.getUniformLocation(e,"alpha"),this.program=e},r.StripShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},r.PrimitiveShader=function(t){this._UID=r._UID++,this.gl=t,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"],this.init()},r.PrimitiveShader.prototype.init=function(){var t=this.gl,e=r.compileProgram(t,this.vertexSrc,this.fragmentSrc);t.useProgram(e),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.tintColor=t.getUniformLocation(e,"tint"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.colorAttribute=t.getAttribLocation(e,"aColor"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=t.getUniformLocation(e,"translationMatrix"),this.alpha=t.getUniformLocation(e,"alpha"),this.program=e},r.PrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},r.ComplexPrimitiveShader=function(t){this._UID=r._UID++,this.gl=t,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"],this.init()},r.ComplexPrimitiveShader.prototype.init=function(){var t=this.gl,e=r.compileProgram(t,this.vertexSrc,this.fragmentSrc);t.useProgram(e),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.tintColor=t.getUniformLocation(e,"tint"),this.color=t.getUniformLocation(e,"color"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=t.getUniformLocation(e,"translationMatrix"),this.alpha=t.getUniformLocation(e,"alpha"),this.program=e},r.ComplexPrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},r.WebGLGraphics=function(){},r.WebGLGraphics.renderGraphics=function(t,e){var n,i=e.gl,o=e.projection,s=e.offset,a=e.shaderManager.primitiveShader;t.dirty&&r.WebGLGraphics.updateGraphics(t,i);for(var u=t._webGL[i.id],l=0;l<u.data.length;l++)1===u.data[l].mode?(n=u.data[l],e.stencilManager.pushStencil(t,n,e),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(n.indices.length-4)),e.stencilManager.popStencil(t,n,e),this.last=n.mode):(n=u.data[l],e.shaderManager.setShader(a),a=e.shaderManager.primitiveShader,i.uniformMatrix3fv(a.translationMatrix,!1,t.worldTransform.toArray(!0)),i.uniform2f(a.projectionVector,o.x,-o.y),i.uniform2f(a.offsetVector,-s.x,-s.y),i.uniform3fv(a.tintColor,r.hex2rgb(t.tint)),i.uniform1f(a.alpha,t.worldAlpha),i.bindBuffer(i.ARRAY_BUFFER,n.buffer),i.vertexAttribPointer(a.aVertexPosition,2,i.FLOAT,!1,24,0),i.vertexAttribPointer(a.colorAttribute,4,i.FLOAT,!1,24,8),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,n.indexBuffer),i.drawElements(i.TRIANGLE_STRIP,n.indices.length,i.UNSIGNED_SHORT,0))},r.WebGLGraphics.updateGraphics=function(t,e){var n,i,o=t._webGL[e.id];if(o||(o=t._webGL[e.id]={lastIndex:0,data:[],gl:e}),t.dirty=!1,t.clearDirty){for(t.clearDirty=!1,n=0;n<o.data.length;n++){var s=o.data[n];s.reset(),r.WebGLGraphics.graphicsDataPool.push(s)}o.data=[],o.lastIndex=0}for(n=o.lastIndex;n<t.graphicsData.length;n++){var a=t.graphicsData[n];a.type===r.Graphics.POLY?(a.fill&&a.points.length>6&&(a.points.length>10?(i=r.WebGLGraphics.switchMode(o,1),r.WebGLGraphics.buildComplexPoly(a,i)):(i=r.WebGLGraphics.switchMode(o,0),r.WebGLGraphics.buildPoly(a,i))),a.lineWidth>0&&(i=r.WebGLGraphics.switchMode(o,0),r.WebGLGraphics.buildLine(a,i))):(i=r.WebGLGraphics.switchMode(o,0),a.type===r.Graphics.RECT?r.WebGLGraphics.buildRectangle(a,i):a.type===r.Graphics.CIRC||a.type===r.Graphics.ELIP?r.WebGLGraphics.buildCircle(a,i):a.type===r.Graphics.RREC&&r.WebGLGraphics.buildRoundedRectangle(a,i)),o.lastIndex++}for(n=0;n<o.data.length;n++)(i=o.data[n]).dirty&&i.upload()},r.WebGLGraphics.switchMode=function(t,e){var n;return t.data.length?((n=t.data[t.data.length-1]).mode!==e||1===e)&&((n=r.WebGLGraphics.graphicsDataPool.pop()||new r.WebGLGraphicsData(t.gl)).mode=e,t.data.push(n)):((n=r.WebGLGraphics.graphicsDataPool.pop()||new r.WebGLGraphicsData(t.gl)).mode=e,t.data.push(n)),n.dirty=!0,n},r.WebGLGraphics.buildRectangle=function(t,e){var n=t.points,i=n[0],o=n[1],s=n[2],a=n[3];if(t.fill){var u=r.hex2rgb(t.fillColor),l=t.fillAlpha,h=u[0]*l,c=u[1]*l,f=u[2]*l,p=e.points,d=e.indices,g=p.length/6;p.push(i,o),p.push(h,c,f,l),p.push(i+s,o),p.push(h,c,f,l),p.push(i,o+a),p.push(h,c,f,l),p.push(i+s,o+a),p.push(h,c,f,l),d.push(g,g,g+1,g+2,g+3,g+3)}if(t.lineWidth){var v=t.points;t.points=[i,o,i+s,o,i+s,o+a,i,o+a,i,o],r.WebGLGraphics.buildLine(t,e),t.points=v}},r.WebGLGraphics.buildRoundedRectangle=function(t,e){var n=t.points,i=n[0],o=n[1],s=n[2],a=n[3],u=n[4],l=[];if(l.push(i,o+u),l=(l=(l=(l=l.concat(r.WebGLGraphics.quadraticBezierCurve(i,o+a-u,i,o+a,i+u,o+a))).concat(r.WebGLGraphics.quadraticBezierCurve(i+s-u,o+a,i+s,o+a,i+s,o+a-u))).concat(r.WebGLGraphics.quadraticBezierCurve(i+s,o+u,i+s,o,i+s-u,o))).concat(r.WebGLGraphics.quadraticBezierCurve(i+u,o,i,o,i,o+u)),t.fill){var h=r.hex2rgb(t.fillColor),c=t.fillAlpha,f=h[0]*c,p=h[1]*c,d=h[2]*c,g=e.points,v=e.indices,m=g.length/6,y=r.PolyK.Triangulate(l),x=0;for(x=0;x<y.length;x+=3)v.push(y[x]+m),v.push(y[x]+m),v.push(y[x+1]+m),v.push(y[x+2]+m),v.push(y[x+2]+m);for(x=0;x<l.length;x++)g.push(l[x],l[++x],f,p,d,c)}if(t.lineWidth){var b=t.points;t.points=l,r.WebGLGraphics.buildLine(t,e),t.points=b}},r.WebGLGraphics.quadraticBezierCurve=function(t,e,r,n,i,o){function s(t,e,r){return t+(e-t)*r}for(var a,u,l,h,c,f,p=[],d=0,g=0;20>=g;g++)a=s(t,r,d=g/20),u=s(e,n,d),l=s(r,i,d),h=s(n,o,d),c=s(a,l,d),f=s(u,h,d),p.push(c,f);return p},r.WebGLGraphics.buildCircle=function(t,e){var n=t.points,i=n[0],o=n[1],s=n[2],a=n[3],u=2*Math.PI/40,l=0;if(t.fill){var h=r.hex2rgb(t.fillColor),c=t.fillAlpha,f=h[0]*c,p=h[1]*c,d=h[2]*c,g=e.points,v=e.indices,m=g.length/6;for(v.push(m),l=0;41>l;l++)g.push(i,o,f,p,d,c),g.push(i+Math.sin(u*l)*s,o+Math.cos(u*l)*a,f,p,d,c),v.push(m++,m++);v.push(m-1)}if(t.lineWidth){var y=t.points;for(t.points=[],l=0;41>l;l++)t.points.push(i+Math.sin(u*l)*s,o+Math.cos(u*l)*a);r.WebGLGraphics.buildLine(t,e),t.points=y}},r.WebGLGraphics.buildLine=function(t,e){var n=0,i=t.points;if(0!==i.length){if(t.lineWidth%2)for(n=0;n<i.length;n++)i[n]+=.5;var o=new r.Point(i[0],i[1]),s=new r.Point(i[i.length-2],i[i.length-1]);if(o.x===s.x&&o.y===s.y){(i=i.slice()).pop(),i.pop();var a=(s=new r.Point(i[i.length-2],i[i.length-1])).x+.5*(o.x-s.x),u=s.y+.5*(o.y-s.y);i.unshift(a,u),i.push(a,u)}var l,h,c,f,p,d,g,v,m,y,x,b,_,w,T,E,S,A,C,M,R,O,P=e.points,D=e.indices,I=i.length/2,L=i.length,F=P.length/6,k=t.lineWidth/2,B=r.hex2rgb(t.lineColor),N=t.lineAlpha,U=B[0]*N,$=B[1]*N,j=B[2]*N;for(c=i[0],f=i[1],p=i[2],m=-(f-(d=i[3])),y=c-p,m/=O=Math.sqrt(m*m+y*y),y/=O,m*=k,y*=k,P.push(c-m,f-y,U,$,j,N),P.push(c+m,f+y,U,$,j,N),n=1;I-1>n;n++)c=i[2*(n-1)],f=i[2*(n-1)+1],p=i[2*n],d=i[2*n+1],g=i[2*(n+1)],v=i[2*(n+1)+1],m=-(f-d),y=c-p,m/=O=Math.sqrt(m*m+y*y),y/=O,m*=k,y*=k,x=-(d-v),b=p-g,x/=O=Math.sqrt(x*x+b*b),b/=O,S=(-m+c)*(-y+d)-(-m+p)*(-y+f),M=(-(x*=k)+g)*(-(b*=k)+d)-(-x+p)*(-b+v),R=(T=-y+f-(-y+d))*(C=-x+p-(-x+g))-(A=-b+v-(-b+d))*(E=-m+p-(-m+c)),Math.abs(R)<.1?(R+=10.1,P.push(p-m,d-y,U,$,j,N),P.push(p+m,d+y,U,$,j,N)):((l=(E*M-C*S)/R)-p)*(l-p)+((h=(A*S-T*M)/R)-d)+(h-d)>19600?(_=m-x,w=y-b,_/=O=Math.sqrt(_*_+w*w),w/=O,_*=k,w*=k,P.push(p-_,d-w),P.push(U,$,j,N),P.push(p+_,d+w),P.push(U,$,j,N),P.push(p-_,d-w),P.push(U,$,j,N),L++):(P.push(l,h),P.push(U,$,j,N),P.push(p-(l-p),d-(h-d)),P.push(U,$,j,N));for(c=i[2*(I-2)],f=i[2*(I-2)+1],p=i[2*(I-1)],m=-(f-(d=i[2*(I-1)+1])),y=c-p,m/=O=Math.sqrt(m*m+y*y),y/=O,m*=k,y*=k,P.push(p-m,d-y),P.push(U,$,j,N),P.push(p+m,d+y),P.push(U,$,j,N),D.push(F),n=0;L>n;n++)D.push(F++);D.push(F-1)}},r.WebGLGraphics.buildComplexPoly=function(t,e){var n=t.points.slice();if(!(n.length<6)){var i=e.indices;e.points=n,e.alpha=t.fillAlpha,e.color=r.hex2rgb(t.fillColor);for(var o,s,a=1/0,u=-1/0,l=1/0,h=-1/0,c=0;c<n.length;c+=2)o=n[c],s=n[c+1],a=a>o?o:a,u=o>u?o:u,l=l>s?s:l,h=s>h?s:h;n.push(a,l,u,l,u,h,a,h);var f=n.length/2;for(c=0;f>c;c++)i.push(c)}},r.WebGLGraphics.buildPoly=function(t,e){var n=t.points;if(!(n.length<6)){var i=e.points,o=e.indices,s=n.length/2,a=r.hex2rgb(t.fillColor),u=t.fillAlpha,l=a[0]*u,h=a[1]*u,c=a[2]*u,f=r.PolyK.Triangulate(n),p=i.length/6,d=0;for(d=0;d<f.length;d+=3)o.push(f[d]+p),o.push(f[d]+p),o.push(f[d+1]+p),o.push(f[d+2]+p),o.push(f[d+2]+p);for(d=0;s>d;d++)i.push(n[2*d],n[2*d+1],l,h,c,u)}},r.WebGLGraphics.graphicsDataPool=[],r.WebGLGraphicsData=function(t){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.lastIndex=0,this.buffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0},r.WebGLGraphicsData.prototype.reset=function(){this.points=[],this.indices=[],this.lastIndex=0},r.WebGLGraphicsData.prototype.upload=function(){var t=this.gl;this.glPoints=new Float32Array(this.points),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,this.glPoints,t.STATIC_DRAW),this.glIndicies=new Uint16Array(this.indices),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.glIndicies,t.STATIC_DRAW),this.dirty=!1},r.glContexts=[],r.WebGLRenderer=function(t,e,n,i,o,s){r.defaultRenderer||(r.sayHello("webGL"),r.defaultRenderer=this),this.type=r.WEBGL_RENDERER,this.transparent=!!i,this.preserveDrawingBuffer=s,this.width=t||800,this.height=e||600,this.view=n||document.createElement("canvas"),this.view.width=this.width,this.view.height=this.height,this.contextLost=this.handleContextLost.bind(this),this.contextRestoredLost=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.contextLost,!1),this.view.addEventListener("webglcontextrestored",this.contextRestoredLost,!1),this.options={alpha:this.transparent,antialias:!!o,premultipliedAlpha:!!i,stencil:!0,preserveDrawingBuffer:s};var a=null;if(["experimental-webgl","webgl"].forEach(function(t){try{a=a||this.view.getContext(t,this.options)}catch(t){}},this),!a)throw new Error("This browser does not support webGL. Try using the canvas renderer"+this);this.gl=a,this.glContextId=a.id=r.WebGLRenderer.glContextId++,r.glContexts[this.glContextId]=a,r.blendModesWebGL||(r.blendModesWebGL=[],r.blendModesWebGL[r.blendModes.NORMAL]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],r.blendModesWebGL[r.blendModes.ADD]=[a.SRC_ALPHA,a.DST_ALPHA],r.blendModesWebGL[r.blendModes.MULTIPLY]=[a.DST_COLOR,a.ONE_MINUS_SRC_ALPHA],r.blendModesWebGL[r.blendModes.SCREEN]=[a.SRC_ALPHA,a.ONE],r.blendModesWebGL[r.blendModes.OVERLAY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],r.blendModesWebGL[r.blendModes.DARKEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],r.blendModesWebGL[r.blendModes.LIGHTEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],r.blendModesWebGL[r.blendModes.COLOR_DODGE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],r.blendModesWebGL[r.blendModes.COLOR_BURN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],r.blendModesWebGL[r.blendModes.HARD_LIGHT]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],r.blendModesWebGL[r.blendModes.SOFT_LIGHT]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],r.blendModesWebGL[r.blendModes.DIFFERENCE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],r.blendModesWebGL[r.blendModes.EXCLUSION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],r.blendModesWebGL[r.blendModes.HUE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],r.blendModesWebGL[r.blendModes.SATURATION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],r.blendModesWebGL[r.blendModes.COLOR]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],r.blendModesWebGL[r.blendModes.LUMINOSITY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA]),this.projection=new r.Point,this.projection.x=this.width/2,this.projection.y=-this.height/2,this.offset=new r.Point(0,0),this.resize(this.width,this.height),this.contextLost=!1,this.shaderManager=new r.WebGLShaderManager(a),this.spriteBatch=new r.WebGLSpriteBatch(a),this.maskManager=new r.WebGLMaskManager(a),this.filterManager=new r.WebGLFilterManager(a,this.transparent),this.stencilManager=new r.WebGLStencilManager(a),this.blendModeManager=new r.WebGLBlendModeManager(a),this.renderSession={},this.renderSession.gl=this.gl,this.renderSession.drawCount=0,this.renderSession.shaderManager=this.shaderManager,this.renderSession.maskManager=this.maskManager,this.renderSession.filterManager=this.filterManager,this.renderSession.blendModeManager=this.blendModeManager,this.renderSession.spriteBatch=this.spriteBatch,this.renderSession.stencilManager=this.stencilManager,this.renderSession.renderer=this,a.useProgram(this.shaderManager.defaultShader.program),a.disable(a.DEPTH_TEST),a.disable(a.CULL_FACE),a.enable(a.BLEND),a.colorMask(!0,!0,!0,this.transparent)},r.WebGLRenderer.prototype.constructor=r.WebGLRenderer,r.WebGLRenderer.prototype.render=function(t){if(!this.contextLost){this.__stage!==t&&(t.interactive&&t.interactionManager.removeEvents(),this.__stage=t),r.WebGLRenderer.updateTextures(),t.updateTransform(),t._interactive&&(t._interactiveEventsAdded||(t._interactiveEventsAdded=!0,t.interactionManager.setTarget(this)));var e=this.gl;e.viewport(0,0,this.width,this.height),e.bindFramebuffer(e.FRAMEBUFFER,null),this.transparent?e.clearColor(0,0,0,0):e.clearColor(t.backgroundColorSplit[0],t.backgroundColorSplit[1],t.backgroundColorSplit[2],1),e.clear(e.COLOR_BUFFER_BIT),this.renderDisplayObject(t,this.projection),t.interactive?t._interactiveEventsAdded||(t._interactiveEventsAdded=!0,t.interactionManager.setTarget(this)):t._interactiveEventsAdded&&(t._interactiveEventsAdded=!1,t.interactionManager.setTarget(this))}},r.WebGLRenderer.prototype.renderDisplayObject=function(t,e,n){this.renderSession.blendModeManager.setBlendMode(r.blendModes.NORMAL),this.renderSession.drawCount=0,this.renderSession.currentBlendMode=9999,this.renderSession.projection=e,this.renderSession.offset=this.offset,this.spriteBatch.begin(this.renderSession),this.filterManager.begin(this.renderSession,n),t._renderWebGL(this.renderSession),this.spriteBatch.end()},r.WebGLRenderer.updateTextures=function(){var t=0;for(t=0;t<r.Texture.frameUpdates.length;t++)r.WebGLRenderer.updateTextureFrame(r.Texture.frameUpdates[t]);for(t=0;t<r.texturesToDestroy.length;t++)r.WebGLRenderer.destroyTexture(r.texturesToDestroy[t]);r.texturesToUpdate.length=0,r.texturesToDestroy.length=0,r.Texture.frameUpdates.length=0},r.WebGLRenderer.destroyTexture=function(t){for(var e=t._glTextures.length-1;e>=0;e--){var n=t._glTextures[e],i=r.glContexts[e];i&&n&&i.deleteTexture(n)}t._glTextures.length=0},r.WebGLRenderer.updateTextureFrame=function(t){t._updateWebGLuvs()},r.WebGLRenderer.prototype.resize=function(t,e){this.width=t,this.height=e,this.view.width=t,this.view.height=e,this.gl.viewport(0,0,this.width,this.height),this.projection.x=this.width/2,this.projection.y=-this.height/2},r.createWebGLTexture=function(t,e){return t.hasLoaded&&(t._glTextures[e.id]=e.createTexture(),e.bindTexture(e.TEXTURE_2D,t._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t.scaleMode===r.scaleModes.LINEAR?e.LINEAR:e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===r.scaleModes.LINEAR?e.LINEAR:e.NEAREST),t._powerOf2?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),e.bindTexture(e.TEXTURE_2D,null),t._dirty[e.id]=!1),t._glTextures[e.id]},r.updateWebGLTexture=function(t,e){t._glTextures[e.id]&&(e.bindTexture(e.TEXTURE_2D,t._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t.scaleMode===r.scaleModes.LINEAR?e.LINEAR:e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===r.scaleModes.LINEAR?e.LINEAR:e.NEAREST),t._powerOf2?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),t._dirty[e.id]=!1)},r.WebGLRenderer.prototype.handleContextLost=function(t){t.preventDefault(),this.contextLost=!0},r.WebGLRenderer.prototype.handleContextRestored=function(){try{this.gl=this.view.getContext("experimental-webgl",this.options)}catch(t){try{this.gl=this.view.getContext("webgl",this.options)}catch(t){throw new Error(" This browser does not support webGL. Try using the canvas renderer"+this)}}var t=this.gl;for(var e in t.id=r.WebGLRenderer.glContextId++,this.shaderManager.setContext(t),this.spriteBatch.setContext(t),this.maskManager.setContext(t),this.filterManager.setContext(t),this.renderSession.gl=this.gl,t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),t.colorMask(!0,!0,!0,this.transparent),this.gl.viewport(0,0,this.width,this.height),r.TextureCache){r.TextureCache[e].baseTexture._glTextures=[]}this.contextLost=!1},r.WebGLRenderer.prototype.destroy=function(){this.view.removeEventListener("webglcontextlost",this.contextLost),this.view.removeEventListener("webglcontextrestored",this.contextRestoredLost),r.glContexts[this.glContextId]=null,this.projection=null,this.offset=null,this.shaderManager.destroy(),this.spriteBatch.destroy(),this.maskManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.spriteBatch=null,this.maskManager=null,this.filterManager=null,this.gl=null,this.renderSession=null},r.WebGLRenderer.glContextId=0,r.WebGLBlendModeManager=function(t){this.gl=t,this.currentBlendMode=99999},r.WebGLBlendModeManager.prototype.setBlendMode=function(t){if(this.currentBlendMode===t)return!1;this.currentBlendMode=t;var e=r.blendModesWebGL[this.currentBlendMode];return this.gl.blendFunc(e[0],e[1]),!0},r.WebGLBlendModeManager.prototype.destroy=function(){this.gl=null},r.WebGLMaskManager=function(t){this.maskStack=[],this.maskPosition=0,this.setContext(t),this.reverse=!1,this.count=0},r.WebGLMaskManager.prototype.setContext=function(t){this.gl=t},r.WebGLMaskManager.prototype.pushMask=function(t,e){var n=e.gl;t.dirty&&r.WebGLGraphics.updateGraphics(t,n),t._webGL[n.id].data.length&&e.stencilManager.pushStencil(t,t._webGL[n.id].data[0],e)},r.WebGLMaskManager.prototype.popMask=function(t,e){var r=this.gl;e.stencilManager.popStencil(t,t._webGL[r.id].data[0],e)},r.WebGLMaskManager.prototype.destroy=function(){this.maskStack=null,this.gl=null},r.WebGLStencilManager=function(t){this.stencilStack=[],this.setContext(t),this.reverse=!0,this.count=0},r.WebGLStencilManager.prototype.setContext=function(t){this.gl=t},r.WebGLStencilManager.prototype.pushStencil=function(t,e,r){var n=this.gl;this.bindGraphics(t,e,r),0===this.stencilStack.length&&(n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),this.reverse=!0,this.count=0),this.stencilStack.push(e);var i=this.count;n.colorMask(!1,!1,!1,!1),n.stencilFunc(n.ALWAYS,0,255),n.stencilOp(n.KEEP,n.KEEP,n.INVERT),1===e.mode?(n.drawElements(n.TRIANGLE_FAN,e.indices.length-4,n.UNSIGNED_SHORT,0),this.reverse?(n.stencilFunc(n.EQUAL,255-i,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)):(n.stencilFunc(n.EQUAL,i,255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(e.indices.length-4)),this.reverse?n.stencilFunc(n.EQUAL,255-(i+1),255):n.stencilFunc(n.EQUAL,i+1,255),this.reverse=!this.reverse):(this.reverse?(n.stencilFunc(n.EQUAL,i,255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,255-i,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),n.drawElements(n.TRIANGLE_STRIP,e.indices.length,n.UNSIGNED_SHORT,0),this.reverse?n.stencilFunc(n.EQUAL,i+1,255):n.stencilFunc(n.EQUAL,255-(i+1),255)),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),this.count++},r.WebGLStencilManager.prototype.bindGraphics=function(t,e,n){this._currentGraphics=t;var i,o=this.gl,s=n.projection,a=n.offset;1===e.mode?(i=n.shaderManager.complexPrimativeShader,n.shaderManager.setShader(i),o.uniformMatrix3fv(i.translationMatrix,!1,t.worldTransform.toArray(!0)),o.uniform2f(i.projectionVector,s.x,-s.y),o.uniform2f(i.offsetVector,-a.x,-a.y),o.uniform3fv(i.tintColor,r.hex2rgb(t.tint)),o.uniform3fv(i.color,e.color),o.uniform1f(i.alpha,t.worldAlpha*e.alpha),o.bindBuffer(o.ARRAY_BUFFER,e.buffer),o.vertexAttribPointer(i.aVertexPosition,2,o.FLOAT,!1,8,0),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,e.indexBuffer)):(i=n.shaderManager.primitiveShader,n.shaderManager.setShader(i),o.uniformMatrix3fv(i.translationMatrix,!1,t.worldTransform.toArray(!0)),o.uniform2f(i.projectionVector,s.x,-s.y),o.uniform2f(i.offsetVector,-a.x,-a.y),o.uniform3fv(i.tintColor,r.hex2rgb(t.tint)),o.uniform1f(i.alpha,t.worldAlpha),o.bindBuffer(o.ARRAY_BUFFER,e.buffer),o.vertexAttribPointer(i.aVertexPosition,2,o.FLOAT,!1,24,0),o.vertexAttribPointer(i.colorAttribute,4,o.FLOAT,!1,24,8),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,e.indexBuffer))},r.WebGLStencilManager.prototype.popStencil=function(t,e,r){var n=this.gl;if(this.stencilStack.pop(),this.count--,0===this.stencilStack.length)n.disable(n.STENCIL_TEST);else{var i=this.count;this.bindGraphics(t,e,r),n.colorMask(!1,!1,!1,!1),1===e.mode?(this.reverse=!this.reverse,this.reverse?(n.stencilFunc(n.EQUAL,255-(i+1),255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,i+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(e.indices.length-4)),n.stencilFunc(n.ALWAYS,0,255),n.stencilOp(n.KEEP,n.KEEP,n.INVERT),n.drawElements(n.TRIANGLE_FAN,e.indices.length-4,n.UNSIGNED_SHORT,0),this.reverse?n.stencilFunc(n.EQUAL,i,255):n.stencilFunc(n.EQUAL,255-i,255)):(this.reverse?(n.stencilFunc(n.EQUAL,i+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)):(n.stencilFunc(n.EQUAL,255-(i+1),255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)),n.drawElements(n.TRIANGLE_STRIP,e.indices.length,n.UNSIGNED_SHORT,0),this.reverse?n.stencilFunc(n.EQUAL,i,255):n.stencilFunc(n.EQUAL,255-i,255)),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP)}},r.WebGLStencilManager.prototype.destroy=function(){this.maskStack=null,this.gl=null},r.WebGLShaderManager=function(t){this.maxAttibs=10,this.attribState=[],this.tempAttribState=[],this.shaderMap=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.setContext(t)},r.WebGLShaderManager.prototype.setContext=function(t){this.gl=t,this.primitiveShader=new r.PrimitiveShader(t),this.complexPrimativeShader=new r.ComplexPrimitiveShader(t),this.defaultShader=new r.PixiShader(t),this.fastShader=new r.PixiFastShader(t),this.stripShader=new r.StripShader(t),this.setShader(this.defaultShader)},r.WebGLShaderManager.prototype.setAttribs=function(t){var e;for(e=0;e<this.tempAttribState.length;e++)this.tempAttribState[e]=!1;for(e=0;e<t.length;e++){var r=t[e];this.tempAttribState[r]=!0}var n=this.gl;for(e=0;e<this.attribState.length;e++)this.attribState[e]!==this.tempAttribState[e]&&(this.attribState[e]=this.tempAttribState[e],this.tempAttribState[e]?n.enableVertexAttribArray(e):n.disableVertexAttribArray(e))},r.WebGLShaderManager.prototype.setShader=function(t){return this._currentId!==t._UID&&(this._currentId=t._UID,this.currentShader=t,this.gl.useProgram(t.program),this.setAttribs(t.attributes),!0)},r.WebGLShaderManager.prototype.destroy=function(){this.attribState=null,this.tempAttribState=null,this.primitiveShader.destroy(),this.defaultShader.destroy(),this.fastShader.destroy(),this.stripShader.destroy(),this.gl=null},r.WebGLSpriteBatch=function(t){this.vertSize=6,this.size=2e3;var e=4*this.size*this.vertSize,r=6*this.size;this.vertices=new Float32Array(e),this.indices=new Uint16Array(r),this.lastIndexCount=0;for(var n=0,i=0;r>n;n+=6,i+=4)this.indices[n+0]=i+0,this.indices[n+1]=i+1,this.indices[n+2]=i+2,this.indices[n+3]=i+0,this.indices[n+4]=i+2,this.indices[n+5]=i+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.setContext(t),this.dirty=!0,this.textures=[],this.blendModes=[]},r.WebGLSpriteBatch.prototype.setContext=function(t){this.gl=t,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW),this.currentBlendMode=99999},r.WebGLSpriteBatch.prototype.begin=function(t){this.renderSession=t,this.shader=this.renderSession.shaderManager.defaultShader,this.start()},r.WebGLSpriteBatch.prototype.end=function(){this.flush()},r.WebGLSpriteBatch.prototype.render=function(t){var e=t.texture;this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=e.baseTexture);var r=e._uvs;if(r){var n,i,o,s,a=t.worldAlpha,u=t.tint,l=this.vertices,h=t.anchor.x,c=t.anchor.y;if(e.trim){var f=e.trim;n=(i=f.x-h*f.width)+e.crop.width,o=(s=f.y-c*f.height)+e.crop.height}else n=e.frame.width*(1-h),i=e.frame.width*-h,o=e.frame.height*(1-c),s=e.frame.height*-c;var p=4*this.currentBatchSize*this.vertSize,d=t.worldTransform,g=d.a,v=d.c,m=d.b,y=d.d,x=d.tx,b=d.ty;l[p++]=g*i+m*s+x,l[p++]=y*s+v*i+b,l[p++]=r.x0,l[p++]=r.y0,l[p++]=a,l[p++]=u,l[p++]=g*n+m*s+x,l[p++]=y*s+v*n+b,l[p++]=r.x1,l[p++]=r.y1,l[p++]=a,l[p++]=u,l[p++]=g*n+m*o+x,l[p++]=y*o+v*n+b,l[p++]=r.x2,l[p++]=r.y2,l[p++]=a,l[p++]=u,l[p++]=g*i+m*o+x,l[p++]=y*o+v*i+b,l[p++]=r.x3,l[p++]=r.y3,l[p++]=a,l[p++]=u,this.textures[this.currentBatchSize]=t.texture.baseTexture,this.blendModes[this.currentBatchSize]=t.blendMode,this.currentBatchSize++}},r.WebGLSpriteBatch.prototype.renderTilingSprite=function(t){var e=t.tilingTexture;this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=e.baseTexture),t._uvs||(t._uvs=new r.TextureUvs);var n=t._uvs;t.tilePosition.x%=e.baseTexture.width*t.tileScaleOffset.x,t.tilePosition.y%=e.baseTexture.height*t.tileScaleOffset.y;var i=t.tilePosition.x/(e.baseTexture.width*t.tileScaleOffset.x),o=t.tilePosition.y/(e.baseTexture.height*t.tileScaleOffset.y),s=t.width/e.baseTexture.width/(t.tileScale.x*t.tileScaleOffset.x),a=t.height/e.baseTexture.height/(t.tileScale.y*t.tileScaleOffset.y);n.x0=0-i,n.y0=0-o,n.x1=1*s-i,n.y1=0-o,n.x2=1*s-i,n.y2=1*a-o,n.x3=0-i,n.y3=1*a-o;var u=t.worldAlpha,l=t.tint,h=this.vertices,c=t.width,f=t.height,p=t.anchor.x,d=t.anchor.y,g=c*(1-p),v=c*-p,m=f*(1-d),y=f*-d,x=4*this.currentBatchSize*this.vertSize,b=t.worldTransform,_=b.a,w=b.c,T=b.b,E=b.d,S=b.tx,A=b.ty;h[x++]=_*v+T*y+S,h[x++]=E*y+w*v+A,h[x++]=n.x0,h[x++]=n.y0,h[x++]=u,h[x++]=l,h[x++]=_*g+T*y+S,h[x++]=E*y+w*g+A,h[x++]=n.x1,h[x++]=n.y1,h[x++]=u,h[x++]=l,h[x++]=_*g+T*m+S,h[x++]=E*m+w*g+A,h[x++]=n.x2,h[x++]=n.y2,h[x++]=u,h[x++]=l,h[x++]=_*v+T*m+S,h[x++]=E*m+w*v+A,h[x++]=n.x3,h[x++]=n.y3,h[x++]=u,h[x++]=l,this.textures[this.currentBatchSize]=e.baseTexture,this.blendModes[this.currentBatchSize]=t.blendMode,this.currentBatchSize++},r.WebGLSpriteBatch.prototype.flush=function(){if(0!==this.currentBatchSize){var t=this.gl;if(this.renderSession.shaderManager.setShader(this.renderSession.shaderManager.defaultShader),this.dirty){this.dirty=!1,t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.renderSession.projection;t.uniform2f(this.shader.projectionVector,e.x,e.y);var r=4*this.vertSize;t.vertexAttribPointer(this.shader.aVertexPosition,2,t.FLOAT,!1,r,0),t.vertexAttribPointer(this.shader.aTextureCoord,2,t.FLOAT,!1,r,8),t.vertexAttribPointer(this.shader.colorAttribute,2,t.FLOAT,!1,r,16)}if(this.currentBatchSize>.5*this.size)t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices);else{var n=this.vertices.subarray(0,4*this.currentBatchSize*this.vertSize);t.bufferSubData(t.ARRAY_BUFFER,0,n)}for(var i,o,s=0,a=0,u=null,l=this.renderSession.blendModeManager.currentBlendMode,h=0,c=this.currentBatchSize;c>h;h++)i=this.textures[h],o=this.blendModes[h],(u!==i||l!==o)&&(this.renderBatch(u,s,a),a=h,s=0,u=i,l=o,this.renderSession.blendModeManager.setBlendMode(l)),s++;this.renderBatch(u,s,a),this.currentBatchSize=0}},r.WebGLSpriteBatch.prototype.renderBatch=function(t,e,n){if(0!==e){var i=this.gl;i.bindTexture(i.TEXTURE_2D,t._glTextures[i.id]||r.createWebGLTexture(t,i)),t._dirty[i.id]&&r.updateWebGLTexture(this.currentBaseTexture,i),i.drawElements(i.TRIANGLES,6*e,i.UNSIGNED_SHORT,6*n*2),this.renderSession.drawCount++}},r.WebGLSpriteBatch.prototype.stop=function(){this.flush()},r.WebGLSpriteBatch.prototype.start=function(){this.dirty=!0},r.WebGLSpriteBatch.prototype.destroy=function(){this.vertices=null,this.indices=null,this.gl.deleteBuffer(this.vertexBuffer),this.gl.deleteBuffer(this.indexBuffer),this.currentBaseTexture=null,this.gl=null},r.WebGLFastSpriteBatch=function(t){this.vertSize=10,this.maxSize=6e3,this.size=this.maxSize;var e=4*this.size*this.vertSize,r=6*this.maxSize;this.vertices=new Float32Array(e),this.indices=new Uint16Array(r),this.vertexBuffer=null,this.indexBuffer=null,this.lastIndexCount=0;for(var n=0,i=0;r>n;n+=6,i+=4)this.indices[n+0]=i+0,this.indices[n+1]=i+1,this.indices[n+2]=i+2,this.indices[n+3]=i+0,this.indices[n+4]=i+2,this.indices[n+5]=i+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.currentBlendMode=0,this.renderSession=null,this.shader=null,this.matrix=null,this.setContext(t)},r.WebGLFastSpriteBatch.prototype.setContext=function(t){this.gl=t,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW)},r.WebGLFastSpriteBatch.prototype.begin=function(t,e){this.renderSession=e,this.shader=this.renderSession.shaderManager.fastShader,this.matrix=t.worldTransform.toArray(!0),this.start()},r.WebGLFastSpriteBatch.prototype.end=function(){this.flush()},r.WebGLFastSpriteBatch.prototype.render=function(t){var e=t.children,r=e[0];if(r.texture._uvs){this.currentBaseTexture=r.texture.baseTexture,r.blendMode!==this.renderSession.blendModeManager.currentBlendMode&&(this.flush(),this.renderSession.blendModeManager.setBlendMode(r.blendMode));for(var n=0,i=e.length;i>n;n++)this.renderSprite(e[n]);this.flush()}},r.WebGLFastSpriteBatch.prototype.renderSprite=function(t){if(t.visible&&(t.texture.baseTexture===this.currentBaseTexture||(this.flush(),this.currentBaseTexture=t.texture.baseTexture,t.texture._uvs))){var e,r,n,i,o,s,a=this.vertices;if(e=t.texture._uvs,t.texture.frame.width,t.texture.frame.height,t.texture.trim){var u=t.texture.trim;r=(n=u.x-t.anchor.x*u.width)+t.texture.crop.width,i=(o=u.y-t.anchor.y*u.height)+t.texture.crop.height}else r=t.texture.frame.width*(1-t.anchor.x),n=t.texture.frame.width*-t.anchor.x,i=t.texture.frame.height*(1-t.anchor.y),o=t.texture.frame.height*-t.anchor.y;s=4*this.currentBatchSize*this.vertSize,a[s++]=n,a[s++]=o,a[s++]=t.position.x,a[s++]=t.position.y,a[s++]=t.scale.x,a[s++]=t.scale.y,a[s++]=t.rotation,a[s++]=e.x0,a[s++]=e.y1,a[s++]=t.alpha,a[s++]=r,a[s++]=o,a[s++]=t.position.x,a[s++]=t.position.y,a[s++]=t.scale.x,a[s++]=t.scale.y,a[s++]=t.rotation,a[s++]=e.x1,a[s++]=e.y1,a[s++]=t.alpha,a[s++]=r,a[s++]=i,a[s++]=t.position.x,a[s++]=t.position.y,a[s++]=t.scale.x,a[s++]=t.scale.y,a[s++]=t.rotation,a[s++]=e.x2,a[s++]=e.y2,a[s++]=t.alpha,a[s++]=n,a[s++]=i,a[s++]=t.position.x,a[s++]=t.position.y,a[s++]=t.scale.x,a[s++]=t.scale.y,a[s++]=t.rotation,a[s++]=e.x3,a[s++]=e.y3,a[s++]=t.alpha,this.currentBatchSize++,this.currentBatchSize>=this.size&&this.flush()}},r.WebGLFastSpriteBatch.prototype.flush=function(){if(0!==this.currentBatchSize){var t=this.gl;if(this.currentBaseTexture._glTextures[t.id]||r.createWebGLTexture(this.currentBaseTexture,t),t.bindTexture(t.TEXTURE_2D,this.currentBaseTexture._glTextures[t.id]),this.currentBatchSize>.5*this.size)t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices);else{var e=this.vertices.subarray(0,4*this.currentBatchSize*this.vertSize);t.bufferSubData(t.ARRAY_BUFFER,0,e)}t.drawElements(t.TRIANGLES,6*this.currentBatchSize,t.UNSIGNED_SHORT,0),this.currentBatchSize=0,this.renderSession.drawCount++}},r.WebGLFastSpriteBatch.prototype.stop=function(){this.flush()},r.WebGLFastSpriteBatch.prototype.start=function(){var t=this.gl;t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.renderSession.projection;t.uniform2f(this.shader.projectionVector,e.x,e.y),t.uniformMatrix3fv(this.shader.uMatrix,!1,this.matrix);var r=4*this.vertSize;t.vertexAttribPointer(this.shader.aVertexPosition,2,t.FLOAT,!1,r,0),t.vertexAttribPointer(this.shader.aPositionCoord,2,t.FLOAT,!1,r,8),t.vertexAttribPointer(this.shader.aScale,2,t.FLOAT,!1,r,16),t.vertexAttribPointer(this.shader.aRotation,1,t.FLOAT,!1,r,24),t.vertexAttribPointer(this.shader.aTextureCoord,2,t.FLOAT,!1,r,28),t.vertexAttribPointer(this.shader.colorAttribute,1,t.FLOAT,!1,r,36)},r.WebGLFilterManager=function(t,e){this.transparent=e,this.filterStack=[],this.offsetX=0,this.offsetY=0,this.setContext(t)},r.WebGLFilterManager.prototype.setContext=function(t){this.gl=t,this.texturePool=[],this.initShaderBuffers()},r.WebGLFilterManager.prototype.begin=function(t,e){this.renderSession=t,this.defaultShader=t.shaderManager.defaultShader;var r=this.renderSession.projection;this.width=2*r.x,this.height=2*-r.y,this.buffer=e},r.WebGLFilterManager.prototype.pushFilter=function(t){var e=this.gl,n=this.renderSession.projection,i=this.renderSession.offset;t._filterArea=t.target.filterArea||t.target.getBounds(),this.filterStack.push(t);var o=t.filterPasses[0];this.offsetX+=t._filterArea.x,this.offsetY+=t._filterArea.y;var s=this.texturePool.pop();s?s.resize(this.width,this.height):s=new r.FilterTexture(this.gl,this.width,this.height),e.bindTexture(e.TEXTURE_2D,s.texture);var a=t._filterArea,u=o.padding;a.x-=u,a.y-=u,a.width+=2*u,a.height+=2*u,a.x<0&&(a.x=0),a.width>this.width&&(a.width=this.width),a.y<0&&(a.y=0),a.height>this.height&&(a.height=this.height),e.bindFramebuffer(e.FRAMEBUFFER,s.frameBuffer),e.viewport(0,0,a.width,a.height),n.x=a.width/2,n.y=-a.height/2,i.x=-a.x,i.y=-a.y,this.renderSession.shaderManager.setShader(this.defaultShader),e.uniform2f(this.defaultShader.projectionVector,a.width/2,-a.height/2),e.uniform2f(this.defaultShader.offsetVector,-a.x,-a.y),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),t._glFilterTexture=s},r.WebGLFilterManager.prototype.popFilter=function(){var t=this.gl,e=this.filterStack.pop(),n=e._filterArea,i=e._glFilterTexture,o=this.renderSession.projection,s=this.renderSession.offset;if(e.filterPasses.length>1){t.viewport(0,0,n.width,n.height),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=0,this.vertexArray[1]=n.height,this.vertexArray[2]=n.width,this.vertexArray[3]=n.height,this.vertexArray[4]=0,this.vertexArray[5]=0,this.vertexArray[6]=n.width,this.vertexArray[7]=0,t.bufferSubData(t.ARRAY_BUFFER,0,this.vertexArray),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=n.width/this.width,this.uvArray[5]=n.height/this.height,this.uvArray[6]=n.width/this.width,this.uvArray[7]=n.height/this.height,t.bufferSubData(t.ARRAY_BUFFER,0,this.uvArray);var a=i,u=this.texturePool.pop();u||(u=new r.FilterTexture(this.gl,this.width,this.height)),u.resize(this.width,this.height),t.bindFramebuffer(t.FRAMEBUFFER,u.frameBuffer),t.clear(t.COLOR_BUFFER_BIT),t.disable(t.BLEND);for(var l=0;l<e.filterPasses.length-1;l++){var h=e.filterPasses[l];t.bindFramebuffer(t.FRAMEBUFFER,u.frameBuffer),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,a.texture),this.applyFilterPass(h,n,n.width,n.height);var c=a;a=u,u=c}t.enable(t.BLEND),i=a,this.texturePool.push(u)}var f=e.filterPasses[e.filterPasses.length-1];this.offsetX-=n.x,this.offsetY-=n.y;var p=this.width,d=this.height,g=0,v=0,m=this.buffer;if(0===this.filterStack.length)t.colorMask(!0,!0,!0,!0);else{var y=this.filterStack[this.filterStack.length-1];p=(n=y._filterArea).width,d=n.height,g=n.x,v=n.y,m=y._glFilterTexture.frameBuffer}o.x=p/2,o.y=-d/2,s.x=g,s.y=v;var x=(n=e._filterArea).x-g,b=n.y-v;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=x,this.vertexArray[1]=b+n.height,this.vertexArray[2]=x+n.width,this.vertexArray[3]=b+n.height,this.vertexArray[4]=x,this.vertexArray[5]=b,this.vertexArray[6]=x+n.width,this.vertexArray[7]=b,t.bufferSubData(t.ARRAY_BUFFER,0,this.vertexArray),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=n.width/this.width,this.uvArray[5]=n.height/this.height,this.uvArray[6]=n.width/this.width,this.uvArray[7]=n.height/this.height,t.bufferSubData(t.ARRAY_BUFFER,0,this.uvArray),t.viewport(0,0,p,d),t.bindFramebuffer(t.FRAMEBUFFER,m),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,i.texture),this.applyFilterPass(f,n,p,d),this.renderSession.shaderManager.setShader(this.defaultShader),t.uniform2f(this.defaultShader.projectionVector,p/2,-d/2),t.uniform2f(this.defaultShader.offsetVector,-g,-v),this.texturePool.push(i),e._glFilterTexture=null},r.WebGLFilterManager.prototype.applyFilterPass=function(t,e,n,i){var o=this.gl,s=t.shaders[o.id];s||((s=new r.PixiShader(o)).fragmentSrc=t.fragmentSrc,s.uniforms=t.uniforms,s.init(),t.shaders[o.id]=s),this.renderSession.shaderManager.setShader(s),o.uniform2f(s.projectionVector,n/2,-i/2),o.uniform2f(s.offsetVector,0,0),t.uniforms.dimensions&&(t.uniforms.dimensions.value[0]=this.width,t.uniforms.dimensions.value[1]=this.height,t.uniforms.dimensions.value[2]=this.vertexArray[0],t.uniforms.dimensions.value[3]=this.vertexArray[5]),s.syncUniforms(),o.bindBuffer(o.ARRAY_BUFFER,this.vertexBuffer),o.vertexAttribPointer(s.aVertexPosition,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,this.uvBuffer),o.vertexAttribPointer(s.aTextureCoord,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,this.colorBuffer),o.vertexAttribPointer(s.colorAttribute,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,this.indexBuffer),o.drawElements(o.TRIANGLES,6,o.UNSIGNED_SHORT,0),this.renderSession.drawCount++},r.WebGLFilterManager.prototype.initShaderBuffers=function(){var t=this.gl;this.vertexBuffer=t.createBuffer(),this.uvBuffer=t.createBuffer(),this.colorBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.vertexArray=new Float32Array([0,0,1,0,0,1,1,1]),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertexArray,t.STATIC_DRAW),this.uvArray=new Float32Array([0,0,1,0,0,1,1,1]),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),t.bufferData(t.ARRAY_BUFFER,this.uvArray,t.STATIC_DRAW),this.colorArray=new Float32Array([1,16777215,1,16777215,1,16777215,1,16777215]),t.bindBuffer(t.ARRAY_BUFFER,this.colorBuffer),t.bufferData(t.ARRAY_BUFFER,this.colorArray,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,1,3,2]),t.STATIC_DRAW)},r.WebGLFilterManager.prototype.destroy=function(){var t=this.gl;this.filterStack=null,this.offsetX=0,this.offsetY=0;for(var e=0;e<this.texturePool.length;e++)this.texturePool[e].destroy();this.texturePool=null,t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.uvBuffer),t.deleteBuffer(this.colorBuffer),t.deleteBuffer(this.indexBuffer)},r.FilterTexture=function(t,e,n,i){this.gl=t,this.frameBuffer=t.createFramebuffer(),this.texture=t.createTexture(),i=i||r.scaleModes.DEFAULT,t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,i===r.scaleModes.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,i===r.scaleModes.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0),this.renderBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.renderBuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.renderBuffer),this.resize(e,n)},r.FilterTexture.prototype.clear=function(){var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},r.FilterTexture.prototype.resize=function(t,e){if(this.width!==t||this.height!==e){this.width=t,this.height=e;var r=this.gl;r.bindTexture(r.TEXTURE_2D,this.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t,e,0,r.RGBA,r.UNSIGNED_BYTE,null),r.bindRenderbuffer(r.RENDERBUFFER,this.renderBuffer),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e)}},r.FilterTexture.prototype.destroy=function(){var t=this.gl;t.deleteFramebuffer(this.frameBuffer),t.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null},r.CanvasMaskManager=function(){},r.CanvasMaskManager.prototype.pushMask=function(t,e){e.save();var n=t.alpha,i=t.worldTransform;e.setTransform(i.a,i.c,i.b,i.d,i.tx,i.ty),r.CanvasGraphics.renderGraphicsMask(t,e),e.clip(),t.worldAlpha=n},r.CanvasMaskManager.prototype.popMask=function(t){t.restore()},r.CanvasTinter=function(){},r.CanvasTinter.getTintedTexture=function(t,e){var n=t.texture,i="#"+("00000"+(0|(e=r.CanvasTinter.roundColor(e))).toString(16)).substr(-6);if(n.tintCache=n.tintCache||{},n.tintCache[i])return n.tintCache[i];var o=r.CanvasTinter.canvas||document.createElement("canvas");if(r.CanvasTinter.tintMethod(n,e,o),r.CanvasTinter.convertTintToImage){var s=new Image;s.src=o.toDataURL(),n.tintCache[i]=s}else n.tintCache[i]=o,r.CanvasTinter.canvas=null;return o},r.CanvasTinter.tintWithMultiply=function(t,e,r){var n=r.getContext("2d"),i=t.frame;r.width=i.width,r.height=i.height,n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height)},r.CanvasTinter.tintWithOverlay=function(t,e,r){var n=r.getContext("2d"),i=t.frame;r.width=i.width,r.height=i.height,n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height)},r.CanvasTinter.tintWithPerPixel=function(t,e,n){var i=n.getContext("2d"),o=t.frame;n.width=o.width,n.height=o.height,i.globalCompositeOperation="copy",i.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height);for(var s=r.hex2rgb(e),a=s[0],u=s[1],l=s[2],h=i.getImageData(0,0,o.width,o.height),c=h.data,f=0;f<c.length;f+=4)c[f+0]*=a,c[f+1]*=u,c[f+2]*=l;i.putImageData(h,0,0)},r.CanvasTinter.roundColor=function(t){var e=r.CanvasTinter.cacheStepsPerColorChannel,n=r.hex2rgb(t);return n[0]=Math.min(255,n[0]/e*e),n[1]=Math.min(255,n[1]/e*e),n[2]=Math.min(255,n[2]/e*e),r.rgb2hex(n)},r.CanvasTinter.cacheStepsPerColorChannel=8,r.CanvasTinter.convertTintToImage=!1,r.CanvasTinter.canUseMultiply=r.canUseNewCanvasBlendModes(),r.CanvasTinter.tintMethod=r.CanvasTinter.canUseMultiply?r.CanvasTinter.tintWithMultiply:r.CanvasTinter.tintWithPerPixel,r.CanvasRenderer=function(t,e,n,i){r.defaultRenderer||(r.sayHello("Canvas"),r.defaultRenderer=this),this.type=r.CANVAS_RENDERER,this.clearBeforeRender=!0,this.transparent=!!i,r.blendModesCanvas||(r.blendModesCanvas=[],r.canUseNewCanvasBlendModes()?(r.blendModesCanvas[r.blendModes.NORMAL]="source-over",r.blendModesCanvas[r.blendModes.ADD]="lighter",r.blendModesCanvas[r.blendModes.MULTIPLY]="multiply",r.blendModesCanvas[r.blendModes.SCREEN]="screen",r.blendModesCanvas[r.blendModes.OVERLAY]="overlay",r.blendModesCanvas[r.blendModes.DARKEN]="darken",r.blendModesCanvas[r.blendModes.LIGHTEN]="lighten",r.blendModesCanvas[r.blendModes.COLOR_DODGE]="color-dodge",r.blendModesCanvas[r.blendModes.COLOR_BURN]="color-burn",r.blendModesCanvas[r.blendModes.HARD_LIGHT]="hard-light",r.blendModesCanvas[r.blendModes.SOFT_LIGHT]="soft-light",r.blendModesCanvas[r.blendModes.DIFFERENCE]="difference",r.blendModesCanvas[r.blendModes.EXCLUSION]="exclusion",r.blendModesCanvas[r.blendModes.HUE]="hue",r.blendModesCanvas[r.blendModes.SATURATION]="saturation",r.blendModesCanvas[r.blendModes.COLOR]="color",r.blendModesCanvas[r.blendModes.LUMINOSITY]="luminosity"):(r.blendModesCanvas[r.blendModes.NORMAL]="source-over",r.blendModesCanvas[r.blendModes.ADD]="lighter",r.blendModesCanvas[r.blendModes.MULTIPLY]="source-over",r.blendModesCanvas[r.blendModes.SCREEN]="source-over",r.blendModesCanvas[r.blendModes.OVERLAY]="source-over",r.blendModesCanvas[r.blendModes.DARKEN]="source-over",r.blendModesCanvas[r.blendModes.LIGHTEN]="source-over",r.blendModesCanvas[r.blendModes.COLOR_DODGE]="source-over",r.blendModesCanvas[r.blendModes.COLOR_BURN]="source-over",r.blendModesCanvas[r.blendModes.HARD_LIGHT]="source-over",r.blendModesCanvas[r.blendModes.SOFT_LIGHT]="source-over",r.blendModesCanvas[r.blendModes.DIFFERENCE]="source-over",r.blendModesCanvas[r.blendModes.EXCLUSION]="source-over",r.blendModesCanvas[r.blendModes.HUE]="source-over",r.blendModesCanvas[r.blendModes.SATURATION]="source-over",r.blendModesCanvas[r.blendModes.COLOR]="source-over",r.blendModesCanvas[r.blendModes.LUMINOSITY]="source-over")),this.width=t||800,this.height=e||600,this.view=n||document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.view.width=this.width,this.view.height=this.height,this.count=0,this.maskManager=new r.CanvasMaskManager,this.renderSession={context:this.context,maskManager:this.maskManager,scaleMode:null,smoothProperty:null,roundPixels:!1},"imageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="imageSmoothingEnabled":"webkitImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="webkitImageSmoothingEnabled":"mozImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="mozImageSmoothingEnabled":"oImageSmoothingEnabled"in this.context&&(this.renderSession.smoothProperty="oImageSmoothingEnabled")},r.CanvasRenderer.prototype.constructor=r.CanvasRenderer,r.CanvasRenderer.prototype.render=function(t){r.texturesToUpdate.length=0,r.texturesToDestroy.length=0,t.updateTransform(),this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),!this.transparent&&this.clearBeforeRender?(this.context.fillStyle=t.backgroundColorString,this.context.fillRect(0,0,this.width,this.height)):this.transparent&&this.clearBeforeRender&&this.context.clearRect(0,0,this.width,this.height),this.renderDisplayObject(t),t.interactive&&(t._interactiveEventsAdded||(t._interactiveEventsAdded=!0,t.interactionManager.setTarget(this))),r.Texture.frameUpdates.length>0&&(r.Texture.frameUpdates.length=0)},r.CanvasRenderer.prototype.resize=function(t,e){this.width=t,this.height=e,this.view.width=t,this.view.height=e},r.CanvasRenderer.prototype.renderDisplayObject=function(t,e){this.renderSession.context=e||this.context,t._renderCanvas(this.renderSession)},r.CanvasRenderer.prototype.renderStripFlat=function(t){var e=this.context,r=t.verticies,n=r.length/2;this.count++,e.beginPath();for(var i=1;n-2>i;i++){var o=2*i,s=r[o],a=r[o+2],u=r[o+4],l=r[o+1],h=r[o+3],c=r[o+5];e.moveTo(s,l),e.lineTo(a,h),e.lineTo(u,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},r.CanvasRenderer.prototype.renderStrip=function(t){var e=this.context,r=t.verticies,n=t.uvs,i=r.length/2;this.count++;for(var o=1;i-2>o;o++){var s=2*o,a=r[s],u=r[s+2],l=r[s+4],h=r[s+1],c=r[s+3],f=r[s+5],p=n[s]*t.texture.width,d=n[s+2]*t.texture.width,g=n[s+4]*t.texture.width,v=n[s+1]*t.texture.height,m=n[s+3]*t.texture.height,y=n[s+5]*t.texture.height;e.save(),e.beginPath(),e.moveTo(a,h),e.lineTo(u,c),e.lineTo(l,f),e.closePath(),e.clip();var x=p*m+v*g+d*y-m*g-v*d-p*y,b=a*m+v*l+u*y-m*l-v*u-a*y,_=p*u+a*g+d*l-u*g-a*d-p*l,w=p*m*l+v*u*g+a*d*y-a*m*g-v*d*l-p*u*y,T=h*m+v*f+c*y-m*f-v*c-h*y,E=p*c+h*g+d*f-c*g-h*d-p*f,S=p*m*f+v*c*g+h*d*y-h*m*g-v*d*f-p*c*y;e.transform(b/x,T/x,_/x,E/x,w/x,S/x),e.drawImage(t.texture.baseTexture.source,0,0),e.restore()}},r.CanvasBuffer=function(t,e){this.width=t,this.height=e,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=t,this.canvas.height=e},r.CanvasBuffer.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},r.CanvasBuffer.prototype.resize=function(t,e){this.width=this.canvas.width=t,this.height=this.canvas.height=e},r.CanvasGraphics=function(){},r.CanvasGraphics.renderGraphics=function(t,e){for(var n=t.worldAlpha,i=0;i<t.graphicsData.length;i++){var o=t.graphicsData[i],s=o.points;if(e.strokeStyle="#"+("00000"+(0|o.lineColor).toString(16)).substr(-6),e.lineWidth=o.lineWidth,o.type===r.Graphics.POLY){e.beginPath(),e.moveTo(s[0],s[1]);for(var a=1;a<s.length/2;a++)e.lineTo(s[2*a],s[2*a+1]);s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|o.fillColor).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.stroke())}else if(o.type===r.Graphics.RECT)(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|o.fillColor).toString(16)).substr(-6),e.fillRect(s[0],s[1],s[2],s[3])),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.strokeRect(s[0],s[1],s[2],s[3]));else if(o.type===r.Graphics.CIRC)e.beginPath(),e.arc(s[0],s[1],s[2],0,2*Math.PI),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|o.fillColor).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.stroke());else if(o.type===r.Graphics.ELIP){var u=o.points,l=2*u[2],h=2*u[3],c=u[0]-l/2,f=u[1]-h/2;e.beginPath();var p=.5522848,d=l/2*p,g=h/2*p,v=c+l,m=f+h,y=c+l/2,x=f+h/2;e.moveTo(c,x),e.bezierCurveTo(c,x-g,y-d,f,y,f),e.bezierCurveTo(y+d,f,v,x-g,v,x),e.bezierCurveTo(v,x+g,y+d,m,y,m),e.bezierCurveTo(y-d,m,c,x+g,c,x),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|o.fillColor).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.stroke())}else if(o.type===r.Graphics.RREC){var b=s[0],_=s[1],w=s[2],T=s[3],E=s[4],S=Math.min(w,T)/2|0;E=E>S?S:E,e.beginPath(),e.moveTo(b,_+E),e.lineTo(b,_+T-E),e.quadraticCurveTo(b,_+T,b+E,_+T),e.lineTo(b+w-E,_+T),e.quadraticCurveTo(b+w,_+T,b+w,_+T-E),e.lineTo(b+w,_+E),e.quadraticCurveTo(b+w,_,b+w-E,_),e.lineTo(b+E,_),e.quadraticCurveTo(b,_,b,_+E),e.closePath(),(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|o.fillColor).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.stroke())}}},r.CanvasGraphics.renderGraphicsMask=function(t,e){var n=t.graphicsData.length;if(0!==n){n>1&&(n=1,window.console.log("Pixi.js warning: masks in canvas can only mask using the first path in the graphics object"));for(var i=0;1>i;i++){var o=t.graphicsData[i],s=o.points;if(o.type===r.Graphics.POLY){e.beginPath(),e.moveTo(s[0],s[1]);for(var a=1;a<s.length/2;a++)e.lineTo(s[2*a],s[2*a+1]);s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&e.closePath()}else if(o.type===r.Graphics.RECT)e.beginPath(),e.rect(s[0],s[1],s[2],s[3]),e.closePath();else if(o.type===r.Graphics.CIRC)e.beginPath(),e.arc(s[0],s[1],s[2],0,2*Math.PI),e.closePath();else if(o.type===r.Graphics.ELIP){var u=o.points,l=2*u[2],h=2*u[3],c=u[0]-l/2,f=u[1]-h/2;e.beginPath();var p=.5522848,d=l/2*p,g=h/2*p,v=c+l,m=f+h,y=c+l/2,x=f+h/2;e.moveTo(c,x),e.bezierCurveTo(c,x-g,y-d,f,y,f),e.bezierCurveTo(y+d,f,v,x-g,v,x),e.bezierCurveTo(v,x+g,y+d,m,y,m),e.bezierCurveTo(y-d,m,c,x+g,c,x),e.closePath()}else if(o.type===r.Graphics.RREC){var b=s[0],_=s[1],w=s[2],T=s[3],E=s[4],S=Math.min(w,T)/2|0;E=E>S?S:E,e.beginPath(),e.moveTo(b,_+E),e.lineTo(b,_+T-E),e.quadraticCurveTo(b,_+T,b+E,_+T),e.lineTo(b+w-E,_+T),e.quadraticCurveTo(b+w,_+T,b+w,_+T-E),e.lineTo(b+w,_+E),e.quadraticCurveTo(b+w,_,b+w-E,_),e.lineTo(b+E,_),e.quadraticCurveTo(b,_,b,_+E),e.closePath()}}}},r.Graphics=function(){r.DisplayObjectContainer.call(this),this.renderable=!0,this.fillAlpha=1,this.lineWidth=0,this.lineColor="black",this.graphicsData=[],this.tint=16777215,this.blendMode=r.blendModes.NORMAL,this.currentPath={points:[]},this._webGL=[],this.isMask=!1,this.bounds=null,this.boundsPadding=10,this.dirty=!0},r.Graphics.prototype=Object.create(r.DisplayObjectContainer.prototype),r.Graphics.prototype.constructor=r.Graphics,Object.defineProperty(r.Graphics.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap=t,this._cacheAsBitmap?this._generateCachedSprite():(this.destroyCachedSprite(),this.dirty=!0)}}),r.Graphics.prototype.lineStyle=function(t,e,n){return this.currentPath.points.length||this.graphicsData.pop(),this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=arguments.length<3?1:n,this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[],type:r.Graphics.POLY},this.graphicsData.push(this.currentPath),this},r.Graphics.prototype.moveTo=function(t,e){return this.currentPath.points.length||this.graphicsData.pop(),this.currentPath=this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[],type:r.Graphics.POLY},this.currentPath.points.push(t,e),this.graphicsData.push(this.currentPath),this},r.Graphics.prototype.lineTo=function(t,e){return this.currentPath.points.push(t,e),this.dirty=!0,this},r.Graphics.prototype.quadraticCurveTo=function(t,e,r,n){0===this.currentPath.points.length&&this.moveTo(0,0);var i,o,s=this.currentPath.points;0===s.length&&this.moveTo(0,0);for(var a=s[s.length-2],u=s[s.length-1],l=0,h=1;20>=h;h++)i=a+(t-a)*(l=h/20),o=u+(e-u)*l,s.push(i+(t+(r-t)*l-i)*l,o+(e+(n-e)*l-o)*l);return this.dirty=!0,this},r.Graphics.prototype.bezierCurveTo=function(t,e,r,n,i,o){0===this.currentPath.points.length&&this.moveTo(0,0);for(var s,a,u,l,h,c=this.currentPath.points,f=c[c.length-2],p=c[c.length-1],d=0,g=1;20>g;g++)u=(a=(s=1-(d=g/20))*s)*s,h=(l=d*d)*d,c.push(u*f+3*a*d*t+3*s*l*r+h*i,u*p+3*a*d*e+3*s*l*n+h*o);return this.dirty=!0,this},r.Graphics.prototype.arcTo=function(t,e,r,n,i){0===this.currentPath.points.length&&this.moveTo(t,e);var o=this.currentPath.points,s=o[o.length-2],a=o[o.length-1]-e,u=s-t,l=n-e,h=r-t,c=Math.abs(a*h-u*l);if(1e-8>c||0===i)o.push(t,e);else{var f=a*a+u*u,p=l*l+h*h,d=a*l+u*h,g=i*Math.sqrt(f)/c,v=i*Math.sqrt(p)/c,m=g*d/f,y=v*d/p,x=g*h+v*u,b=g*l+v*a,_=u*(v+m),w=a*(v+m),T=h*(g+y),E=l*(g+y),S=Math.atan2(w-b,_-x),A=Math.atan2(E-b,T-x);this.arc(x+t,b+e,i,S,A,u*l>h*a)}return this.dirty=!0,this},r.Graphics.prototype.arc=function(t,e,r,n,i,o){var s=t+Math.cos(n)*r,a=e+Math.sin(n)*r,u=this.currentPath.points;if(0===u.length&&(this.moveTo(s,a),u=this.currentPath.points),n===i)return this;!o&&n>=i?i+=2*Math.PI:o&&i>=n&&(n+=2*Math.PI);var l=o?-1*(n-i):i-n,h=Math.abs(l)/(2*Math.PI)*40;if(0===l)return this;for(var c=l/(2*h),f=2*c,p=Math.cos(c),d=Math.sin(c),g=h-1,v=g%1/g,m=0;g>=m;m++){var y=c+n+f*(m+v*m),x=Math.cos(y),b=-Math.sin(y);u.push((p*x+d*b)*r+t,(p*-b+d*x)*r+e)}return this.dirty=!0,this},r.Graphics.prototype.drawPath=function(t){return this.currentPath.points.length||this.graphicsData.pop(),this.currentPath=this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[],type:r.Graphics.POLY},this.graphicsData.push(this.currentPath),this.currentPath.points=this.currentPath.points.concat(t),this.dirty=!0,this},r.Graphics.prototype.beginFill=function(t,e){return this.filling=!0,this.fillColor=t||0,this.fillAlpha=arguments.length<2?1:e,this},r.Graphics.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},r.Graphics.prototype.drawRect=function(t,e,n,i){return this.currentPath.points.length||this.graphicsData.pop(),this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[t,e,n,i],type:r.Graphics.RECT},this.graphicsData.push(this.currentPath),this.dirty=!0,this},r.Graphics.prototype.drawRoundedRect=function(t,e,n,i,o){return this.currentPath.points.length||this.graphicsData.pop(),this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[t,e,n,i,o],type:r.Graphics.RREC},this.graphicsData.push(this.currentPath),this.dirty=!0,this},r.Graphics.prototype.drawCircle=function(t,e,n){return this.currentPath.points.length||this.graphicsData.pop(),this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[t,e,n,n],type:r.Graphics.CIRC},this.graphicsData.push(this.currentPath),this.dirty=!0,this},r.Graphics.prototype.drawEllipse=function(t,e,n,i){return this.currentPath.points.length||this.graphicsData.pop(),this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[t,e,n,i],type:r.Graphics.ELIP},this.graphicsData.push(this.currentPath),this.dirty=!0,this},r.Graphics.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this.bounds=null,this},r.Graphics.prototype.generateTexture=function(){var t=this.getBounds(),e=new r.CanvasBuffer(t.width,t.height),n=r.Texture.fromCanvas(e.canvas);return e.context.translate(-t.x,-t.y),r.CanvasGraphics.renderGraphics(this,e.context),n},r.Graphics.prototype._renderWebGL=function(t){if(!1!==this.visible&&0!==this.alpha&&!0!==this.isMask){if(this._cacheAsBitmap)return this.dirty&&(this._generateCachedSprite(),r.updateWebGLTexture(this._cachedSprite.texture.baseTexture,t.gl),this.dirty=!1),this._cachedSprite.alpha=this.alpha,void r.Sprite.prototype._renderWebGL.call(this._cachedSprite,t);if(t.spriteBatch.stop(),t.blendModeManager.setBlendMode(this.blendMode),this._mask&&t.maskManager.pushMask(this._mask,t),this._filters&&t.filterManager.pushFilter(this._filterBlock),this.blendMode!==t.spriteBatch.currentBlendMode){t.spriteBatch.currentBlendMode=this.blendMode;var e=r.blendModesWebGL[t.spriteBatch.currentBlendMode];t.spriteBatch.gl.blendFunc(e[0],e[1])}if(r.WebGLGraphics.renderGraphics(this,t),this.children.length){t.spriteBatch.start();for(var n=0,i=this.children.length;i>n;n++)this.children[n]._renderWebGL(t);t.spriteBatch.stop()}this._filters&&t.filterManager.popFilter(),this._mask&&t.maskManager.popMask(this.mask,t),t.drawCount++,t.spriteBatch.start()}},r.Graphics.prototype._renderCanvas=function(t){if(!1!==this.visible&&0!==this.alpha&&!0!==this.isMask){var e=t.context,n=this.worldTransform;this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,e.globalCompositeOperation=r.blendModesCanvas[t.currentBlendMode]),this._mask&&t.maskManager.pushMask(this._mask,t.context),e.setTransform(n.a,n.c,n.b,n.d,n.tx,n.ty),r.CanvasGraphics.renderGraphics(this,e);for(var i=0,o=this.children.length;o>i;i++)this.children[i]._renderCanvas(t);this._mask&&t.maskManager.popMask(t.context)}},r.Graphics.prototype.getBounds=function(t){this.bounds||this.updateBounds();var e=this.bounds.x,r=this.bounds.width+this.bounds.x,n=this.bounds.y,i=this.bounds.height+this.bounds.y,o=t||this.worldTransform,s=o.a,a=o.c,u=o.b,l=o.d,h=o.tx,c=o.ty,f=s*r+u*i+h,p=l*i+a*r+c,d=s*e+u*i+h,g=l*i+a*e+c,v=s*e+u*n+h,m=l*n+a*e+c,y=s*r+u*n+h,x=l*n+a*r+c,b=f,_=p,w=f,T=p;w=(w=(w=w>d?d:w)>v?v:w)>y?y:w,T=(T=(T=T>g?g:T)>m?m:T)>x?x:T,b=y>(b=v>(b=d>b?d:b)?v:b)?y:b,_=x>(_=m>(_=g>_?g:_)?m:_)?x:_;var E=this._bounds;return E.x=w,E.width=b-w,E.y=T,E.height=_-T,E},r.Graphics.prototype.updateBounds=function(){for(var t,e,n,i,o,s=1/0,a=-1/0,u=1/0,l=-1/0,h=0;h<this.graphicsData.length;h++){var c=this.graphicsData[h],f=c.type,p=c.lineWidth;if(t=c.points,f===r.Graphics.RECT)e=t[0]-p/2,n=t[1]-p/2,i=t[2]+p,o=t[3]+p,s=s>e?e:s,a=e+i>a?e+i:a,u=u>n?e:u,l=n+o>l?n+o:l;else if(f===r.Graphics.CIRC||f===r.Graphics.ELIP)e=t[0],n=t[1],i=t[2]+p/2,o=t[3]+p/2,s=s>e-i?e-i:s,a=e+i>a?e+i:a,u=u>n-o?n-o:u,l=n+o>l?n+o:l;else for(var d=0;d<t.length;d+=2)e=t[d],n=t[d+1],s=s>e-p?e-p:s,a=e+p>a?e+p:a,u=u>n-p?n-p:u,l=n+p>l?n+p:l}var g=this.boundsPadding;this.bounds=new r.Rectangle(s-g,u-g,a-s+2*g,l-u+2*g)},r.Graphics.prototype._generateCachedSprite=function(){var t=this.getLocalBounds();if(this._cachedSprite)this._cachedSprite.buffer.resize(t.width,t.height);else{var e=new r.CanvasBuffer(t.width,t.height),n=r.Texture.fromCanvas(e.canvas);this._cachedSprite=new r.Sprite(n),this._cachedSprite.buffer=e,this._cachedSprite.worldTransform=this.worldTransform}this._cachedSprite.anchor.x=-t.x/t.width,this._cachedSprite.anchor.y=-t.y/t.height,this._cachedSprite.buffer.context.translate(-t.x,-t.y),r.CanvasGraphics.renderGraphics(this,this._cachedSprite.buffer.context),this._cachedSprite.alpha=this.alpha},r.Graphics.prototype.destroyCachedSprite=function(){this._cachedSprite.texture.destroy(!0),this._cachedSprite=null},r.Graphics.POLY=0,r.Graphics.RECT=1,r.Graphics.CIRC=2,r.Graphics.ELIP=3,r.Graphics.RREC=4,r.Strip=function(t){r.DisplayObjectContainer.call(this),this.texture=t,this.uvs=new r.Float32Array([0,1,1,1,1,0,0,1]),this.verticies=new r.Float32Array([0,0,100,0,100,100,0,100]),this.colors=new r.Float32Array([1,1,1,1]),this.indices=new r.Uint16Array([0,1,2,3]),this.dirty=!0},r.Strip.prototype=Object.create(r.DisplayObjectContainer.prototype),r.Strip.prototype.constructor=r.Strip,r.Strip.prototype._renderWebGL=function(t){!this.visible||this.alpha<=0||(t.spriteBatch.stop(),this._vertexBuffer||this._initWebGL(t),t.shaderManager.setShader(t.shaderManager.stripShader),this._renderStrip(t),t.spriteBatch.start())},r.Strip.prototype._initWebGL=function(t){var e=t.gl;this._vertexBuffer=e.createBuffer(),this._indexBuffer=e.createBuffer(),this._uvBuffer=e.createBuffer(),this._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.verticies,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvs,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this._colorBuffer),e.bufferData(e.ARRAY_BUFFER,this.colors,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW)},r.Strip.prototype._renderStrip=function(t){var e=t.gl,n=t.projection,i=t.offset,o=t.shaderManager.stripShader;e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),e.uniformMatrix3fv(o.translationMatrix,!1,this.worldTransform.toArray(!0)),e.uniform2f(o.projectionVector,n.x,-n.y),e.uniform2f(o.offsetVector,-i.x,-i.y),e.uniform1f(o.alpha,1),this.dirty?(this.dirty=!1,e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.verticies,e.STATIC_DRAW),e.vertexAttribPointer(o.aVertexPosition,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvs,e.STATIC_DRAW),e.vertexAttribPointer(o.aTextureCoord,2,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.texture.baseTexture._glTextures[e.id]||r.createWebGLTexture(this.texture.baseTexture,e)),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW)):(e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferSubData(e.ARRAY_BUFFER,0,this.verticies),e.vertexAttribPointer(o.aVertexPosition,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.vertexAttribPointer(o.aTextureCoord,2,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.texture.baseTexture._glTextures[e.id]||r.createWebGLTexture(this.texture.baseTexture,e)),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer)),e.drawElements(e.TRIANGLE_STRIP,this.indices.length,e.UNSIGNED_SHORT,0)},r.Strip.prototype._renderCanvas=function(t){var e=t.context,r=this.worldTransform;t.roundPixels?e.setTransform(r.a,r.c,r.b,r.d,0|r.tx,0|r.ty):e.setTransform(r.a,r.c,r.b,r.d,r.tx,r.ty);var n=this,i=n.verticies,o=n.uvs,s=i.length/2;this.count++;for(var a=0;s-2>a;a++){var u=2*a,l=i[u],h=i[u+2],c=i[u+4],f=i[u+1],p=i[u+3],d=i[u+5],g=(l+h+c)/3,v=(f+p+d)/3,m=l-g,y=f-v,x=Math.sqrt(m*m+y*y);l=g+m/x*(x+3),f=v+y/x*(x+3),y=p-v,h=g+(m=h-g)/(x=Math.sqrt(m*m+y*y))*(x+3),p=v+y/x*(x+3),y=d-v,c=g+(m=c-g)/(x=Math.sqrt(m*m+y*y))*(x+3),d=v+y/x*(x+3);var b=o[u]*n.texture.width,_=o[u+2]*n.texture.width,w=o[u+4]*n.texture.width,T=o[u+1]*n.texture.height,E=o[u+3]*n.texture.height,S=o[u+5]*n.texture.height;e.save(),e.beginPath(),e.moveTo(l,f),e.lineTo(h,p),e.lineTo(c,d),e.closePath(),e.clip();var A=b*E+T*w+_*S-E*w-T*_-b*S,C=l*E+T*c+h*S-E*c-T*h-l*S,M=b*h+l*w+_*c-h*w-l*_-b*c,R=b*E*c+T*h*w+l*_*S-l*E*w-T*_*c-b*h*S,O=f*E+T*d+p*S-E*d-T*p-f*S,P=b*p+f*w+_*d-p*w-f*_-b*d,D=b*E*d+T*p*w+f*_*S-f*E*w-T*_*d-b*p*S;e.transform(C/A,O/A,M/A,P/A,R/A,D/A),e.drawImage(n.texture.baseTexture.source,0,0),e.restore()}},r.Strip.prototype.onTextureUpdate=function(){this.updateFrame=!0},r.Rope=function(t,e){r.Strip.call(this,t),this.points=e,this.verticies=new r.Float32Array(4*e.length),this.uvs=new r.Float32Array(4*e.length),this.colors=new r.Float32Array(2*e.length),this.indices=new r.Uint16Array(2*e.length),this.refresh()},r.Rope.prototype=Object.create(r.Strip.prototype),r.Rope.prototype.constructor=r.Rope,r.Rope.prototype.refresh=function(){var t=this.points;if(!(t.length<1)){var e=this.uvs,r=(t[0],this.indices),n=this.colors;this.count-=.2,e[0]=0,e[1]=0,e[2]=0,e[3]=1,n[0]=1,n[1]=1,r[0]=0,r[1]=1;for(var i,o,s,a=t.length,u=1;a>u;u++)i=t[u],s=u/(a-1),e[o=4*u]=s,e[o+1]=0,e[o+2]=s,e[o+3]=1,n[o=2*u]=1,n[o+1]=1,r[o=2*u]=o,r[o+1]=o+1,i}},r.Rope.prototype.updateTransform=function(){var t=this.points;if(!(t.length<1)){var e,n=t[0],i={x:0,y:0};this.count-=.2;for(var o,s,a,u,l=this.verticies,h=t.length,c=0;h>c;c++)o=t[c],s=4*c,e=c<t.length-1?t[c+1]:o,i.y=-(e.x-n.x),i.x=e.y-n.y,10*(1-c/(h-1))>1&&1,a=Math.sqrt(i.x*i.x+i.y*i.y),u=this.texture.height/2,i.x/=a,i.y/=a,i.x*=u,i.y*=u,l[s]=o.x+i.x,l[s+1]=o.y+i.y,l[s+2]=o.x-i.x,l[s+3]=o.y-i.y,n=o;r.DisplayObjectContainer.prototype.updateTransform.call(this)}},r.Rope.prototype.setTexture=function(t){this.texture=t},r.TilingSprite=function(t,e,n){r.Sprite.call(this,t),this._width=e||100,this._height=n||100,this.tileScale=new r.Point(1,1),this.tileScaleOffset=new r.Point(1,1),this.tilePosition=new r.Point(0,0),this.renderable=!0,this.tint=16777215,this.blendMode=r.blendModes.NORMAL},r.TilingSprite.prototype=Object.create(r.Sprite.prototype),r.TilingSprite.prototype.constructor=r.TilingSprite,Object.defineProperty(r.TilingSprite.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t}}),Object.defineProperty(r.TilingSprite.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t}}),r.TilingSprite.prototype.setTexture=function(t){this.texture!==t&&(this.texture=t,this.refreshTexture=!0,this.cachedTint=16777215)},r.TilingSprite.prototype._renderWebGL=function(t){if(!1!==this.visible&&0!==this.alpha){var e,n;for(this._mask&&(t.spriteBatch.stop(),t.maskManager.pushMask(this.mask,t),t.spriteBatch.start()),this._filters&&(t.spriteBatch.flush(),t.filterManager.pushFilter(this._filterBlock)),!this.tilingTexture||this.refreshTexture?(this.generateTilingTexture(!0),this.tilingTexture&&this.tilingTexture.needsUpdate&&(r.updateWebGLTexture(this.tilingTexture.baseTexture,t.gl),this.tilingTexture.needsUpdate=!1)):t.spriteBatch.renderTilingSprite(this),e=0,n=this.children.length;n>e;e++)this.children[e]._renderWebGL(t);t.spriteBatch.stop(),this._filters&&t.filterManager.popFilter(),this._mask&&t.maskManager.popMask(t),t.spriteBatch.start()}},r.TilingSprite.prototype._renderCanvas=function(t){if(!1!==this.visible&&0!==this.alpha){var e=t.context;this._mask&&t.maskManager.pushMask(this._mask,e),e.globalAlpha=this.worldAlpha;var n,i,o=this.worldTransform;if(e.setTransform(o.a,o.c,o.b,o.d,o.tx,o.ty),!this.__tilePattern||this.refreshTexture){if(this.generateTilingTexture(!1),!this.tilingTexture)return;this.__tilePattern=e.createPattern(this.tilingTexture.baseTexture.source,"repeat")}this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,e.globalCompositeOperation=r.blendModesCanvas[t.currentBlendMode]);var s=this.tilePosition,a=this.tileScale;for(s.x%=this.tilingTexture.baseTexture.width,s.y%=this.tilingTexture.baseTexture.height,e.scale(a.x,a.y),e.translate(s.x,s.y),e.fillStyle=this.__tilePattern,e.fillRect(-s.x+this.anchor.x*-this._width,-s.y+this.anchor.y*-this._height,this._width/a.x,this._height/a.y),e.scale(1/a.x,1/a.y),e.translate(-s.x,-s.y),this._mask&&t.maskManager.popMask(t.context),n=0,i=this.children.length;i>n;n++)this.children[n]._renderCanvas(t)}},r.TilingSprite.prototype.getBounds=function(){var t=this._width,e=this._height,r=t*(1-this.anchor.x),n=t*-this.anchor.x,i=e*(1-this.anchor.y),o=e*-this.anchor.y,s=this.worldTransform,a=s.a,u=s.c,l=s.b,h=s.d,c=s.tx,f=s.ty,p=a*n+l*o+c,d=h*o+u*n+f,g=a*r+l*o+c,v=h*o+u*r+f,m=a*r+l*i+c,y=h*i+u*r+f,x=a*n+l*i+c,b=h*i+u*n+f,_=-1/0,w=-1/0,T=1/0,E=1/0;T=(T=(T=(T=T>p?p:T)>g?g:T)>m?m:T)>x?x:T,E=(E=(E=(E=E>d?d:E)>v?v:E)>y?y:E)>b?b:E,_=x>(_=m>(_=g>(_=p>_?p:_)?g:_)?m:_)?x:_,w=b>(w=y>(w=v>(w=d>w?d:w)?v:w)?y:w)?b:w;var S=this._bounds;return S.x=T,S.width=_-T,S.y=E,S.height=w-E,this._currentBounds=S,S},r.TilingSprite.prototype.onTextureUpdate=function(){},r.TilingSprite.prototype.generateTilingTexture=function(t){if(this.texture.baseTexture.hasLoaded){var e,n,i,o=this.texture,s=o.frame,a=s.width!==o.baseTexture.width||s.height!==o.baseTexture.height,u=!1;if(t?(e=r.getNextPowerOfTwo(s.width),n=r.getNextPowerOfTwo(s.height),(s.width!==e||s.height!==n)&&(u=!0)):a&&(e=s.width,n=s.height,u=!0),u)this.tilingTexture&&this.tilingTexture.isTiling?((i=this.tilingTexture.canvasBuffer).resize(e,n),this.tilingTexture.baseTexture.width=e,this.tilingTexture.baseTexture.height=n,this.tilingTexture.needsUpdate=!0):(i=new r.CanvasBuffer(e,n),this.tilingTexture=r.Texture.fromCanvas(i.canvas),this.tilingTexture.canvasBuffer=i,this.tilingTexture.isTiling=!0),i.context.drawImage(o.baseTexture.source,o.crop.x,o.crop.y,o.crop.width,o.crop.height,0,0,e,n),this.tileScaleOffset.x=s.width/e,this.tileScaleOffset.y=s.height/n;else this.tilingTexture&&this.tilingTexture.isTiling&&this.tilingTexture.destroy(!0),this.tileScaleOffset.x=1,this.tileScaleOffset.y=1,this.tilingTexture=o;this.refreshTexture=!1,this.tilingTexture.baseTexture._powerOf2=!0}};var s={BoneData:function(t,e){this.name=t,this.parent=e}};s.BoneData.prototype={length:0,x:0,y:0,rotation:0,scaleX:1,scaleY:1},s.SlotData=function(t,e){this.name=t,this.boneData=e},s.SlotData.prototype={r:1,g:1,b:1,a:1,attachmentName:null},s.Bone=function(t,e){this.data=t,this.parent=e,this.setToSetupPose()},s.Bone.yDown=!1,s.Bone.prototype={x:0,y:0,rotation:0,scaleX:1,scaleY:1,m00:0,m01:0,worldX:0,m10:0,m11:0,worldY:0,worldRotation:0,worldScaleX:1,worldScaleY:1,updateWorldTransform:function(t,e){var r=this.parent;null!=r?(this.worldX=this.x*r.m00+this.y*r.m01+r.worldX,this.worldY=this.x*r.m10+this.y*r.m11+r.worldY,this.worldScaleX=r.worldScaleX*this.scaleX,this.worldScaleY=r.worldScaleY*this.scaleY,this.worldRotation=r.worldRotation+this.rotation):(this.worldX=this.x,this.worldY=this.y,this.worldScaleX=this.scaleX,this.worldScaleY=this.scaleY,this.worldRotation=this.rotation);var n=this.worldRotation*Math.PI/180,i=Math.cos(n),o=Math.sin(n);this.m00=i*this.worldScaleX,this.m10=o*this.worldScaleX,this.m01=-o*this.worldScaleY,this.m11=i*this.worldScaleY,t&&(this.m00=-this.m00,this.m01=-this.m01),e&&(this.m10=-this.m10,this.m11=-this.m11),s.Bone.yDown&&(this.m10=-this.m10,this.m11=-this.m11)},setToSetupPose:function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY}},s.Slot=function(t,e,r){this.data=t,this.skeleton=e,this.bone=r,this.setToSetupPose()},s.Slot.prototype={r:1,g:1,b:1,a:1,_attachmentTime:0,attachment:null,setAttachment:function(t){this.attachment=t,this._attachmentTime=this.skeleton.time},setAttachmentTime:function(t){this._attachmentTime=this.skeleton.time-t},getAttachmentTime:function(){return this.skeleton.time-this._attachmentTime},setToSetupPose:function(){var t=this.data;this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a;for(var e=this.skeleton.data.slots,r=0,n=e.length;n>r;r++)if(e[r]==t){this.setAttachment(t.attachmentName?this.skeleton.getAttachmentBySlotIndex(r,t.attachmentName):null);break}}},s.Skin=function(t){this.name=t,this.attachments={}},s.Skin.prototype={addAttachment:function(t,e,r){this.attachments[t+":"+e]=r},getAttachment:function(t,e){return this.attachments[t+":"+e]},_attachAll:function(t,e){for(var r in e.attachments){var n=r.indexOf(":"),i=parseInt(r.substring(0,n),10),o=r.substring(n+1),s=t.slots[i];if(s.attachment&&s.attachment.name==o){var a=this.getAttachment(i,o);a&&s.setAttachment(a)}}}},s.Animation=function(t,e,r){this.name=t,this.timelines=e,this.duration=r},s.Animation.prototype={apply:function(t,e,r){r&&this.duration&&(e%=this.duration);for(var n=this.timelines,i=0,o=n.length;o>i;i++)n[i].apply(t,e,1)},mix:function(t,e,r,n){r&&this.duration&&(e%=this.duration);for(var i=this.timelines,o=0,s=i.length;s>o;o++)i[o].apply(t,e,n)}},s.binarySearch=function(t,e,r){var n=0,i=Math.floor(t.length/r)-2;if(!i)return r;for(var o=i>>>1;;){if(t[(o+1)*r]<=e?n=o+1:i=o,n==i)return(n+1)*r;o=n+i>>>1}},s.linearSearch=function(t,e,r){for(var n=0,i=t.length-r;i>=n;n+=r)if(t[n]>e)return n;return-1},s.Curves=function(t){this.curves=[],this.curves.length=6*(t-1)},s.Curves.prototype={setLinear:function(t){this.curves[6*t]=0},setStepped:function(t){this.curves[6*t]=-1},setCurve:function(t,e,r,n,i){var o=.1*.1,s=.1*o,a=3*o,u=6*o,l=6*s,h=2*-e+n,c=2*-r+i,f=3*(e-n)+1,p=3*(r-i)+1,d=6*t,g=this.curves;g[d]=e*(3*.1)+h*a+f*s,g[d+1]=r*(3*.1)+c*a+p*s,g[d+2]=h*u+f*l,g[d+3]=c*u+p*l,g[d+4]=f*l,g[d+5]=p*l},getCurvePercent:function(t,e){e=0>e?0:e>1?1:e;var r=6*t,n=this.curves,i=n[r];if(!i)return e;if(-1==i)return 0;for(var o=n[r+1],s=n[r+2],a=n[r+3],u=n[r+4],l=n[r+5],h=i,c=o,f=8;;){if(h>=e){var p=h-i,d=c-o;return d+(c-d)*(e-p)/(h-p)}if(!f)break;f--,i+=s,o+=a,s+=u,a+=l,h+=i,c+=o}return c+(1-c)*(e-h)/(1-h)}},s.RotateTimeline=function(t){this.curves=new s.Curves(t),this.frames=[],this.frames.length=2*t},s.RotateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(t,e,r){t*=2,this.frames[t]=e,this.frames[t+1]=r},apply:function(t,e,r){var n,i=this.frames;if(!(e<i[0])){var o=t.bones[this.boneIndex];if(e>=i[i.length-2]){for(n=o.data.rotation+i[i.length-1]-o.rotation;n>180;)n-=360;for(;-180>n;)n+=360;return void(o.rotation+=n*r)}var a=s.binarySearch(i,e,2),u=i[a-1],l=i[a],h=1-(e-l)/(i[a-2]-l);for(h=this.curves.getCurvePercent(a/2-1,h),n=i[a+1]-u;n>180;)n-=360;for(;-180>n;)n+=360;for(n=o.data.rotation+(u+n*h)-o.rotation;n>180;)n-=360;for(;-180>n;)n+=360;o.rotation+=n*r}}},s.TranslateTimeline=function(t){this.curves=new s.Curves(t),this.frames=[],this.frames.length=3*t},s.TranslateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(t,e,r,n){t*=3,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=n},apply:function(t,e,r){var n=this.frames;if(!(e<n[0])){var i=t.bones[this.boneIndex];if(e>=n[n.length-3])return i.x+=(i.data.x+n[n.length-2]-i.x)*r,void(i.y+=(i.data.y+n[n.length-1]-i.y)*r);var o=s.binarySearch(n,e,3),a=n[o-2],u=n[o-1],l=n[o],h=1-(e-l)/(n[o+-3]-l);h=this.curves.getCurvePercent(o/3-1,h),i.x+=(i.data.x+a+(n[o+1]-a)*h-i.x)*r,i.y+=(i.data.y+u+(n[o+2]-u)*h-i.y)*r}}},s.ScaleTimeline=function(t){this.curves=new s.Curves(t),this.frames=[],this.frames.length=3*t},s.ScaleTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(t,e,r,n){t*=3,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=n},apply:function(t,e,r){var n=this.frames;if(!(e<n[0])){var i=t.bones[this.boneIndex];if(e>=n[n.length-3])return i.scaleX+=(i.data.scaleX-1+n[n.length-2]-i.scaleX)*r,void(i.scaleY+=(i.data.scaleY-1+n[n.length-1]-i.scaleY)*r);var o=s.binarySearch(n,e,3),a=n[o-2],u=n[o-1],l=n[o],h=1-(e-l)/(n[o+-3]-l);h=this.curves.getCurvePercent(o/3-1,h),i.scaleX+=(i.data.scaleX-1+a+(n[o+1]-a)*h-i.scaleX)*r,i.scaleY+=(i.data.scaleY-1+u+(n[o+2]-u)*h-i.scaleY)*r}}},s.ColorTimeline=function(t){this.curves=new s.Curves(t),this.frames=[],this.frames.length=5*t},s.ColorTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length/5},setFrame:function(t,e,r,n,i,o){t*=5,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=n,this.frames[t+3]=i,this.frames[t+4]=o},apply:function(t,e,r){var n=this.frames;if(!(e<n[0])){var i=t.slots[this.slotIndex];if(e>=n[n.length-5]){var o=n.length-1;return i.r=n[o-3],i.g=n[o-2],i.b=n[o-1],void(i.a=n[o])}var a=s.binarySearch(n,e,5),u=n[a-4],l=n[a-3],h=n[a-2],c=n[a-1],f=n[a],p=1-(e-f)/(n[a-5]-f);p=this.curves.getCurvePercent(a/5-1,p);var d=u+(n[a+1]-u)*p,g=l+(n[a+2]-l)*p,v=h+(n[a+3]-h)*p,m=c+(n[a+4]-c)*p;1>r?(i.r+=(d-i.r)*r,i.g+=(g-i.g)*r,i.b+=(v-i.b)*r,i.a+=(m-i.a)*r):(i.r=d,i.g=g,i.b=v,i.a=m)}}},s.AttachmentTimeline=function(t){this.curves=new s.Curves(t),this.frames=[],this.frames.length=t,this.attachmentNames=[],this.attachmentNames.length=t},s.AttachmentTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length},setFrame:function(t,e,r){this.frames[t]=e,this.attachmentNames[t]=r},apply:function(t,e){var r=this.frames;if(!(e<r[0])){var n;n=e>=r[r.length-1]?r.length-1:s.binarySearch(r,e,1)-1;var i=this.attachmentNames[n];t.slots[this.slotIndex].setAttachment(i?t.getAttachmentBySlotIndex(this.slotIndex,i):null)}}},s.SkeletonData=function(){this.bones=[],this.slots=[],this.skins=[],this.animations=[]},s.SkeletonData.prototype={defaultSkin:null,findBone:function(t){for(var e=this.bones,r=0,n=e.length;n>r;r++)if(e[r].name==t)return e[r];return null},findBoneIndex:function(t){for(var e=this.bones,r=0,n=e.length;n>r;r++)if(e[r].name==t)return r;return-1},findSlot:function(t){for(var e=this.slots,r=0,n=e.length;n>r;r++)if(e[r].name==t)return slot[r];return null},findSlotIndex:function(t){for(var e=this.slots,r=0,n=e.length;n>r;r++)if(e[r].name==t)return r;return-1},findSkin:function(t){for(var e=this.skins,r=0,n=e.length;n>r;r++)if(e[r].name==t)return e[r];return null},findAnimation:function(t){for(var e=this.animations,r=0,n=e.length;n>r;r++)if(e[r].name==t)return e[r];return null}},s.Skeleton=function(t){this.data=t,this.bones=[];for(var e=0,r=t.bones.length;r>e;e++){var n=t.bones[e],i=n.parent?this.bones[t.bones.indexOf(n.parent)]:null;this.bones.push(new s.Bone(n,i))}for(this.slots=[],this.drawOrder=[],e=0,r=t.slots.length;r>e;e++){var o=t.slots[e],a=this.bones[t.bones.indexOf(o.boneData)],u=new s.Slot(o,this,a);this.slots.push(u),this.drawOrder.push(u)}},s.Skeleton.prototype={x:0,y:0,skin:null,r:1,g:1,b:1,a:1,time:0,flipX:!1,flipY:!1,updateWorldTransform:function(){for(var t=this.flipX,e=this.flipY,r=this.bones,n=0,i=r.length;i>n;n++)r[n].updateWorldTransform(t,e)},setToSetupPose:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},setBonesToSetupPose:function(){for(var t=this.bones,e=0,r=t.length;r>e;e++)t[e].setToSetupPose()},setSlotsToSetupPose:function(){for(var t=this.slots,e=0,r=t.length;r>e;e++)t[e].setToSetupPose(e)},getRootBone:function(){return this.bones.length?this.bones[0]:null},findBone:function(t){for(var e=this.bones,r=0,n=e.length;n>r;r++)if(e[r].data.name==t)return e[r];return null},findBoneIndex:function(t){for(var e=this.bones,r=0,n=e.length;n>r;r++)if(e[r].data.name==t)return r;return-1},findSlot:function(t){for(var e=this.slots,r=0,n=e.length;n>r;r++)if(e[r].data.name==t)return e[r];return null},findSlotIndex:function(t){for(var e=this.slots,r=0,n=e.length;n>r;r++)if(e[r].data.name==t)return r;return-1},setSkinByName:function(t){var e=this.data.findSkin(t);if(!e)throw"Skin not found: "+t;this.setSkin(e)},setSkin:function(t){this.skin&&t&&t._attachAll(this,this.skin),this.skin=t},getAttachmentBySlotName:function(t,e){return this.getAttachmentBySlotIndex(this.data.findSlotIndex(t),e)},getAttachmentBySlotIndex:function(t,e){if(this.skin){var r=this.skin.getAttachment(t,e);if(r)return r}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},setAttachment:function(t,e){for(var r=this.slots,n=0,i=r.size;i>n;n++){var o=r[n];if(o.data.name==t){var s=null;if(e&&null==(s=this.getAttachment(n,e)))throw"Attachment not found: "+e+", for slot: "+t;return void o.setAttachment(s)}}throw"Slot not found: "+t},update:function(t){time+=t}},s.AttachmentType={region:0},s.RegionAttachment=function(){this.offset=[],this.offset.length=8,this.uvs=[],this.uvs.length=8},s.RegionAttachment.prototype={x:0,y:0,rotation:0,scaleX:1,scaleY:1,width:0,height:0,rendererObject:null,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,setUVs:function(t,e,r,n,i){var o=this.uvs;i?(o[2]=t,o[3]=n,o[4]=t,o[5]=e,o[6]=r,o[7]=e,o[0]=r,o[1]=n):(o[0]=t,o[1]=n,o[2]=t,o[3]=e,o[4]=r,o[5]=e,o[6]=r,o[7]=n)},updateOffset:function(){var t=this.width/this.regionOriginalWidth*this.scaleX,e=this.height/this.regionOriginalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.regionOffsetX*t,n=-this.height/2*this.scaleY+this.regionOffsetY*e,i=r+this.regionWidth*t,o=n+this.regionHeight*e,s=this.rotation*Math.PI/180,a=Math.cos(s),u=Math.sin(s),l=r*a+this.x,h=r*u,c=n*a+this.y,f=n*u,p=i*a+this.x,d=i*u,g=o*a+this.y,v=o*u,m=this.offset;m[0]=l-f,m[1]=c+h,m[2]=l-v,m[3]=g+h,m[4]=p-v,m[5]=g+d,m[6]=p-f,m[7]=c+d},computeVertices:function(t,e,r,n){t+=r.worldX,e+=r.worldY;var i=r.m00,o=r.m01,s=r.m10,a=r.m11,u=this.offset;n[0]=u[0]*i+u[1]*o+t,n[1]=u[0]*s+u[1]*a+e,n[2]=u[2]*i+u[3]*o+t,n[3]=u[2]*s+u[3]*a+e,n[4]=u[4]*i+u[5]*o+t,n[5]=u[4]*s+u[5]*a+e,n[6]=u[6]*i+u[7]*o+t,n[7]=u[6]*s+u[7]*a+e}},s.AnimationStateData=function(t){this.skeletonData=t,this.animationToMixTime={}},s.AnimationStateData.prototype={defaultMix:0,setMixByName:function(t,e,r){var n=this.skeletonData.findAnimation(t);if(!n)throw"Animation not found: "+t;var i=this.skeletonData.findAnimation(e);if(!i)throw"Animation not found: "+e;this.setMix(n,i,r)},setMix:function(t,e,r){this.animationToMixTime[t.name+":"+e.name]=r},getMix:function(t,e){var r=this.animationToMixTime[t.name+":"+e.name];return r||this.defaultMix}},s.AnimationState=function(t){this.data=t,this.queue=[]},s.AnimationState.prototype={animationSpeed:1,current:null,previous:null,currentTime:0,previousTime:0,currentLoop:!1,previousLoop:!1,mixTime:0,mixDuration:0,update:function(t){if(this.currentTime+=t*this.animationSpeed,this.previousTime+=t,this.mixTime+=t,this.queue.length>0){var e=this.queue[0];this.currentTime>=e.delay&&(this._setAnimation(e.animation,e.loop),this.queue.shift())}},apply:function(t){if(this.current)if(this.previous){this.previous.apply(t,this.previousTime,this.previousLoop);var e=this.mixTime/this.mixDuration;e>=1&&(e=1,this.previous=null),this.current.mix(t,this.currentTime,this.currentLoop,e)}else this.current.apply(t,this.currentTime,this.currentLoop)},clearAnimation:function(){this.previous=null,this.current=null,this.queue.length=0},_setAnimation:function(t,e){this.previous=null,t&&this.current&&(this.mixDuration=this.data.getMix(this.current,t),this.mixDuration>0&&(this.mixTime=0,this.previous=this.current,this.previousTime=this.currentTime,this.previousLoop=this.currentLoop)),this.current=t,this.currentLoop=e,this.currentTime=0},setAnimationByName:function(t,e){var r=this.data.skeletonData.findAnimation(t);if(!r)throw"Animation not found: "+t;this.setAnimation(r,e)},setAnimation:function(t,e){this.queue.length=0,this._setAnimation(t,e)},addAnimationByName:function(t,e,r){var n=this.data.skeletonData.findAnimation(t);if(!n)throw"Animation not found: "+t;this.addAnimation(n,e,r)},addAnimation:function(t,e,r){var n={};if(n.animation=t,n.loop=e,!r||0>=r){var i=this.queue.length?this.queue[this.queue.length-1].animation:this.current;r=null!=i?i.duration-this.data.getMix(i,t)+(r||0):0}n.delay=r,this.queue.push(n)},isComplete:function(){return!this.current||this.currentTime>=this.current.duration}},s.SkeletonJson=function(t){this.attachmentLoader=t},s.SkeletonJson.prototype={scale:1,readSkeletonData:function(t){for(var e,r=new s.SkeletonData,n=t.bones,i=0,o=n.length;o>i;i++){var a=n[i],u=null;if(a.parent&&!(u=r.findBone(a.parent)))throw"Parent bone not found: "+a.parent;(e=new s.BoneData(a.name,u)).length=(a.length||0)*this.scale,e.x=(a.x||0)*this.scale,e.y=(a.y||0)*this.scale,e.rotation=a.rotation||0,e.scaleX=a.scaleX||1,e.scaleY=a.scaleY||1,r.bones.push(e)}var l=t.slots;for(i=0,o=l.length;o>i;i++){var h=l[i];if(!(e=r.findBone(h.bone)))throw"Slot bone not found: "+h.bone;var c=new s.SlotData(h.name,e),f=h.color;f&&(c.r=s.SkeletonJson.toColor(f,0),c.g=s.SkeletonJson.toColor(f,1),c.b=s.SkeletonJson.toColor(f,2),c.a=s.SkeletonJson.toColor(f,3)),c.attachmentName=h.attachment,r.slots.push(c)}var p=t.skins;for(var d in p)if(p.hasOwnProperty(d)){var g=p[d],v=new s.Skin(d);for(var m in g)if(g.hasOwnProperty(m)){var y=r.findSlotIndex(m),x=g[m];for(var b in x)if(x.hasOwnProperty(b)){var _=this.readAttachment(v,b,x[b]);null!=_&&v.addAttachment(y,b,_)}}r.skins.push(v),"default"==v.name&&(r.defaultSkin=v)}var w=t.animations;for(var T in w)w.hasOwnProperty(T)&&this.readAnimation(T,w[T],r);return r},readAttachment:function(t,e,r){e=r.name||e;var n=s.AttachmentType[r.type||"region"];if(n==s.AttachmentType.region){var i=new s.RegionAttachment;return i.x=(r.x||0)*this.scale,i.y=(r.y||0)*this.scale,i.scaleX=r.scaleX||1,i.scaleY=r.scaleY||1,i.rotation=r.rotation||0,i.width=(r.width||32)*this.scale,i.height=(r.height||32)*this.scale,i.updateOffset(),i.rendererObject={},i.rendererObject.name=e,i.rendererObject.scale={},i.rendererObject.scale.x=i.scaleX,i.rendererObject.scale.y=i.scaleY,i.rendererObject.rotation=-i.rotation*Math.PI/180,i}throw"Unknown attachment type: "+n},readAnimation:function(t,e,r){var n,i,o,a,u,l,h,c=[],f=0,p=e.bones;for(var d in p)if(p.hasOwnProperty(d)){var g=r.findBoneIndex(d);if(-1==g)throw"Bone not found: "+d;var v=p[d];for(o in v)if(v.hasOwnProperty(o))if(u=v[o],"rotate"==o){for((i=new s.RotateTimeline(u.length)).boneIndex=g,n=0,l=0,h=u.length;h>l;l++)a=u[l],i.setFrame(n,a.time,a.angle),s.SkeletonJson.readCurve(i,n,a),n++;c.push(i),f=Math.max(f,i.frames[2*i.getFrameCount()-2])}else{if("translate"!=o&&"scale"!=o)throw"Invalid timeline type for a bone: "+o+" ("+d+")";var m=1;for("scale"==o?i=new s.ScaleTimeline(u.length):(i=new s.TranslateTimeline(u.length),m=this.scale),i.boneIndex=g,n=0,l=0,h=u.length;h>l;l++){var y=((a=u[l]).x||0)*m,x=(a.y||0)*m;i.setFrame(n,a.time,y,x),s.SkeletonJson.readCurve(i,n,a),n++}c.push(i),f=Math.max(f,i.frames[3*i.getFrameCount()-3])}}var b=e.slots;for(var _ in b)if(b.hasOwnProperty(_)){var w=b[_],T=r.findSlotIndex(_);for(o in w)if(w.hasOwnProperty(o))if(u=w[o],"color"==o){for((i=new s.ColorTimeline(u.length)).slotIndex=T,n=0,l=0,h=u.length;h>l;l++){var E=(a=u[l]).color,S=s.SkeletonJson.toColor(E,0),A=s.SkeletonJson.toColor(E,1),C=s.SkeletonJson.toColor(E,2),M=s.SkeletonJson.toColor(E,3);i.setFrame(n,a.time,S,A,C,M),s.SkeletonJson.readCurve(i,n,a),n++}c.push(i),f=Math.max(f,i.frames[5*i.getFrameCount()-5])}else{if("attachment"!=o)throw"Invalid timeline type for a slot: "+o+" ("+_+")";for((i=new s.AttachmentTimeline(u.length)).slotIndex=T,n=0,l=0,h=u.length;h>l;l++)a=u[l],i.setFrame(n++,a.time,a.name);c.push(i),f=Math.max(f,i.frames[i.getFrameCount()-1])}}r.animations.push(new s.Animation(t,c,f))}},s.SkeletonJson.readCurve=function(t,e,r){var n=r.curve;n&&("stepped"==n?t.curves.setStepped(e):n instanceof Array&&t.curves.setCurve(e,n[0],n[1],n[2],n[3]))},s.SkeletonJson.toColor=function(t,e){if(8!=t.length)throw"Color hexidecimal length must be 8, recieved: "+t;return parseInt(t.substr(2*e,2),16)/255},s.Atlas=function(t,e){this.textureLoader=e,this.pages=[],this.regions=[];var r=new s.AtlasReader(t),n=[];n.length=4;for(var i=null;;){var o=r.readLine();if(null==o)break;if((o=r.trim(o)).length)if(i){var a=new s.AtlasRegion;a.name=o,a.page=i,a.rotate="true"==r.readValue(),r.readTuple(n);var u=parseInt(n[0],10),l=parseInt(n[1],10);r.readTuple(n);var h=parseInt(n[0],10),c=parseInt(n[1],10);a.u=u/i.width,a.v=l/i.height,a.rotate?(a.u2=(u+c)/i.width,a.v2=(l+h)/i.height):(a.u2=(u+h)/i.width,a.v2=(l+c)/i.height),a.x=u,a.y=l,a.width=Math.abs(h),a.height=Math.abs(c),4==r.readTuple(n)&&(a.splits=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)],4==r.readTuple(n)&&(a.pads=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)],r.readTuple(n))),a.originalWidth=parseInt(n[0],10),a.originalHeight=parseInt(n[1],10),r.readTuple(n),a.offsetX=parseInt(n[0],10),a.offsetY=parseInt(n[1],10),a.index=parseInt(r.readValue(),10),this.regions.push(a)}else{(i=new s.AtlasPage).name=o,i.format=s.Atlas.Format[r.readValue()],r.readTuple(n),i.minFilter=s.Atlas.TextureFilter[n[0]],i.magFilter=s.Atlas.TextureFilter[n[1]];var f=r.readValue();i.uWrap=s.Atlas.TextureWrap.clampToEdge,i.vWrap=s.Atlas.TextureWrap.clampToEdge,"x"==f?i.uWrap=s.Atlas.TextureWrap.repeat:"y"==f?i.vWrap=s.Atlas.TextureWrap.repeat:"xy"==f&&(i.uWrap=i.vWrap=s.Atlas.TextureWrap.repeat),e.load(i,o),this.pages.push(i)}else i=null}},s.Atlas.prototype={findRegion:function(t){for(var e=this.regions,r=0,n=e.length;n>r;r++)if(e[r].name==t)return e[r];return null},dispose:function(){for(var t=this.pages,e=0,r=t.length;r>e;e++)this.textureLoader.unload(t[e].rendererObject)},updateUVs:function(t){for(var e=this.regions,r=0,n=e.length;n>r;r++){var i=e[r];i.page==t&&(i.u=i.x/t.width,i.v=i.y/t.height,i.rotate?(i.u2=(i.x+i.height)/t.width,i.v2=(i.y+i.width)/t.height):(i.u2=(i.x+i.width)/t.width,i.v2=(i.y+i.height)/t.height))}}},s.Atlas.Format={alpha:0,intensity:1,luminanceAlpha:2,rgb565:3,rgba4444:4,rgb888:5,rgba8888:6},s.Atlas.TextureFilter={nearest:0,linear:1,mipMap:2,mipMapNearestNearest:3,mipMapLinearNearest:4,mipMapNearestLinear:5,mipMapLinearLinear:6},s.Atlas.TextureWrap={mirroredRepeat:0,clampToEdge:1,repeat:2},s.AtlasPage=function(){},s.AtlasPage.prototype={name:null,format:null,minFilter:null,magFilter:null,uWrap:null,vWrap:null,rendererObject:null,width:0,height:0},s.AtlasRegion=function(){},s.AtlasRegion.prototype={page:null,name:null,x:0,y:0,width:0,height:0,u:0,v:0,u2:0,v2:0,offsetX:0,offsetY:0,originalWidth:0,originalHeight:0,index:0,rotate:!1,splits:null,pads:null},s.AtlasReader=function(t){this.lines=t.split(/\r\n|\r|\n/)},s.AtlasReader.prototype={index:0,trim:function(t){return t.replace(/^\s+|\s+$/g,"")},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},readValue:function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw"Invalid line: "+t;return this.trim(t.substring(e+1))},readTuple:function(t){var e=this.readLine(),r=e.indexOf(":");if(-1==r)throw"Invalid line: "+e;for(var n=0,i=r+1;3>n;n++){var o=e.indexOf(",",i);if(-1==o){if(!n)throw"Invalid line: "+e;break}t[n]=this.trim(e.substr(i,o-i)),i=o+1}return t[n]=this.trim(e.substring(i)),n+1}},s.AtlasAttachmentLoader=function(t){this.atlas=t},s.AtlasAttachmentLoader.prototype={newAttachment:function(t,e,r){switch(e){case s.AttachmentType.region:var n=this.atlas.findRegion(r);if(!n)throw"Region not found in atlas: "+r+" ("+e+")";var i=new s.RegionAttachment(r);return i.rendererObject=n,i.setUVs(n.u,n.v,n.u2,n.v2,n.rotate),i.regionOffsetX=n.offsetX,i.regionOffsetY=n.offsetY,i.regionWidth=n.width,i.regionHeight=n.height,i.regionOriginalWidth=n.originalWidth,i.regionOriginalHeight=n.originalHeight,i}throw"Unknown attachment type: "+e}},s.Bone.yDown=!0,r.AnimCache={},r.Spine=function(t){if(r.DisplayObjectContainer.call(this),this.spineData=r.AnimCache[t],!this.spineData)throw new Error("Spine data must be preloaded using PIXI.SpineLoader or PIXI.AssetLoader: "+t);this.skeleton=new s.Skeleton(this.spineData),this.skeleton.updateWorldTransform(),this.stateData=new s.AnimationStateData(this.spineData),this.state=new s.AnimationState(this.stateData),this.slotContainers=[];for(var e=0,n=this.skeleton.drawOrder.length;n>e;e++){var i=this.skeleton.drawOrder[e],o=i.attachment,a=new r.DisplayObjectContainer;if(this.slotContainers.push(a),this.addChild(a),o instanceof s.RegionAttachment){var u=o.rendererObject.name,l=this.createSprite(i,o.rendererObject);i.currentSprite=l,i.currentSpriteName=u,a.addChild(l)}}},r.Spine.prototype=Object.create(r.DisplayObjectContainer.prototype),r.Spine.prototype.constructor=r.Spine,r.Spine.prototype.updateTransform=function(){this.lastTime=this.lastTime||Date.now();var t=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.state.update(t),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();for(var e=this.skeleton.drawOrder,n=0,i=e.length;i>n;n++){var o=e[n],a=o.attachment,u=this.slotContainers[n];if(a instanceof s.RegionAttachment){if(a.rendererObject&&(!o.currentSpriteName||o.currentSpriteName!=a.name)){var l=a.rendererObject.name;if(void 0!==o.currentSprite&&(o.currentSprite.visible=!1),o.sprites=o.sprites||{},void 0!==o.sprites[l])o.sprites[l].visible=!0;else{var h=this.createSprite(o,a.rendererObject);u.addChild(h)}o.currentSprite=o.sprites[l],o.currentSpriteName=l}u.visible=!0;var c=o.bone;u.position.x=c.worldX+a.x*c.m00+a.y*c.m01,u.position.y=c.worldY+a.x*c.m10+a.y*c.m11,u.scale.x=c.worldScaleX,u.scale.y=c.worldScaleY,u.rotation=-o.bone.worldRotation*Math.PI/180,u.alpha=o.a,o.currentSprite.tint=r.rgb2hex([o.r,o.g,o.b])}else u.visible=!1}r.DisplayObjectContainer.prototype.updateTransform.call(this)},r.Spine.prototype.createSprite=function(t,e){var n=r.TextureCache[e.name]?e.name:e.name+".png",i=new r.Sprite(r.Texture.fromFrame(n));return i.scale=e.scale,i.rotation=e.rotation,i.anchor.x=i.anchor.y=.5,t.sprites=t.sprites||{},t.sprites[e.name]=i,i},r.BaseTextureCache={},r.texturesToUpdate=[],r.texturesToDestroy=[],r.BaseTextureCacheIdGenerator=0,r.BaseTexture=function(t,e){if(r.EventTarget.call(this),this.width=100,this.height=100,this.scaleMode=e||r.scaleModes.DEFAULT,this.hasLoaded=!1,this.source=t,this.id=r.BaseTextureCacheIdGenerator++,this.premultipliedAlpha=!0,this._glTextures=[],this._dirty=[],t){if((this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this.hasLoaded=!0,this.width=this.source.width,this.height=this.source.height,r.texturesToUpdate.push(this);else{var n=this;this.source.onload=function(){n.hasLoaded=!0,n.width=n.source.width,n.height=n.source.height;for(var t=0;t<n._glTextures.length;t++)n._dirty[t]=!0;n.dispatchEvent({type:"loaded",content:n})},this.source.onerror=function(){n.dispatchEvent({type:"error",content:n})}}this.imageUrl=null,this._powerOf2=!1}},r.BaseTexture.prototype.constructor=r.BaseTexture,r.BaseTexture.prototype.destroy=function(){this.imageUrl?(delete r.BaseTextureCache[this.imageUrl],delete r.TextureCache[this.imageUrl],this.imageUrl=null,this.source.src=null):this.source&&this.source._pixiId&&delete r.BaseTextureCache[this.source._pixiId],this.source=null,r.texturesToDestroy.push(this)},r.BaseTexture.prototype.updateSourceImage=function(t){this.hasLoaded=!1,this.source.src=null,this.source.src=t},r.BaseTexture.fromImage=function(t,e,n){var i=r.BaseTextureCache[t];if(void 0===e&&-1===t.indexOf("data:")&&(e=!0),!i){var o=new Image;e&&(o.crossOrigin=""),o.src=t,(i=new r.BaseTexture(o,n)).imageUrl=t,r.BaseTextureCache[t]=i}return i},r.BaseTexture.fromCanvas=function(t,e){t._pixiId||(t._pixiId="canvas_"+r.TextureCacheIdGenerator++);var n=r.BaseTextureCache[t._pixiId];return n||(n=new r.BaseTexture(t,e),r.BaseTextureCache[t._pixiId]=n),n},r.TextureCache={},r.FrameCache={},r.TextureCacheIdGenerator=0,r.Texture=function(t,e){if(r.EventTarget.call(this),this.noFrame=!1,e||(this.noFrame=!0,e=new r.Rectangle(0,0,1,1)),t instanceof r.Texture&&(t=t.baseTexture),this.baseTexture=t,this.frame=e,this.trim=null,this.valid=!1,this.scope=this,this._uvs=null,this.width=0,this.height=0,this.crop=new r.Rectangle(0,0,1,1),t.hasLoaded)this.noFrame&&(e=new r.Rectangle(0,0,t.width,t.height)),this.setFrame(e);else{var n=this;t.addEventListener("loaded",function(){n.onBaseTextureLoaded()})}},r.Texture.prototype.constructor=r.Texture,r.Texture.prototype.onBaseTextureLoaded=function(){var t=this.baseTexture;t.removeEventListener("loaded",this.onLoaded),this.noFrame&&(this.frame=new r.Rectangle(0,0,t.width,t.height)),this.setFrame(this.frame),this.scope.dispatchEvent({type:"update",content:this})},r.Texture.prototype.destroy=function(t){t&&this.baseTexture.destroy(),this.valid=!1},r.Texture.prototype.setFrame=function(t){if(this.noFrame=!1,this.frame=t,this.width=t.width,this.height=t.height,this.crop.x=t.x,this.crop.y=t.y,this.crop.width=t.width,this.crop.height=t.height,!this.trim&&(t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=t&&t.width&&t.height&&this.baseTexture.source&&this.baseTexture.hasLoaded,this.trim&&(this.width=this.trim.width,this.height=this.trim.height,this.frame.width=this.trim.width,this.frame.height=this.trim.height),this.valid&&r.Texture.frameUpdates.push(this)},r.Texture.prototype._updateWebGLuvs=function(){this._uvs||(this._uvs=new r.TextureUvs);var t=this.crop,e=this.baseTexture.width,n=this.baseTexture.height;this._uvs.x0=t.x/e,this._uvs.y0=t.y/n,this._uvs.x1=(t.x+t.width)/e,this._uvs.y1=t.y/n,this._uvs.x2=(t.x+t.width)/e,this._uvs.y2=(t.y+t.height)/n,this._uvs.x3=t.x/e,this._uvs.y3=(t.y+t.height)/n},r.Texture.fromImage=function(t,e,n){var i=r.TextureCache[t];return i||(i=new r.Texture(r.BaseTexture.fromImage(t,e,n)),r.TextureCache[t]=i),i},r.Texture.fromFrame=function(t){var e=r.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache ');return e},r.Texture.fromCanvas=function(t,e){var n=r.BaseTexture.fromCanvas(t,e);return new r.Texture(n)},r.Texture.addTextureToCache=function(t,e){r.TextureCache[e]=t},r.Texture.removeTextureFromCache=function(t){var e=r.TextureCache[t];return delete r.TextureCache[t],delete r.BaseTextureCache[t],e},r.Texture.frameUpdates=[],r.TextureUvs=function(){this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0},r.RenderTexture=function(t,e,n,i){if(r.EventTarget.call(this),this.width=t||100,this.height=e||100,this.frame=new r.Rectangle(0,0,this.width,this.height),this.crop=new r.Rectangle(0,0,this.width,this.height),this.baseTexture=new r.BaseTexture,this.baseTexture.width=this.width,this.baseTexture.height=this.height,this.baseTexture._glTextures=[],this.baseTexture.scaleMode=i||r.scaleModes.DEFAULT,this.baseTexture.hasLoaded=!0,this.renderer=n||r.defaultRenderer,this.renderer.type===r.WEBGL_RENDERER){var o=this.renderer.gl;this.textureBuffer=new r.FilterTexture(o,this.width,this.height,this.baseTexture.scaleMode),this.baseTexture._glTextures[o.id]=this.textureBuffer.texture,this.render=this.renderWebGL,this.projection=new r.Point(this.width/2,-this.height/2)}else this.render=this.renderCanvas,this.textureBuffer=new r.CanvasBuffer(this.width,this.height),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,r.Texture.frameUpdates.push(this)},r.RenderTexture.prototype=Object.create(r.Texture.prototype),r.RenderTexture.prototype.constructor=r.RenderTexture,r.RenderTexture.prototype.resize=function(t,e,n){(t!==this.width||e!==this.height)&&(this.width=this.frame.width=this.crop.width=t,this.height=this.frame.height=this.crop.height=e,n&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.renderer.type===r.WEBGL_RENDERER&&(this.projection.x=this.width/2,this.projection.y=-this.height/2),this.textureBuffer.resize(this.width,this.height))},r.RenderTexture.prototype.clear=function(){this.renderer.type===r.WEBGL_RENDERER&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear()},r.RenderTexture.prototype.renderWebGL=function(t,e,n){var i=this.renderer.gl;i.colorMask(!0,!0,!0,!0),i.viewport(0,0,this.width,this.height),i.bindFramebuffer(i.FRAMEBUFFER,this.textureBuffer.frameBuffer),n&&this.textureBuffer.clear();var o=t.children,s=t.worldTransform;t.worldTransform=r.RenderTexture.tempMatrix,t.worldTransform.d=-1,t.worldTransform.ty=-2*this.projection.y,e&&(t.worldTransform.tx=e.x,t.worldTransform.ty-=e.y);for(var a=0,u=o.length;u>a;a++)o[a].updateTransform();r.WebGLRenderer.updateTextures(),this.renderer.spriteBatch.dirty=!0,this.renderer.renderDisplayObject(t,this.projection,this.textureBuffer.frameBuffer),t.worldTransform=s,this.renderer.spriteBatch.dirty=!0},r.RenderTexture.prototype.renderCanvas=function(t,e,n){var i=t.children,o=t.worldTransform;t.worldTransform=r.RenderTexture.tempMatrix,e?(t.worldTransform.tx=e.x,t.worldTransform.ty=e.y):(t.worldTransform.tx=0,t.worldTransform.ty=0);for(var s=0,a=i.length;a>s;s++)i[s].updateTransform();n&&this.textureBuffer.clear();var u=this.textureBuffer.context;this.renderer.renderDisplayObject(t,u),u.setTransform(1,0,0,1,0,0),t.worldTransform=o},r.RenderTexture.prototype.getImage=function(){var t=new Image;return t.src=this.getBase64(),t},r.RenderTexture.prototype.getBase64=function(){if(this.renderer.type===r.WEBGL_RENDERER){var t=this.renderer.gl,e=this.textureBuffer.width,n=this.textureBuffer.height,i=new Uint8Array(4*e*n);t.bindFramebuffer(t.FRAMEBUFFER,this.textureBuffer.frameBuffer),t.readPixels(0,0,e,n,t.RGBA,t.UNSIGNED_BYTE,i),t.bindFramebuffer(t.FRAMEBUFFER,null);for(var o=new r.CanvasBuffer(e,n),s=o.context.getImageData(0,0,e,n),a=s.data,u=0;u<i.length;u+=4){var l=i[u+3];a[u]=i[u]*l,a[u+1]=i[u+1]*l,a[u+2]=i[u+2]*l,a[u+3]=l}return o.context.putImageData(s,0,0),o.canvas.toDataURL()}return this.textureBuffer.canvas.toDataURL()},r.RenderTexture.tempMatrix=new r.Matrix,r.AssetLoader=function(t,e){r.EventTarget.call(this),this.assetURLs=t,this.crossorigin=e,this.loadersByType={jpg:r.ImageLoader,jpeg:r.ImageLoader,png:r.ImageLoader,gif:r.ImageLoader,webp:r.ImageLoader,json:r.JsonLoader,atlas:r.AtlasLoader,anim:r.SpineLoader,xml:r.BitmapFontLoader,fnt:r.BitmapFontLoader}},r.AssetLoader.prototype.constructor=r.AssetLoader,r.AssetLoader.prototype._getDataType=function(t){var e="data:";if(t.slice(0,e.length).toLowerCase()===e){var r=t.slice(e.length),n=r.indexOf(",");if(-1===n)return null;var i=r.slice(0,n).split(";")[0];return i&&"text/plain"!==i.toLowerCase()?i.split("/").pop().toLowerCase():"txt"}return null},r.AssetLoader.prototype.load=function(){function t(t){e.onAssetLoaded(t.content)}var e=this;this.loadCount=this.assetURLs.length;for(var r=0;r<this.assetURLs.length;r++){var n=this.assetURLs[r],i=this._getDataType(n);i||(i=n.split("?").shift().split(".").pop().toLowerCase());var o=this.loadersByType[i];if(!o)throw new Error(i+" is an unsupported file type");var s=new o(n,this.crossorigin);s.addEventListener("loaded",t),s.load()}},r.AssetLoader.prototype.onAssetLoaded=function(t){this.loadCount--,this.dispatchEvent({type:"onProgress",content:this,loader:t}),this.onProgress&&this.onProgress(t),this.loadCount||(this.dispatchEvent({type:"onComplete",content:this}),this.onComplete&&this.onComplete())},r.JsonLoader=function(t,e){r.EventTarget.call(this),this.url=t,this.crossorigin=e,this.baseUrl=t.replace(/[^\/]*$/,""),this.loaded=!1},r.JsonLoader.prototype.constructor=r.JsonLoader,r.JsonLoader.prototype.load=function(){var t=this;window.XDomainRequest&&t.crossorigin?(this.ajaxRequest=new window.XDomainRequest,this.ajaxRequest.timeout=3e3,this.ajaxRequest.onerror=function(){t.onError()},this.ajaxRequest.ontimeout=function(){t.onError()},this.ajaxRequest.onprogress=function(){}):this.ajaxRequest=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP"),this.ajaxRequest.onload=function(){t.onJSONLoaded()},this.ajaxRequest.open("GET",this.url,!0),this.ajaxRequest.send()},r.JsonLoader.prototype.onJSONLoaded=function(){if(this.ajaxRequest.responseText)if(this.json=JSON.parse(this.ajaxRequest.responseText),this.json.frames){var t=this,e=this.baseUrl+this.json.meta.image,n=new r.ImageLoader(e,this.crossorigin),i=this.json.frames;for(var o in this.texture=n.texture.baseTexture,n.addEventListener("loaded",function(){t.onLoaded()}),i){var a=i[o].frame;if(a&&(r.TextureCache[o]=new r.Texture(this.texture,{x:a.x,y:a.y,width:a.w,height:a.h}),r.TextureCache[o].crop=new r.Rectangle(a.x,a.y,a.w,a.h),i[o].trimmed)){var u=i[o].sourceSize,l=i[o].spriteSourceSize;r.TextureCache[o].trim=new r.Rectangle(l.x,l.y,u.w,u.h)}}n.load()}else if(this.json.bones){var h=(new s.SkeletonJson).readSkeletonData(this.json);r.AnimCache[this.url]=h,this.onLoaded()}else this.onLoaded();else this.onError()},r.JsonLoader.prototype.onLoaded=function(){this.loaded=!0,this.dispatchEvent({type:"loaded",content:this})},r.JsonLoader.prototype.onError=function(){this.dispatchEvent({type:"error",content:this})},r.AtlasLoader=function(t,e){r.EventTarget.call(this),this.url=t,this.baseUrl=t.replace(/[^\/]*$/,""),this.crossorigin=e,this.loaded=!1},r.AtlasLoader.constructor=r.AtlasLoader,r.AtlasLoader.prototype.load=function(){this.ajaxRequest=new r.AjaxRequest,this.ajaxRequest.onreadystatechange=this.onAtlasLoaded.bind(this),this.ajaxRequest.open("GET",this.url,!0),this.ajaxRequest.overrideMimeType&&this.ajaxRequest.overrideMimeType("application/json"),this.ajaxRequest.send(null)},r.AtlasLoader.prototype.onAtlasLoaded=function(){if(4===this.ajaxRequest.readyState)if(200===this.ajaxRequest.status||-1===window.location.href.indexOf("http")){this.atlas={meta:{image:[]},frames:[]};var t=this.ajaxRequest.responseText.split(/\r?\n/),e=-3,n=0,i=null,o=!1,s=0,a=0,u=this.onLoaded.bind(this);for(s=0;s<t.length;s++)if(t[s]=t[s].replace(/^\s+|\s+$/g,""),""===t[s]&&(o=s+1),t[s].length>0){if(o===s)this.atlas.meta.image.push(t[s]),n=this.atlas.meta.image.length-1,this.atlas.frames.push({}),e=-3;else if(e>0)if(e%7==1)null!=i&&(this.atlas.frames[n][i.name]=i),i={name:t[s],frame:{}};else{var l=t[s].split(" ");if(e%7==3)i.frame.x=Number(l[1].replace(",","")),i.frame.y=Number(l[2]);else if(e%7==4)i.frame.w=Number(l[1].replace(",","")),i.frame.h=Number(l[2]);else if(e%7==5){var h={x:0,y:0,w:Number(l[1].replace(",","")),h:Number(l[2])};h.w>i.frame.w||h.h>i.frame.h?(i.trimmed=!0,i.realSize=h):i.trimmed=!1}}e++}if(null!=i&&(this.atlas.frames[n][i.name]=i),this.atlas.meta.image.length>0){for(this.images=[],a=0;a<this.atlas.meta.image.length;a++){var c=this.baseUrl+this.atlas.meta.image[a],f=this.atlas.frames[a];for(s in this.images.push(new r.ImageLoader(c,this.crossorigin)),f){var p=f[s].frame;p&&(r.TextureCache[s]=new r.Texture(this.images[a].texture.baseTexture,{x:p.x,y:p.y,width:p.w,height:p.h}),f[s].trimmed&&(r.TextureCache[s].realSize=f[s].realSize,r.TextureCache[s].trim.x=0,r.TextureCache[s].trim.y=0))}}for(this.currentImageId=0,a=0;a<this.images.length;a++)this.images[a].addEventListener("loaded",u);this.images[this.currentImageId].load()}else this.onLoaded()}else this.onError()},r.AtlasLoader.prototype.onLoaded=function(){this.images.length-1>this.currentImageId?(this.currentImageId++,this.images[this.currentImageId].load()):(this.loaded=!0,this.dispatchEvent({type:"loaded",content:this}))},r.AtlasLoader.prototype.onError=function(){this.dispatchEvent({type:"error",content:this})},r.SpriteSheetLoader=function(t,e){r.EventTarget.call(this),this.url=t,this.crossorigin=e,this.baseUrl=t.replace(/[^\/]*$/,""),this.texture=null,this.frames={}},r.SpriteSheetLoader.prototype.constructor=r.SpriteSheetLoader,r.SpriteSheetLoader.prototype.load=function(){var t=this,e=new r.JsonLoader(this.url,this.crossorigin);e.addEventListener("loaded",function(e){t.json=e.content.json,t.onLoaded()}),e.load()},r.SpriteSheetLoader.prototype.onLoaded=function(){this.dispatchEvent({type:"loaded",content:this})},r.ImageLoader=function(t,e){r.EventTarget.call(this),this.texture=r.Texture.fromImage(t,e),this.frames=[]},r.ImageLoader.prototype.constructor=r.ImageLoader,r.ImageLoader.prototype.load=function(){if(this.texture.baseTexture.hasLoaded)this.onLoaded();else{var t=this;this.texture.baseTexture.addEventListener("loaded",function(){t.onLoaded()})}},r.ImageLoader.prototype.onLoaded=function(){this.dispatchEvent({type:"loaded",content:this})},r.ImageLoader.prototype.loadFramedSpriteSheet=function(t,e,n){this.frames=[];for(var i=Math.floor(this.texture.width/t),o=Math.floor(this.texture.height/e),s=0,a=0;o>a;a++)for(var u=0;i>u;u++,s++){var l=new r.Texture(this.texture,{x:u*t,y:a*e,width:t,height:e});this.frames.push(l),n&&(r.TextureCache[n+"-"+s]=l)}if(this.texture.baseTexture.hasLoaded)this.onLoaded();else{var h=this;this.texture.baseTexture.addEventListener("loaded",function(){h.onLoaded()})}},r.BitmapFontLoader=function(t,e){r.EventTarget.call(this),this.url=t,this.crossorigin=e,this.baseUrl=t.replace(/[^\/]*$/,""),this.texture=null},r.BitmapFontLoader.prototype.constructor=r.BitmapFontLoader,r.BitmapFontLoader.prototype.load=function(){this.ajaxRequest=new r.AjaxRequest;var t=this;this.ajaxRequest.onreadystatechange=function(){t.onXMLLoaded()},this.ajaxRequest.open("GET",this.url,!0),this.ajaxRequest.overrideMimeType&&this.ajaxRequest.overrideMimeType("application/xml"),this.ajaxRequest.send(null)},r.BitmapFontLoader.prototype.onXMLLoaded=function(){if(4===this.ajaxRequest.readyState&&(200===this.ajaxRequest.status||-1===window.location.protocol.indexOf("http"))){var t=this.ajaxRequest.responseXML;if(!t||/MSIE 9/i.test(navigator.userAgent)||navigator.isCocoonJS)if("function"==typeof window.DOMParser){t=(new DOMParser).parseFromString(this.ajaxRequest.responseText,"text/xml")}else{var e=document.createElement("div");e.innerHTML=this.ajaxRequest.responseText,t=e}var n=this.baseUrl+t.getElementsByTagName("page")[0].getAttribute("file"),i=new r.ImageLoader(n,this.crossorigin);this.texture=i.texture.baseTexture;var o={},s=t.getElementsByTagName("info")[0],a=t.getElementsByTagName("common")[0];o.font=s.getAttribute("face"),o.size=parseInt(s.getAttribute("size"),10),o.lineHeight=parseInt(a.getAttribute("lineHeight"),10),o.chars={};for(var u=t.getElementsByTagName("char"),l=0;l<u.length;l++){var h=parseInt(u[l].getAttribute("id"),10),c=new r.Rectangle(parseInt(u[l].getAttribute("x"),10),parseInt(u[l].getAttribute("y"),10),parseInt(u[l].getAttribute("width"),10),parseInt(u[l].getAttribute("height"),10));o.chars[h]={xOffset:parseInt(u[l].getAttribute("xoffset"),10),yOffset:parseInt(u[l].getAttribute("yoffset"),10),xAdvance:parseInt(u[l].getAttribute("xadvance"),10),kerning:{},texture:r.TextureCache[h]=new r.Texture(this.texture,c)}}var f=t.getElementsByTagName("kerning");for(l=0;l<f.length;l++){var p=parseInt(f[l].getAttribute("first"),10),d=parseInt(f[l].getAttribute("second"),10),g=parseInt(f[l].getAttribute("amount"),10);o.chars[d].kerning[p]=g}r.BitmapText.fonts[o.font]=o;var v=this;i.addEventListener("loaded",function(){v.onLoaded()}),i.load()}},r.BitmapFontLoader.prototype.onLoaded=function(){this.dispatchEvent({type:"loaded",content:this})},r.SpineLoader=function(t,e){r.EventTarget.call(this),this.url=t,this.crossorigin=e,this.loaded=!1},r.SpineLoader.prototype.constructor=r.SpineLoader,r.SpineLoader.prototype.load=function(){var t=this,e=new r.JsonLoader(this.url,this.crossorigin);e.addEventListener("loaded",function(e){t.json=e.content.json,t.onLoaded()}),e.load()},r.SpineLoader.prototype.onLoaded=function(){this.loaded=!0,this.dispatchEvent({type:"loaded",content:this})},r.AbstractFilter=function(t,e){this.passes=[this],this.shaders=[],this.dirty=!0,this.padding=0,this.uniforms=e||{},this.fragmentSrc=t||[]},r.AlphaMaskFilter=function(t){r.AbstractFilter.call(this),this.passes=[this],t.baseTexture._powerOf2=!0,this.uniforms={mask:{type:"sampler2D",value:t},mapDimensions:{type:"2f",value:{x:1,y:5112}},dimensions:{type:"4fv",value:[0,0,0,0]}},t.baseTexture.hasLoaded?(this.uniforms.mask.value.x=t.width,this.uniforms.mask.value.y=t.height):(this.boundLoadedFunction=this.onTextureLoaded.bind(this),t.baseTexture.on("loaded",this.boundLoadedFunction)),this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D mask;","uniform sampler2D uSampler;","uniform vec2 offset;","uniform vec4 dimensions;","uniform vec2 mapDimensions;","void main(void) {","   vec2 mapCords = vTextureCoord.xy;","   mapCords += (dimensions.zw + offset)/ dimensions.xy ;","   mapCords.y *= -1.0;","   mapCords.y += 1.0;","   mapCords *= dimensions.xy / mapDimensions;","   vec4 original =  texture2D(uSampler, vTextureCoord);","   float maskAlpha =  texture2D(mask, mapCords).r;","   original *= maskAlpha;","   gl_FragColor =  original;","}"]},r.AlphaMaskFilter.prototype=Object.create(r.AbstractFilter.prototype),r.AlphaMaskFilter.prototype.constructor=r.AlphaMaskFilter,r.AlphaMaskFilter.prototype.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.mask.value.width,this.uniforms.mapDimensions.value.y=this.uniforms.mask.value.height,this.uniforms.mask.value.baseTexture.off("loaded",this.boundLoadedFunction)},Object.defineProperty(r.AlphaMaskFilter.prototype,"map",{get:function(){return this.uniforms.mask.value},set:function(t){this.uniforms.mask.value=t}}),r.ColorMatrixFilter=function(){r.AbstractFilter.call(this),this.passes=[this],this.uniforms={matrix:{type:"mat4",value:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float invert;","uniform mat4 matrix;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * matrix;","}"]},r.ColorMatrixFilter.prototype=Object.create(r.AbstractFilter.prototype),r.ColorMatrixFilter.prototype.constructor=r.ColorMatrixFilter,Object.defineProperty(r.ColorMatrixFilter.prototype,"matrix",{get:function(){return this.uniforms.matrix.value},set:function(t){this.uniforms.matrix.value=t}}),r.GrayFilter=function(){r.AbstractFilter.call(this),this.passes=[this],this.uniforms={gray:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform float gray;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);","}"]},r.GrayFilter.prototype=Object.create(r.AbstractFilter.prototype),r.GrayFilter.prototype.constructor=r.GrayFilter,Object.defineProperty(r.GrayFilter.prototype,"gray",{get:function(){return this.uniforms.gray.value},set:function(t){this.uniforms.gray.value=t}}),r.DisplacementFilter=function(t){r.AbstractFilter.call(this),this.passes=[this],t.baseTexture._powerOf2=!0,this.uniforms={displacementMap:{type:"sampler2D",value:t},scale:{type:"2f",value:{x:30,y:30}},offset:{type:"2f",value:{x:0,y:0}},mapDimensions:{type:"2f",value:{x:1,y:5112}},dimensions:{type:"4fv",value:[0,0,0,0]}},t.baseTexture.hasLoaded?(this.uniforms.mapDimensions.value.x=t.width,this.uniforms.mapDimensions.value.y=t.height):(this.boundLoadedFunction=this.onTextureLoaded.bind(this),t.baseTexture.on("loaded",this.boundLoadedFunction)),this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D displacementMap;","uniform sampler2D uSampler;","uniform vec2 scale;","uniform vec2 offset;","uniform vec4 dimensions;","uniform vec2 mapDimensions;","void main(void) {","   vec2 mapCords = vTextureCoord.xy;","   mapCords += (dimensions.zw + offset)/ dimensions.xy ;","   mapCords.y *= -1.0;","   mapCords.y += 1.0;","   vec2 matSample = texture2D(displacementMap, mapCords).xy;","   matSample -= 0.5;","   matSample *= scale;","   matSample /= mapDimensions;","   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + matSample.x, vTextureCoord.y + matSample.y));","   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb, 1.0);","   vec2 cord = vTextureCoord;","}"]},r.DisplacementFilter.prototype=Object.create(r.AbstractFilter.prototype),r.DisplacementFilter.prototype.constructor=r.DisplacementFilter,r.DisplacementFilter.prototype.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.displacementMap.value.width,this.uniforms.mapDimensions.value.y=this.uniforms.displacementMap.value.height,this.uniforms.displacementMap.value.baseTexture.off("loaded",this.boundLoadedFunction)},Object.defineProperty(r.DisplacementFilter.prototype,"map",{get:function(){return this.uniforms.displacementMap.value},set:function(t){this.uniforms.displacementMap.value=t}}),Object.defineProperty(r.DisplacementFilter.prototype,"scale",{get:function(){return this.uniforms.scale.value},set:function(t){this.uniforms.scale.value=t}}),Object.defineProperty(r.DisplacementFilter.prototype,"offset",{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}}),r.PixelateFilter=function(){r.AbstractFilter.call(this),this.passes=[this],this.uniforms={invert:{type:"1f",value:0},dimensions:{type:"4fv",value:new Float32Array([1e4,100,10,10])},pixelSize:{type:"2f",value:{x:10,y:10}}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec2 testDim;","uniform vec4 dimensions;","uniform vec2 pixelSize;","uniform sampler2D uSampler;","void main(void) {","   vec2 coord = vTextureCoord;","   vec2 size = dimensions.xy/pixelSize;","   vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;","   gl_FragColor = texture2D(uSampler, color);","}"]},r.PixelateFilter.prototype=Object.create(r.AbstractFilter.prototype),r.PixelateFilter.prototype.constructor=r.PixelateFilter,Object.defineProperty(r.PixelateFilter.prototype,"size",{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.dirty=!0,this.uniforms.pixelSize.value=t}}),r.BlurXFilter=function(){r.AbstractFilter.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","   vec4 sum = vec4(0.0);","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 4.0*blur, vTextureCoord.y)) * 0.05;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 3.0*blur, vTextureCoord.y)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 2.0*blur, vTextureCoord.y)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - blur, vTextureCoord.y)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + blur, vTextureCoord.y)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 2.0*blur, vTextureCoord.y)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 3.0*blur, vTextureCoord.y)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 4.0*blur, vTextureCoord.y)) * 0.05;","   gl_FragColor = sum;","}"]},r.BlurXFilter.prototype=Object.create(r.AbstractFilter.prototype),r.BlurXFilter.prototype.constructor=r.BlurXFilter,Object.defineProperty(r.BlurXFilter.prototype,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(t){this.dirty=!0,this.uniforms.blur.value=1/7e3*t}}),r.BlurYFilter=function(){r.AbstractFilter.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","   vec4 sum = vec4(0.0);","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 4.0*blur)) * 0.05;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 3.0*blur)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 2.0*blur)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - blur)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + blur)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 2.0*blur)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 3.0*blur)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 4.0*blur)) * 0.05;","   gl_FragColor = sum;","}"]},r.BlurYFilter.prototype=Object.create(r.AbstractFilter.prototype),r.BlurYFilter.prototype.constructor=r.BlurYFilter,Object.defineProperty(r.BlurYFilter.prototype,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(t){this.uniforms.blur.value=1/7e3*t}}),r.BlurFilter=function(){this.blurXFilter=new r.BlurXFilter,this.blurYFilter=new r.BlurYFilter,this.passes=[this.blurXFilter,this.blurYFilter]},Object.defineProperty(r.BlurFilter.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t}}),Object.defineProperty(r.BlurFilter.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}}),Object.defineProperty(r.BlurFilter.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}),r.InvertFilter=function(){r.AbstractFilter.call(this),this.passes=[this],this.uniforms={invert:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float invert;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);","}"]},r.InvertFilter.prototype=Object.create(r.AbstractFilter.prototype),r.InvertFilter.prototype.constructor=r.InvertFilter,Object.defineProperty(r.InvertFilter.prototype,"invert",{get:function(){return this.uniforms.invert.value},set:function(t){this.uniforms.invert.value=t}}),r.SepiaFilter=function(){r.AbstractFilter.call(this),this.passes=[this],this.uniforms={sepia:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float sepia;","uniform sampler2D uSampler;","const mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);","}"]},r.SepiaFilter.prototype=Object.create(r.AbstractFilter.prototype),r.SepiaFilter.prototype.constructor=r.SepiaFilter,Object.defineProperty(r.SepiaFilter.prototype,"sepia",{get:function(){return this.uniforms.sepia.value},set:function(t){this.uniforms.sepia.value=t}}),r.TwistFilter=function(){r.AbstractFilter.call(this),this.passes=[this],this.uniforms={radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"2f",value:{x:.5,y:.5}}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec4 dimensions;","uniform sampler2D uSampler;","uniform float radius;","uniform float angle;","uniform vec2 offset;","void main(void) {","   vec2 coord = vTextureCoord - offset;","   float distance = length(coord);","   if (distance < radius) {","       float ratio = (radius - distance) / radius;","       float angleMod = ratio * ratio * angle;","       float s = sin(angleMod);","       float c = cos(angleMod);","       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);","   }","   gl_FragColor = texture2D(uSampler, coord+offset);","}"]},r.TwistFilter.prototype=Object.create(r.AbstractFilter.prototype),r.TwistFilter.prototype.constructor=r.TwistFilter,Object.defineProperty(r.TwistFilter.prototype,"offset",{get:function(){return this.uniforms.offset.value},set:function(t){this.dirty=!0,this.uniforms.offset.value=t}}),Object.defineProperty(r.TwistFilter.prototype,"radius",{get:function(){return this.uniforms.radius.value},set:function(t){this.dirty=!0,this.uniforms.radius.value=t}}),Object.defineProperty(r.TwistFilter.prototype,"angle",{get:function(){return this.uniforms.angle.value},set:function(t){this.dirty=!0,this.uniforms.angle.value=t}}),r.ColorStepFilter=function(){r.AbstractFilter.call(this),this.passes=[this],this.uniforms={step:{type:"1f",value:5}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform float step;","void main(void) {","   vec4 color = texture2D(uSampler, vTextureCoord);","   color = floor(color * step) / step;","   gl_FragColor = color;","}"]},r.ColorStepFilter.prototype=Object.create(r.AbstractFilter.prototype),r.ColorStepFilter.prototype.constructor=r.ColorStepFilter,Object.defineProperty(r.ColorStepFilter.prototype,"step",{get:function(){return this.uniforms.step.value},set:function(t){this.uniforms.step.value=t}}),r.DotScreenFilter=function(){r.AbstractFilter.call(this),this.passes=[this],this.uniforms={scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec4 dimensions;","uniform sampler2D uSampler;","uniform float angle;","uniform float scale;","float pattern() {","   float s = sin(angle), c = cos(angle);","   vec2 tex = vTextureCoord * dimensions.xy;","   vec2 point = vec2(","       c * tex.x - s * tex.y,","       s * tex.x + c * tex.y","   ) * scale;","   return (sin(point.x) * sin(point.y)) * 4.0;","}","void main() {","   vec4 color = texture2D(uSampler, vTextureCoord);","   float average = (color.r + color.g + color.b) / 3.0;","   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);","}"]},r.DotScreenFilter.prototype=Object.create(r.AbstractFilter.prototype),r.DotScreenFilter.prototype.constructor=r.DotScreenFilter,Object.defineProperty(r.DotScreenFilter.prototype,"scale",{get:function(){return this.uniforms.scale.value},set:function(t){this.dirty=!0,this.uniforms.scale.value=t}}),Object.defineProperty(r.DotScreenFilter.prototype,"angle",{get:function(){return this.uniforms.angle.value},set:function(t){this.dirty=!0,this.uniforms.angle.value=t}}),r.CrossHatchFilter=function(){r.AbstractFilter.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);","    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);","    if (lum < 1.00) {","        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.75) {","        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.50) {","        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.3) {","        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","}"]},r.CrossHatchFilter.prototype=Object.create(r.AbstractFilter.prototype),r.CrossHatchFilter.prototype.constructor=r.BlurYFilter,Object.defineProperty(r.CrossHatchFilter.prototype,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(t){this.uniforms.blur.value=1/7e3*t}}),r.RGBSplitFilter=function(){r.AbstractFilter.call(this),this.passes=[this],this.uniforms={red:{type:"2f",value:{x:20,y:20}},green:{type:"2f",value:{x:-20,y:20}},blue:{type:"2f",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec2 red;","uniform vec2 green;","uniform vec2 blue;","uniform vec4 dimensions;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;","   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;","   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;","   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;","}"]},r.RGBSplitFilter.prototype=Object.create(r.AbstractFilter.prototype),r.RGBSplitFilter.prototype.constructor=r.RGBSplitFilter,Object.defineProperty(r.RGBSplitFilter.prototype,"angle",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(t){this.uniforms.blur.value=1/7e3*t}}),void 0!==t&&t.exports&&(e=t.exports=r),e.PIXI=r}).call(this)}).call(window)},R5XZ:function(t,e,r){var n=r("dyZX"),i=r("XKFU"),o=r("ol8x"),s=[].slice,a=/MSIE .\./.test(o),u=function(t){return function(e,r){var n=arguments.length>2,i=!!n&&s.call(arguments,2);return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,r)}};i(i.G+i.B+i.F*a,{setTimeout:u(n.setTimeout),setInterval:u(n.setInterval)})},RDmV:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},RLh9:function(t,e,r){var n=r("I8a+"),i=r("Q3ne");t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},RQRG:function(t,e,r){"use strict";var n=r("XKFU"),i=r("S/j/"),o=r("2OiF"),s=r("hswa");r("nh4g")&&n(n.P+r("xbSm"),"Object",{__defineGetter__:function(t,e){s.f(i(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},RW0V:function(t,e,r){var n=r("S/j/"),i=r("DVgA");r("Xtr8")("keys",function(){return function(t){return i(n(t))}})},RYi7:function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},RfKB:function(t,e,r){var n=r("2faE").f,i=r("B+OT"),o=r("UWiX")("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},"RjD/":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},RwTk:function(t,e,r){var n=r("XKFU");n(n.P+n.R,"Map",{toJSON:r("RLh9")("Map")})},"S/j/":function(t,e,r){var n=r("vhPU");t.exports=function(t){return Object(n(t))}},SBuE:function(t,e){t.exports={}},SMB2:function(t,e,r){"use strict";r("OGtf")("bold",function(t){return function(){return t(this,"b","","")}})},SPin:function(t,e,r){"use strict";var n=r("XKFU"),i=r("eyMr");n(n.P+n.F*!r("LyE8")([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},SRfc:function(t,e,r){r("IU+Z")("match",1,function(t,e,r){return[function(r){"use strict";var n=t(this),i=void 0==r?void 0:r[e];return void 0!==i?i.call(r,n):new RegExp(r)[e](String(n))},r]})},SlkY:function(t,e,r){var n=r("m0Pp"),i=r("H6hf"),o=r("M6Qj"),s=r("y3w9"),a=r("ne8i"),u=r("J+6e"),l={},h={};(e=t.exports=function(t,e,r,c,f){var p,d,g,v,m=f?function(){return t}:u(t),y=n(r,c,e?2:1),x=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(p=a(t.length);p>x;x++)if((v=e?y(s(d=t[x])[0],d[1]):y(t[x]))===l||v===h)return v}else for(g=m.call(t);!(d=g.next()).done;)if((v=i(g,y,d.value,e))===l||v===h)return v}).BREAK=l,e.RETURN=h},Spd4:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAMCAYAAABSgIzaAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkU5MjdFQTQ3NUQxNTExRTVCRDVBQ0ExRjI2Njc1RDFDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkU5MjdFQTQ4NUQxNTExRTVCRDVBQ0ExRjI2Njc1RDFDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTkyN0VBNDU1RDE1MTFFNUJENUFDQTFGMjY2NzVEMUMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTkyN0VBNDY1RDE1MTFFNUJENUFDQTFGMjY2NzVEMUMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5dxCWYAAAAoElEQVR42mL4//8/Ax7sAcT5aGL8QLwUlwZOIJ4MxP+AuB1J3B6IH/7HockQiK/+RwCQRjYg7gTivzBBZA1MQFwGxD+RNG0HYicgPvsfDcA0yQHxfiTxb0CcC8Q5UPZ/bBojgfg9kth5qC3b/uMBTAwMDIxQDAP/sIhhAiSnHkBzag7UuTidSkzgnMOnkezoQE8AU0hNAISSnAAoyQEEGACW4xp34z9VxgAAAABJRU5ErkJggg=="},T39b:function(t,e,r){"use strict";var n=r("wmvG"),i=r("s5qY");t.exports=r("4LiD")("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(i(this,"Set"),t=0===t?0:t,t)}},n)},TJWN:function(t,e,r){"use strict";var n=r("5T2Y"),i=r("WEpk"),o=r("2faE"),s=r("jmDH"),a=r("UWiX")("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:n[t];s&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},Tdpu:function(t,e,r){r("7DDg")("Float64",8,function(t){return function(e,r,n){return t(this,e,r,n)}})},TuGD:function(t,e,r){var n=r("UWiX")("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var o=[7],s=o[n]();s.next=function(){return{done:r=!0}},o[n]=function(){return s},t(o)}catch(t){}return r}},Tze0:function(t,e,r){"use strict";r("qncB")("trim",function(t){return function(){return t(this,3)}})},"U+KD":function(t,e,r){var n=r("B+OT"),i=r("JB68"),o=r("VVlx")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},U2t9:function(t,e,r){var n=r("XKFU"),i=Math.asinh;n(n.S+n.F*!(i&&1/i(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},UExd:function(t,e,r){var n=r("DVgA"),i=r("aCFj"),o=r("UqcF").f;t.exports=function(t){return function(e){for(var r,s=i(e),a=n(s),u=a.length,l=0,h=[];u>l;)o.call(s,r=a[l++])&&h.push(t?[r,s[r]]:s[r]);return h}}},UO39:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},UUeW:function(t,e,r){var n=r("K0xU")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,!"/./"[t](e)}catch(t){}}return!0}},UWiX:function(t,e,r){var n=r("29s/")("wks"),i=r("YqAc"),o=r("5T2Y").Symbol,s="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=n},UbbE:function(t,e,r){r("o8NH"),t.exports=r("WEpk").Object.assign},UqcF:function(t,e){e.f={}.propertyIsEnumerable},"V+eJ":function(t,e,r){"use strict";var n=r("XKFU"),i=r("w2a5")(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(s||!r("LyE8")(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},"V/DX":function(t,e,r){var n=r("0/R4");r("Xtr8")("isSealed",function(t){return function(e){return!n(e)||!!t&&t(e)}})},VKir:function(t,e,r){"use strict";var n=r("XKFU"),i=r("eeVq"),o=r("vvmO"),s=1..toPrecision;n(n.P+n.F*(i(function(){return"1"!==s.call(1,void 0)})||!i(function(){s.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},VRh9:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAGCAYAAAD37n+BAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2lpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTMyIDc5LjE1OTI4NCwgMjAxNi8wNC8xOS0xMzoxMzo0MCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1NzdDOEVBNEM2NDgxMUUzQjA1RkFCNkE0Q0Y2QTQxRCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBODk1QTcwOUI2MTgxMUU2OUE5M0Q0NjNBMzc3ODNENyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBODk1QTcwOEI2MTgxMUU2OUE5M0Q0NjNBMzc3ODNENyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzFjMjVkZTYtMjIzOC01ODQ0LTgxMDAtZDIxOGZmYjE5OGQ4IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3N0M4RUE0QzY0ODExRTNCMDVGQUI2QTRDRjZBNDFEIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+3ekvvQAAAFRJREFUeNpi/LRbeBIDA0MuA3FgEhOQyAcxiFEMxAVMvC5v/oMYBDSBFYPUgmxgIKAJrhjEYYKJ4tCEohgEGP///49i3Oc9IoxAagKUi6IYBAACDACgMyDQ7E7ViwAAAABJRU5ErkJggg=="},VRzm:function(t,e,r){"use strict";var n,i,o,s,a=r("LQAc"),u=r("dyZX"),l=r("m0Pp"),h=r("I8a+"),c=r("XKFU"),f=r("0/R4"),p=r("2OiF"),d=r("9gX7"),g=r("SlkY"),v=r("69bn"),m=r("GZEu").set,y=r("gHnn")(),x=r("pbhE"),b=r("nICZ"),_=r("vKrd"),w=u.TypeError,T=u.process,E=u.Promise,S="process"==h(T),A=function(){},C=i=x.f,M=!!function(){try{var t=E.resolve(1),e=(t.constructor={})[r("K0xU")("species")]=function(t){t(A,A)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof e}catch(t){}}(),R=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},O=function(t,e){if(!t._n){t._n=!0;var r=t._c;y(function(){for(var n=t._v,i=1==t._s,o=0,s=function(e){var r,o,s=i?e.ok:e.fail,a=e.resolve,u=e.reject,l=e.domain;try{s?(i||(2==t._h&&I(t),t._h=1),!0===s?r=n:(l&&l.enter(),r=s(n),l&&l.exit()),r===e.promise?u(w("Promise-chain cycle")):(o=R(r))?o.call(r,a,u):a(r)):u(n)}catch(t){u(t)}};r.length>o;)s(r[o++]);t._c=[],t._n=!1,e&&!t._h&&P(t)})}},P=function(t){m.call(u,function(){var e,r,n,i=t._v,o=D(t);if(o&&(e=b(function(){S?T.emit("unhandledRejection",i,t):(r=u.onunhandledrejection)?r({promise:t,reason:i}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",i)}),t._h=S||D(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},D=function(t){return 1!==t._h&&0===(t._a||t._c).length},I=function(t){m.call(u,function(){var e;S?T.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},L=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))},F=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw w("Promise can't be resolved itself");(e=R(t))?y(function(){var n={_w:r,_d:!1};try{e.call(t,l(F,n,1),l(L,n,1))}catch(t){L.call(n,t)}}):(r._v=t,r._s=1,O(r,!1))}catch(t){L.call({_w:r,_d:!1},t)}}};M||(E=function(t){d(this,E,"Promise","_h"),p(t),n.call(this);try{t(l(F,this,1),l(L,this,1))}catch(t){L.call(this,t)}},(n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r("3Lyj")(E.prototype,{then:function(t,e){var r=C(v(this,E));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=S?T.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&O(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new n;this.promise=t,this.resolve=l(F,t,1),this.reject=l(L,t,1)},x.f=C=function(t){return t===E||t===s?new o(t):i(t)}),c(c.G+c.W+c.F*!M,{Promise:E}),r("fyDq")(E,"Promise"),r("elZq")("Promise"),s=r("g3g5").Promise,c(c.S+c.F*!M,"Promise",{reject:function(t){var e=C(this);return(0,e.reject)(t),e.promise}}),c(c.S+c.F*(a||!M),"Promise",{resolve:function(t){return _(a&&this===s?E:this,t)}}),c(c.S+c.F*!(M&&r("XMVh")(function(t){E.all(t).catch(A)})),"Promise",{all:function(t){var e=this,r=C(e),n=r.resolve,i=r.reject,o=b(function(){var r=[],o=0,s=1;g(t,!1,function(t){var a=o++,u=!1;r.push(void 0),s++,e.resolve(t).then(function(t){u||(u=!0,r[a]=t,--s||n(r))},i)}),--s||n(r)});return o.e&&i(o.v),r.promise},race:function(t){var e=this,r=C(e),n=r.reject,i=b(function(){g(t,!1,function(t){e.resolve(t).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}})},VTer:function(t,e,r){var n=r("dyZX"),i=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},VVlx:function(t,e,r){var n=r("29s/")("keys"),i=r("YqAc");t.exports=function(t){return n[t]||(n[t]=i(t))}},Vd3H:function(t,e,r){"use strict";var n=r("XKFU"),i=r("2OiF"),o=r("S/j/"),s=r("eeVq"),a=[].sort,u=[1,2,3];n(n.P+n.F*(s(function(){u.sort(void 0)})||!s(function(){u.sort(null)})||!r("LyE8")(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),i(t))}})},VpUO:function(t,e,r){var n=r("XKFU"),i=r("d/Gc"),o=String.fromCharCode,s=String.fromCodePoint;n(n.S+n.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,r=[],n=arguments.length,s=0;n>s;){if(e=+arguments[s++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");r.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return r.join("")}})},W070:function(t,e,r){var n=r("NsO/"),i=r("tEej"),o=r("D8kY");t.exports=function(t){return function(e,r,s){var a,u=n(e),l=i(u.length),h=o(s,l);if(t&&r!=r){for(;l>h;)if((a=u[h++])!=a)return!0}else for(;l>h;h++)if((t||h in u)&&u[h]===r)return t||h||0;return!t&&-1}}},W0GV:function(t,e,r){var n=r("+0iT");"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(n,i);n.locals&&(t.exports=n.locals)},W7oM:function(t,e,r){r("nZgG");var n=r("WEpk").Object;t.exports=function(t,e){return n.defineProperties(t,e)}},WEpk:function(t,e){var r=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=r)},WLL4:function(t,e,r){var n=r("XKFU");n(n.S+n.F*!r("nh4g"),"Object",{defineProperties:r("FJW5")})},XFRQ:function(t,e){"object"==typeof t&&(t.exports=function(){var t=Date.now(),e=t,r=0,n=1/0,i=0,o=0,s=1/0,a=0,u=0,l=0,h=document.createElement("div");h.id="stats",h.addEventListener("mousedown",function(t){t.preventDefault(),y(++l%2)},!1),h.style.cssText="width:80px;opacity:0.9;cursor:pointer";var c=document.createElement("div");c.id="fps",c.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",h.appendChild(c);var f=document.createElement("div");f.id="fpsText",f.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",f.innerHTML="FPS",c.appendChild(f);var p=document.createElement("div");for(p.id="fpsGraph",p.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",c.appendChild(p);74>p.children.length;){var d=document.createElement("span");d.style.cssText="width:1px;height:30px;float:left;background-color:#113",p.appendChild(d)}var g=document.createElement("div");g.id="ms",g.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",h.appendChild(g);var v=document.createElement("div");v.id="msText",v.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",v.innerHTML="MS",g.appendChild(v);var m=document.createElement("div");for(m.id="msGraph",m.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",g.appendChild(m);74>m.children.length;)(d=document.createElement("span")).style.cssText="width:1px;height:30px;float:left;background-color:#131",m.appendChild(d);var y=function(t){switch(l=t){case 0:c.style.display="block",g.style.display="none";break;case 1:c.style.display="none",g.style.display="block"}};return{REVISION:12,domElement:h,setMode:y,begin:function(){t=Date.now()},end:function(){var l=Date.now();r=l-t,n=Math.min(n,r),i=Math.max(i,r),v.textContent=r+" MS ("+n+"-"+i+")";var h=Math.min(30,30-r/200*30);return m.appendChild(m.firstChild).style.height=h+"px",u++,l>e+1e3&&(o=Math.round(1e3*u/(l-e)),s=Math.min(s,o),a=Math.max(a,o),f.textContent=o+" FPS ("+s+"-"+a+")",h=Math.min(30,30-o/100*30),p.appendChild(p.firstChild).style.height=h+"px",e=l,u=0),l},update:function(){t=this.end()}}})},"XJU/":function(t,e,r){var n=r("NegM");t.exports=function(t,e,r){for(var i in e)r&&t[i]?t[i]=e[i]:n(t,i,e[i]);return t}},XKFU:function(t,e,r){var n=r("dyZX"),i=r("g3g5"),o=r("Mukb"),s=r("KroJ"),a=r("m0Pp"),u=function(t,e,r){var l,h,c,f,p=t&u.F,d=t&u.G,g=t&u.S,v=t&u.P,m=t&u.B,y=d?n:g?n[e]||(n[e]={}):(n[e]||{}).prototype,x=d?i:i[e]||(i[e]={}),b=x.prototype||(x.prototype={});for(l in d&&(r=e),r)c=((h=!p&&y&&void 0!==y[l])?y:r)[l],f=m&&h?a(c,n):v&&"function"==typeof c?a(Function.call,c):c,y&&s(y,l,c,t&u.U),x[l]!=c&&o(x,l,f),v&&b[l]!=c&&(b[l]=c)};n.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},XMVh:function(t,e,r){var n=r("K0xU")("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var o=[7],s=o[n]();s.next=function(){return{done:r=!0}},o[n]=function(){return s},t(o)}catch(t){}return r}},XUCW:function(t,e,r){r("KOQb")("WeakMap")},XZCp:function(t,e,r){r("KOQb")("WeakSet")},Xbzi:function(t,e,r){var n=r("0/R4"),i=r("i5dc").set;t.exports=function(t,e,r){var o,s=e.constructor;return s!==r&&"function"==typeof s&&(o=s.prototype)!==r.prototype&&n(o)&&i&&i(t,o),t}},XfKG:function(t,e,r){var n=r("XKFU"),i=r("11IZ");n(n.S+n.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},XfO3:function(t,e,r){"use strict";var n=r("AvRE")(!0);r("Afnz")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})})},Xtr8:function(t,e,r){var n=r("XKFU"),i=r("g3g5"),o=r("eeVq");t.exports=function(t,e){var r=(i.Object||{})[t]||Object[t],s={};s[t]=e(r),n(n.S+n.F*o(function(){r(1)}),"Object",s)}},Y7ZC:function(t,e,r){var n=r("5T2Y"),i=r("WEpk"),o=r("2GTP"),s=r("NegM"),a=function(t,e,r){var u,l,h,c=t&a.F,f=t&a.G,p=t&a.S,d=t&a.P,g=t&a.B,v=t&a.W,m=f?i:i[e]||(i[e]={}),y=m.prototype,x=f?n:p?n[e]:(n[e]||{}).prototype;for(u in f&&(r=e),r)(l=!c&&x&&void 0!==x[u])&&u in m||(h=l?x[u]:r[u],m[u]=f&&"function"!=typeof x[u]?r[u]:g&&l?o(h,n):v&&x[u]==h?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):d&&"function"==typeof h?o(Function.call,h):h,d&&((m.virtual||(m.virtual={}))[u]=h,t&a.R&&y&&!y[u]&&s(y,u,h)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},Y9lz:function(t,e,r){r("7DDg")("Float32",4,function(t){return function(e,r,n){return t(this,e,r,n)}})},YBdB:function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var n,i,o,s,a,u=1,l={},h=!1,c=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick(function(){d(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){d(t.data)},n=function(t){o.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(i=c.documentElement,n=function(t){var e=c.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):n=function(t){setTimeout(d,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&d(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),n=function(e){t.postMessage(s+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var i={callback:t,args:e};return l[u]=i,n(u),u++},f.clearImmediate=p}function p(t){delete l[t]}function d(t){if(h)setTimeout(d,0,t);else{var e=l[t];if(e){h=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}(e)}finally{p(t),h=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r("yLpj"),r("8oxB"))},YJVH:function(t,e,r){"use strict";var n=r("XKFU"),i=r("CkkT")(4);n(n.P+n.F*!r("LyE8")([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},YTvA:function(t,e,r){var n=r("VTer")("keys"),i=r("ylqs");t.exports=function(t){return n[t]||(n[t]=i(t))}},Ymqv:function(t,e,r){var n=r("LZWt");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},YqAc:function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+n).toString(36))}},Z2Ku:function(t,e,r){"use strict";var n=r("XKFU"),i=r("w2a5")(!0);n(n.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r("nGyu")("includes")},Z6vF:function(t,e,r){var n=r("ylqs")("meta"),i=r("0/R4"),o=r("aagx"),s=r("hswa").f,a=0,u=Object.isExtensible||function(){return!0},l=!r("eeVq")(function(){return u(Object.preventExtensions({}))}),h=function(t){s(t,n,{value:{i:"O"+ ++a,w:{}}})},c=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!u(t))return"F";if(!e)return"E";h(t)}return t[n].i},getWeak:function(t,e){if(!o(t,n)){if(!u(t))return!0;if(!e)return!1;h(t)}return t[n].w},onFreeze:function(t){return l&&c.NEED&&u(t)&&!o(t,n)&&h(t),t}}},ZD67:function(t,e,r){"use strict";var n=r("3Lyj"),i=r("Z6vF").getWeak,o=r("y3w9"),s=r("0/R4"),a=r("9gX7"),u=r("SlkY"),l=r("CkkT"),h=r("aagx"),c=r("s5qY"),f=l(5),p=l(6),d=0,g=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},m=function(t,e){return f(t.a,function(t){return t[0]===e})};v.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var r=m(this,t);r?r[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,r,o){var l=t(function(t,n){a(t,l,e,"_i"),t._t=e,t._i=d++,t._l=void 0,void 0!=n&&u(n,r,t[o],t)});return n(l.prototype,{delete:function(t){if(!s(t))return!1;var r=i(t);return!0===r?g(c(this,e)).delete(t):r&&h(r,this._i)&&delete r[this._i]},has:function(t){if(!s(t))return!1;var r=i(t);return!0===r?g(c(this,e)).has(t):r&&h(r,this._i)}}),l},def:function(t,e,r){var n=i(o(e),!0);return!0===n?g(t).set(e,r):n[t._i]=r,t},ufstore:g}},"ZNX/":function(t,e,r){"use strict";var n=r("XKFU"),i=r("S/j/"),o=r("apmT"),s=r("OP3Y"),a=r("EemH").f;r("nh4g")&&n(n.P+r("xbSm"),"Object",{__lookupSetter__:function(t){var e,r=i(this),n=o(t,!0);do{if(e=a(r,n))return e.set}while(r=s(r))}})},ZW5q:function(t,e,r){"use strict";var n=r("eaoh");t.exports.f=function(t){return new function(t){var e,r;this.promise=new t(function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n}),this.resolve=n(e),this.reject=n(r)}(t)}},Zshi:function(t,e,r){var n=r("0/R4");r("Xtr8")("isFrozen",function(t){return function(e){return!n(e)||!!t&&t(e)}})},Zvmr:function(t,e,r){r("ioFf"),r("hHhE"),r("HAE/"),r("WLL4"),r("mYba"),r("5Pf0"),r("RW0V"),r("JduL"),r("DW2E"),r("z2o2"),r("mura"),r("Zshi"),r("V/DX"),r("FlsD"),r("91GP"),r("25dN"),r("/SS/"),r("Btvt"),r("2Spj"),r("f3/d"),r("IXt9"),r("GNAe"),r("tyy+"),r("xfY5"),r("A2zW"),r("VKir"),r("Ljet"),r("/KAi"),r("fN96"),r("7h0T"),r("sbF8"),r("h/M4"),r("knhD"),r("XfKG"),r("BP8U"),r("fyVe"),r("U2t9"),r("2atp"),r("+auO"),r("MtdB"),r("Jcmo"),r("nzyx"),r("BC7C"),r("x8ZO"),r("9P93"),r("eHKK"),r("BJ/l"),r("pp/T"),r("CyHz"),r("bBoP"),r("x8Yj"),r("hLT2"),r("VpUO"),r("eI33"),r("Tze0"),r("XfO3"),r("oDIu"),r("rvZc"),r("L9s1"),r("FLlr"),r("9VmF"),r("hEkN"),r("nIY7"),r("+oPb"),r("SMB2"),r("0mN4"),r("bDcW"),r("nsiH"),r("0LDn"),r("tUrg"),r("84bF"),r("FEjr"),r("Zz4T"),r("JCqj"),r("eM6i"),r("AphP"),r("jqX0"),r("h7Nl"),r("yM4b"),r("LK8F"),r("HEwt"),r("6AQ9"),r("Nz9U"),r("I78e"),r("Vd3H"),r("8+KV"),r("bWfx"),r("0l/t"),r("dZ+Y"),r("YJVH"),r("DNiP"),r("SPin"),r("V+eJ"),r("mGWK"),r("dE+T"),r("bHtr"),r("dRSK"),r("INYr"),r("0E+W"),r("yt8O"),r("Oyvg"),r("a1Th"),r("OEbY"),r("SRfc"),r("pIFo"),r("OG14"),r("KKXr"),r("VRzm"),r("9AAn"),r("T39b"),r("EK0E"),r("wCsR"),r("xm80"),r("Ji/l"),r("sFw1"),r("NO8f"),r("aqI/"),r("Faw5"),r("r1bV"),r("tuSo"),r("nCnK"),r("Y9lz"),r("Tdpu"),r("3xty"),r("I5cv"),r("iMoV"),r("uhZd"),r("f/aN"),r("0YWM"),r("694e"),r("LTTk"),r("9rMk"),r("IlFx"),r("xpiv"),r("oZ/O"),r("klPD"),r("knU9"),r("Z2Ku"),r("6VaU"),r("cfFb"),r("NTXk"),r("9XZr"),r("7VC1"),r("I74W"),r("fA63"),r("mI1R"),r("rE2o"),r("x8qZ"),r("jm62"),r("hhXQ"),r("/8Fb"),r("RQRG"),r("/uf1"),r("uaHG"),r("ZNX/"),r("RwTk"),r("25qn"),r("cpsI"),r("mcXe"),r("dk85"),r("vdFj"),r("QWy2"),r("3YpW"),r("XUCW"),r("XZCp"),r("DDYI"),r("ojR+"),r("QnYD"),r("CeCd"),r("DACs"),r("J0gd"),r("H5GT"),r("nABe"),r("L3jF"),r("tMJk"),r("Hxic"),r("aSs8"),r("x3Uh"),r("ilze"),r("7X58"),r("CX2u"),r("qcxO"),r("49D4"),r("zq+C"),r("45Tv"),r("uAtd"),r("BqfV"),r("fN/3"),r("iW+S"),r("7Dlh"),r("Opxb"),r("DSV3"),r("N7VW"),r("R5XZ"),r("Ew+T"),r("rGqo"),t.exports=r("g3g5")},Zz4T:function(t,e,r){"use strict";r("OGtf")("sub",function(t){return function(){return t(this,"sub","","")}})},a0xu:function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},a1Th:function(t,e,r){"use strict";r("OEbY");var n=r("y3w9"),i=r("C/va"),o=r("nh4g"),s=/./.toString,a=function(t){r("KroJ")(RegExp.prototype,"toString",t,!0)};r("eeVq")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?a(function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):"toString"!=s.name&&a(function(){return s.call(this)})},aCFj:function(t,e,r){var n=r("Ymqv"),i=r("vhPU");t.exports=function(t){return n(i(t))}},"aET+":function(t,e,r){var n,i,o={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=n.apply(this,arguments)),i}),a=function(t){var e={};return function(t,r){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),u=null,l=0,h=[],c=r("9tPo");function f(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=o[n.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](n.parts[s]);for(;s<n.parts.length;s++)i.parts.push(y(n.parts[s],e))}else{var a=[];for(s=0;s<n.parts.length;s++)a.push(y(n.parts[s],e));o[n.id]={id:n.id,refs:1,parts:a}}}}function p(t,e){for(var r=[],n={},i=0;i<t.length;i++){var o=t[i],s=e.base?o[0]+e.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};n[s]?n[s].parts.push(a):r.push(n[s]={id:s,parts:[a]})}return r}function d(t,e){var r=a(t.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=h[h.length-1];if("top"===t.insertAt)n?n.nextSibling?r.insertBefore(e,n.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),h.push(e);else if("bottom"===t.insertAt)r.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(t.insertAt.before,r);r.insertBefore(e,i)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=h.indexOf(t);e>=0&&h.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var n=function(){0;return r.nc}();n&&(t.attrs.nonce=n)}return m(e,t.attrs),d(t,e),e}function m(t,e){Object.keys(e).forEach(function(r){t.setAttribute(r,e[r])})}function y(t,e){var r,n,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var s=l++;r=u||(u=v(e)),n=_.bind(null,r,s,!1),i=_.bind(null,r,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",m(e,t.attrs),d(t,e),e}(e),n=function(t,e,r){var n=r.css,i=r.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(n=c(n));i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([n],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,r,e),i=function(){g(r),r.href&&URL.revokeObjectURL(r.href)}):(r=v(e),n=function(t,e){var r=e.css,n=e.media;n&&t.setAttribute("media",n);if(t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}.bind(null,r),i=function(){g(r)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var r=p(t,e);return f(r,e),function(t){for(var n=[],i=0;i<r.length;i++){var s=r[i];(a=o[s.id]).refs--,n.push(a)}t&&f(p(t,e),e);for(i=0;i<n.length;i++){var a;if(0===(a=n[i]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete o[a.id]}}}};var x,b=(x=[],function(t,e){return x[t]=e,x.filter(Boolean).join("\n")});function _(t,e,r,n){var i=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}},aSs8:function(t,e,r){var n=r("XKFU"),i=Math.PI/180;n(n.S,"Math",{radians:function(t){return t*i}})},aW7e:function(t,e,r){r("wgeU"),r("FlQf"),r("bBy9"),r("JMW+"),r("PBE1"),r("Q/yX"),t.exports=r("WEpk").Promise},aagx:function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},apmT:function(t,e,r){var n=r("0/R4");t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"aqI/":function(t,e,r){r("7DDg")("Uint8",1,function(t){return function(e,r,n){return t(this,e,r,n)}},!0)},bBoP:function(t,e,r){var n=r("XKFU"),i=r("LVwc"),o=Math.exp;n(n.S+n.F*r("eeVq")(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},bBy9:function(t,e,r){r("w2d+");for(var n=r("5T2Y"),i=r("NegM"),o=r("SBuE"),s=r("UWiX")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var l=a[u],h=n[l],c=h&&h.prototype;c&&!c[s]&&i(c,s,l),o[l]=o.Array}},bDcW:function(t,e,r){"use strict";r("OGtf")("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},bHtr:function(t,e,r){var n=r("XKFU");n(n.P,"Array",{fill:r("Nr18")}),r("nGyu")("fill")},bWfx:function(t,e,r){"use strict";var n=r("XKFU"),i=r("CkkT")(1);n(n.P+n.F*!r("LyE8")([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},bdgK:function(t,e,r){"use strict";(function(t){var r=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var r=-1;return t.some(function(t,n){return t[0]===e&&(r=n,!0)}),r}return function(){function e(){this.__entries__=[]}var r={size:{configurable:!0}};return r.size.get=function(){return this.__entries__.length},e.prototype.get=function(e){var r=t(this.__entries__,e),n=this.__entries__[r];return n&&n[1]},e.prototype.set=function(e,r){var n=t(this.__entries__,e);~n?this.__entries__[n][1]=r:this.__entries__.push([e,r])},e.prototype.delete=function(e){var r=this.__entries__,n=t(r,e);~n&&r.splice(n,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var r=0,n=this.__entries__;r<n.length;r+=1){var i=n[r];t.call(e,i[1],i[0])}},Object.defineProperties(e.prototype,r),e}()}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},s=2,a=["top","right","bottom","left","width","height","size","weight"],u="undefined"!=typeof MutationObserver,l=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var r=!1,n=!1,i=0;function a(){r&&(r=!1,t()),n&&l()}function u(){o(a)}function l(){var t=Date.now();if(r){if(t-i<s)return;n=!0}else r=!0,n=!1,setTimeout(u,e);i=t}return l}(this.refresh.bind(this),20)};l.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},l.prototype.removeObserver=function(t){var e=this.observers_,r=e.indexOf(t);~r&&e.splice(r,1),!e.length&&this.connected_&&this.disconnect_()},l.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},l.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},l.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},l.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},l.prototype.onTransitionEnd_=function(t){var e=t.propertyName;void 0===e&&(e=""),a.some(function(t){return!!~e.indexOf(t)})&&this.refresh()},l.getInstance=function(){return this.instance_||(this.instance_=new l),this.instance_},l.instance_=null;var h=function(t,e){for(var r=0,n=Object.keys(e);r<n.length;r+=1){var i=n[r];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},c=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||i},f=y(0,0,0,0);function p(t){return parseFloat(t)||0}function d(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return e.reduce(function(e,r){return e+p(t["border-"+r+"-width"])},0)}function g(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return f;var n=c(t).getComputedStyle(t),i=function(t){for(var e={},r=0,n=["top","right","bottom","left"];r<n.length;r+=1){var i=n[r],o=t["padding-"+i];e[i]=p(o)}return e}(n),o=i.left+i.right,s=i.top+i.bottom,a=p(n.width),u=p(n.height);if("border-box"===n.boxSizing&&(Math.round(a+o)!==e&&(a-=d(n,"left","right")+o),Math.round(u+s)!==r&&(u-=d(n,"top","bottom")+s)),!function(t){return t===c(t).document.documentElement}(t)){var l=Math.round(a+o)-e,h=Math.round(u+s)-r;1!==Math.abs(l)&&(a-=l),1!==Math.abs(h)&&(u-=h)}return y(i.left,i.top,a,u)}var v="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof c(t).SVGGraphicsElement}:function(t){return t instanceof c(t).SVGElement&&"function"==typeof t.getBBox};function m(t){return n?v(t)?function(t){var e=t.getBBox();return y(0,0,e.width,e.height)}(t):g(t):f}function y(t,e,r,n){return{x:t,y:e,width:r,height:n}}var x=function(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=t};x.prototype.isActive=function(){var t=m(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},x.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t};var b=function(t,e){var r,n,i,o,s,a,u,l=(n=(r=e).x,i=r.y,o=r.width,s=r.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(a.prototype),h(u,{x:n,y:i,width:o,height:s,top:i,right:n+o,bottom:s+i,left:n}),u);h(this,{target:t,contentRect:l})},_=function(t,e,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n};_.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof c(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new x(t)),this.controller_.addObserver(this),this.controller_.refresh())}},_.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof c(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},_.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},_.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},_.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new b(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},_.prototype.clearActive=function(){this.activeObservations_.splice(0)},_.prototype.hasActive=function(){return this.activeObservations_.length>0};var w="undefined"!=typeof WeakMap?new WeakMap:new r,T=function(t){if(!(this instanceof T))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=l.getInstance(),r=new _(t,e,this);w.set(this,r)};["observe","unobserve","disconnect"].forEach(function(t){T.prototype[t]=function(){return(e=w.get(this))[t].apply(e,arguments);var e}});var E=void 0!==i.ResizeObserver?i.ResizeObserver:T;e.a=E}).call(this,r("yLpj"))},ccE7:function(t,e,r){var n=r("Ojgd"),i=r("Jes0");t.exports=function(t){return function(e,r){var o,s,a=String(i(e)),u=n(r),l=a.length;return u<0||u>=l?t?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===l||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}}},cfFb:function(t,e,r){"use strict";var n=r("XKFU"),i=r("xF/b"),o=r("S/j/"),s=r("ne8i"),a=r("RYi7"),u=r("zRwo");n(n.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),r=s(e.length),n=u(e,0);return i(n,e,e,r,0,void 0===t?1:a(t)),n}}),r("nGyu")("flatten")},cpsI:function(t,e,r){r("xqFc")("Map")},czNK:function(t,e,r){"use strict";var n=r("DVgA"),i=r("JiEa"),o=r("UqcF"),s=r("S/j/"),a=r("Ymqv"),u=Object.assign;t.exports=!u||r("eeVq")(function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(t){e[t]=t}),7!=u({},t)[r]||Object.keys(u({},e)).join("")!=n})?function(t,e){for(var r=s(t),u=arguments.length,l=1,h=i.f,c=o.f;u>l;)for(var f,p=a(arguments[l++]),d=h?n(p).concat(h(p)):n(p),g=d.length,v=0;g>v;)c.call(p,f=d[v++])&&(r[f]=p[f]);return r}:u},"d/Gc":function(t,e,r){var n=r("RYi7"),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=n(t))<0?i(t+e,0):o(t,e)}},"dE+T":function(t,e,r){var n=r("XKFU");n(n.P,"Array",{copyWithin:r("upKx")}),r("nGyu")("copyWithin")},dRSK:function(t,e,r){"use strict";var n=r("XKFU"),i=r("CkkT")(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),n(n.P+n.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r("nGyu")("find")},"dZ+Y":function(t,e,r){"use strict";var n=r("XKFU"),i=r("CkkT")(3);n(n.P+n.F*!r("LyE8")([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},dk85:function(t,e,r){r("xqFc")("WeakMap")},do7i:function(t,e,r){(t.exports=r("I1BE")(!1)).push([t.i,"*,:after,:before{margin:0;padding:0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}body,html{height:100%}body{overflow:hidden;font-family:Open Sans,Lato,sans-serif!important;font-weight:300;color:#454c55}button{margin:0;padding:0;background-color:transparent;border:none;font:inherit;cursor:pointer;color:#b3b9ad}button,button:active,button:hover,button:visited{outline:0}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}a,a:active,a:hover,a:visited{text-decoration:none;color:#454c55;font-weight:600;outline:0;cursor:pointer}::-webkit-scrollbar{width:14px;height:14px;background-color:#252e38}::-webkit-scrollbar-thumb{min-height:40px;border:4px solid transparent;background-clip:padding-box;-webkit-border-radius:7px;background-color:hsla(0,0%,100%,.2)}",""])},dyZX:function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},e7yV:function(t,e,r){var n=r("aCFj"),i=r("kJMx").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(n(t))}},eHKK:function(t,e,r){var n=r("XKFU");n(n.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},eI33:function(t,e,r){var n=r("XKFU"),i=r("aCFj"),o=r("ne8i");n(n.S,"String",{raw:function(t){for(var e=i(t.raw),r=o(e.length),n=arguments.length,s=[],a=0;r>a;)s.push(String(e[a++])),a<n&&s.push(String(arguments[a]));return s.join("")}})},eM6i:function(t,e,r){var n=r("XKFU");n(n.S,"Date",{now:function(){return(new Date).getTime()}})},eOGM:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAMCAYAAABSgIzaAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkNDOTYyQUI1NUQxNTExRTU5QkZBRUU0RDI2N0RCMDBEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkNDOTYyQUI2NUQxNTExRTU5QkZBRUU0RDI2N0RCMDBEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Q0M5NjJBQjM1RDE1MTFFNTlCRkFFRTREMjY3REIwMEQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Q0M5NjJBQjQ1RDE1MTFFNTlCRkFFRTREMjY3REIwMEQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7tGDqWAAAAl0lEQVR42mL6////UiAWAGIGJJwHxB5oYigYRIDAQyC2R5JoB+J/QDwZiDnxaQSBv0DcCcRsUI0wcBWIDfBphIFzQOwMxNuRxH4CcRkQM+HTCALfgDgHiHOhbBjYB8Ry+DTCAMhWJ6grYOA9EEcyMRAGjED8H0MMj1Nzoc5FduoBfE49T2rg4IsOQ3wJwIHUBEBWkgMIMADMoBp5IOgHAAAAAABJRU5ErkJggg=="},eUtF:function(t,e,r){t.exports=!r("jmDH")&&!r("KUxP")(function(){return 7!=Object.defineProperty(r("Hsns")("div"),"a",{get:function(){return 7}}).a})},eaoh:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},eeVq:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},elZq:function(t,e,r){"use strict";var n=r("dyZX"),i=r("hswa"),o=r("nh4g"),s=r("K0xU")("species");t.exports=function(t){var e=n[t];o&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},ewG8:function(t,e,r){var n;
/*! 
 * angular-hotkeys v1.7.0
 * https://chieffancypants.github.io/angular-hotkeys
 * Copyright (c) 2016 Wes Cruver
 * License: MIT
 */
/*! 
 * angular-hotkeys v1.7.0
 * https://chieffancypants.github.io/angular-hotkeys
 * Copyright (c) 2016 Wes Cruver
 * License: MIT
 */
!function(){"use strict";angular.module("cfp.hotkeys",[]).provider("hotkeys",["$injector",function(t){this.includeCheatSheet=!0,this.useNgRoute=t.has("ngViewDirective"),this.templateTitle="Keyboard Shortcuts:",this.templateHeader=null,this.templateFooter=null,this.template='<div class="cfp-hotkeys-container fade" ng-class="{in: helpVisible}" style="display: none;"><div class="cfp-hotkeys"><h4 class="cfp-hotkeys-title" ng-if="!header">{{ title }}</h4><div ng-bind-html="header" ng-if="header"></div><table><tbody><tr ng-repeat="hotkey in hotkeys | filter:{ description: \'!$$undefined$$\' }"><td class="cfp-hotkeys-keys"><span ng-repeat="key in hotkey.format() track by $index" class="cfp-hotkeys-key">{{ key }}</span></td><td class="cfp-hotkeys-text">{{ hotkey.description }}</td></tr></tbody></table><div ng-bind-html="footer" ng-if="footer"></div><div class="cfp-hotkeys-close" ng-click="toggleCheatSheet()">&#215;</div></div></div>',this.cheatSheetHotkey="?",this.cheatSheetDescription="Show / hide this help menu",this.$get=["$rootElement","$rootScope","$compile","$window","$document",function(t,e,r,n,i){var o=!0;function s(t){var e={command:"⌘",shift:"⇧",left:"←",right:"→",up:"↑",down:"↓",return:"⏎",backspace:"⌫"};t=t.split("+");for(var r=0;r<t.length;r++)"mod"===t[r]&&(n.navigator&&n.navigator.platform.indexOf("Mac")>=0?t[r]="command":t[r]="ctrl"),t[r]=e[t[r]]||t[r];return t.join(" + ")}function a(t,e,r,n,i,o){this.combo=t instanceof Array?t:[t],this.description=e,this.callback=r,this.action=n,this.allowIn=i,this.persistent=o,this._formated=null}Mousetrap.prototype.stopCallback=function(t,e){return!o||!((" "+e.className+" ").indexOf(" mousetrap ")>-1)&&(e.contentEditable&&"true"==e.contentEditable)},a.prototype.format=function(){if(null===this._formated){for(var t=this.combo[0].split(/[\s]/),e=0;e<t.length;e++)t[e]=s(t[e]);this._formated=t}return this._formated};var u=e.$new();u.hotkeys=[],u.helpVisible=!1,u.title=this.templateTitle,u.header=this.templateHeader,u.footer=this.templateFooter,u.toggleCheatSheet=g;var l={};if(this.useNgRoute&&e.$on("$routeChangeSuccess",function(t,e){p(),e&&e.hotkeys&&angular.forEach(e.hotkeys,function(t){var r=t[2];("string"==typeof r||r instanceof String)&&(t[2]=[r,e]),t[5]=!1,v.apply(this,t)})}),this.includeCheatSheet){var h=i[0],c=t[0],f=angular.element(this.template);v(this.cheatSheetHotkey,this.cheatSheetDescription,g),c!==h&&c!==h.documentElement||(c=h.body),angular.element(c).append(r(f)(u))}function p(){for(var t=u.hotkeys.length;t--;){var e=u.hotkeys[t];e&&!e.persistent&&m(e)}}var d=!1;function g(){u.helpVisible=!u.helpVisible,u.helpVisible?(d=y("esc"),m("esc"),v("esc",d.description,g,null,["INPUT","SELECT","TEXTAREA"])):(m("esc"),!1!==d&&v(d))}function v(t,e,r,n,i,o){var s,l=["INPUT","SELECT","TEXTAREA"];if("[object Object]"===Object.prototype.toString.call(t)&&(e=t.description,r=t.callback,n=t.action,o=t.persistent,i=t.allowIn,t=t.combo),m(t),e instanceof Function?(n=r,r=e,e="$$undefined$$"):angular.isUndefined(e)&&(e="$$undefined$$"),void 0===o&&(o=!0),"function"==typeof r){var h;s=r,i instanceof Array||(i=[]);for(var c=0;c<i.length;c++)i[c]=i[c].toUpperCase(),-1!==(h=l.indexOf(i[c]))&&l.splice(h,1);r=function(t){var e=!0;if(t){var r=t.target||t.srcElement,n=r.nodeName.toUpperCase();if((" "+r.className+" ").indexOf(" mousetrap ")>-1)e=!0;else for(var i=0;i<l.length;i++)if(l[i]===n){e=!1;break}}e&&x(s.apply(this,arguments))}}"string"==typeof n?Mousetrap.bind(t,x(r),n):Mousetrap.bind(t,x(r));var f=new a(t,e,r,n,i,o);return u.hotkeys.push(f),f}function m(t){var e=t instanceof a?t.combo:t;if(Mousetrap.unbind(e),angular.isArray(e)){for(var r=!0,n=e.length;n--;)r=m(e[n])&&r;return r}var i=u.hotkeys.indexOf(y(e));return i>-1&&(u.hotkeys[i].combo.length>1?u.hotkeys[i].combo.splice(u.hotkeys[i].combo.indexOf(e),1):(angular.forEach(l,function(t){var e=t.indexOf(u.hotkeys[i]);-1!==e&&t.splice(e,1)}),u.hotkeys.splice(i,1)),!0)}function y(t){if(!t)return u.hotkeys;for(var e,r=0;r<u.hotkeys.length;r++)if((e=u.hotkeys[r]).combo.indexOf(t)>-1)return e;return!1}function x(t){return function(r,n){if(t instanceof Array){var i=t[0],o=t[1];t=function(t){o.scope.$eval(i)}}e.$apply(function(){t(r,y(n))})}}return{add:v,del:m,get:y,bindTo:function(t){return t.$id in l||(l[t.$id]=[],t.$on("$destroy",function(){for(var e=l[t.$id].length;e--;)m(l[t.$id].pop())})),{add:function(e){var r;return r=arguments.length>1?v.apply(this,arguments):v(e),l[t.$id].push(r),this}}},template:this.template,toggleCheatSheet:g,includeCheatSheet:this.includeCheatSheet,cheatSheetHotkey:this.cheatSheetHotkey,cheatSheetDescription:this.cheatSheetDescription,useNgRoute:this.useNgRoute,purgeHotkeys:p,templateTitle:this.templateTitle,pause:function(){o=!1},unpause:function(){o=!0}}}]}]).directive("hotkey",["hotkeys",function(t){return{restrict:"A",link:function(e,r,n){var i,o=[];angular.forEach(e.$eval(n.hotkey),function(e,r){i="string"==typeof n.hotkeyAllowIn?n.hotkeyAllowIn.split(/[\s,]+/):[],o.push(r),t.add({combo:r,description:n.hotkeyDescription,callback:e,action:n.hotkeyAction,allowIn:i})}),r.bind("$destroy",function(){angular.forEach(o,t.del)})}}}]).run(["hotkeys",function(t){}])}(),function(i,o,s){for(var a,u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},l={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},h={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},c={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},f=1;f<20;++f)u[111+f]="f"+f;for(f=0;f<=9;++f)u[f+96]=f;function p(t,e,r){t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent("on"+e,r)}function d(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return u[t.which]?u[t.which]:l[t.which]?l[t.which]:String.fromCharCode(t.which).toLowerCase()}function g(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function v(t,e,r){return r||(r=function(){if(!a)for(var t in a={},u)t>95&&t<112||u.hasOwnProperty(t)&&(a[u[t]]=t);return a}()[t]?"keydown":"keypress"),"keypress"==r&&e.length&&(r="keydown"),r}function m(t,e){var r,n,i,o=[];for(r=function(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus")).split("+")}(t),i=0;i<r.length;++i)n=r[i],c[n]&&(n=c[n]),e&&"keypress"!=e&&h[n]&&(n=h[n],o.push("shift")),g(n)&&o.push(n);return{key:n,modifiers:o,action:e=v(n,o,e)}}function y(t){var e=this;if(t=t||o,!(e instanceof y))return new y(t);e.target=t,e._callbacks={},e._directMap={};var r,n={},i=!1,s=!1,a=!1;function u(t){t=t||{};var e,r=!1;for(e in n)t[e]?r=!0:n[e]=0;r||(a=!1)}function l(t,r,i,o,s,a){var u,l,h,c,f=[],p=i.type;if(!e._callbacks[t])return[];for("keyup"==p&&g(t)&&(r=[t]),u=0;u<e._callbacks[t].length;++u)if(l=e._callbacks[t][u],(o||!l.seq||n[l.seq]==l.level)&&p==l.action&&("keypress"==p&&!i.metaKey&&!i.ctrlKey||(h=r,c=l.modifiers,h.sort().join(",")===c.sort().join(",")))){var d=!o&&l.combo==s,v=o&&l.seq==o&&l.level==a;(d||v)&&e._callbacks[t].splice(u,1),f.push(l)}return f}function h(t,r,n,i){e.stopCallback(r,r.target||r.srcElement,n,i)||!1===t(r,n)&&(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(r),function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}(r))}function c(t){"number"!=typeof t.which&&(t.which=t.keyCode);var r=d(t);r&&("keyup"!=t.type||i!==r?e.handleKey(r,function(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}(t),t):i=!1)}function f(t,e,o,s){function l(e){return function(){a=e,++n[t],clearTimeout(r),r=setTimeout(u,1e3)}}function c(e){h(o,e,t),"keyup"!==s&&(i=d(e)),setTimeout(u,10)}n[t]=0;for(var f=0;f<e.length;++f){var p=f+1===e.length?c:l(s||m(e[f+1]).action);v(e[f],p,s,t,f)}}function v(t,r,n,i,o){e._directMap[t+":"+n]=r;var s,a=(t=t.replace(/\s+/g," ")).split(" ");a.length>1?f(t,a,r,n):(s=m(t,n),e._callbacks[s.key]=e._callbacks[s.key]||[],l(s.key,s.modifiers,{type:s.action},i,t,o),e._callbacks[s.key][i?"unshift":"push"]({callback:r,modifiers:s.modifiers,action:s.action,seq:i,level:o,combo:t}))}e._handleKey=function(t,e,r){var n,i=l(t,e,r),o={},c=0,f=!1;for(n=0;n<i.length;++n)i[n].seq&&(c=Math.max(c,i[n].level));for(n=0;n<i.length;++n)if(i[n].seq){if(i[n].level!=c)continue;f=!0,o[i[n].seq]=1,h(i[n].callback,r,i[n].combo,i[n].seq)}else f||h(i[n].callback,r,i[n].combo);var p="keypress"==r.type&&s;r.type!=a||g(t)||p||u(o),s=f&&"keydown"==r.type},e._bindMultiple=function(t,e,r){for(var n=0;n<t.length;++n)v(t[n],e,r)},p(t,"keypress",c),p(t,"keydown",c),p(t,"keyup",c)}y.prototype.bind=function(t,e,r){return t=t instanceof Array?t:[t],this._bindMultiple.call(this,t,e,r),this},y.prototype.unbind=function(t,e){return this.bind.call(this,t,function(){},e)},y.prototype.trigger=function(t,e){return this._directMap[t+":"+e]&&this._directMap[t+":"+e]({},t),this},y.prototype.reset=function(){return this._callbacks={},this._directMap={},this},y.prototype.stopCallback=function(t,e){return!((" "+e.className+" ").indexOf(" mousetrap ")>-1)&&(!function t(e,r){return e!==o&&(e===r||t(e.parentNode,r))}(e,this.target)&&("INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable))},y.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},y.init=function(){var t=y(o);for(var e in t)"_"!==e.charAt(0)&&(y[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},y.init(),i.Mousetrap=y,void 0!==t&&t.exports&&(t.exports=y),void 0===(n=function(){return y}.call(e,r,e,t))||(t.exports=n)}(window,document)},eyMr:function(t,e,r){var n=r("2OiF"),i=r("S/j/"),o=r("Ymqv"),s=r("ne8i");t.exports=function(t,e,r,a,u){n(e);var l=i(t),h=o(l),c=s(l.length),f=u?c-1:0,p=u?-1:1;if(r<2)for(;;){if(f in h){a=h[f],f+=p;break}if(f+=p,u?f<0:c<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:c>f;f+=p)f in h&&(a=e(a,h[f],f,l));return a}},"f/aN":function(t,e,r){"use strict";var n=r("XKFU"),i=r("y3w9"),o=function(t){this._t=i(t),this._i=0;var e,r=this._k=[];for(e in t)r.push(e)};r("QaDb")(o,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),n(n.S,"Reflect",{enumerate:function(t){return new o(t)}})},"f3/d":function(t,e,r){var n=r("hswa").f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||r("nh4g")&&n(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},fA63:function(t,e,r){"use strict";r("qncB")("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},"fN/3":function(t,e,r){var n=r("N6cJ"),i=r("y3w9"),o=n.keys,s=n.key;n.exp({getOwnMetadataKeys:function(t){return o(i(t),arguments.length<2?void 0:s(arguments[1]))}})},fN96:function(t,e,r){var n=r("XKFU");n(n.S,"Number",{isInteger:r("nBIS")})},fNZA:function(t,e,r){var n=r("QMMT"),i=r("UWiX")("iterator"),o=r("SBuE");t.exports=r("WEpk").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[n(t)]}},fpC5:function(t,e,r){var n=r("2faE"),i=r("5K7Z"),o=r("w6GO");t.exports=r("jmDH")?Object.defineProperties:function(t,e){i(t);for(var r,s=o(e),a=s.length,u=0;a>u;)n.f(t,r=s[u++],e[r]);return t}},fyDq:function(t,e,r){var n=r("hswa").f,i=r("aagx"),o=r("K0xU")("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},fyVe:function(t,e,r){var n=r("XKFU"),i=r("1sa7"),o=Math.sqrt,s=Math.acosh;n(n.S+n.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},g1HB:function(t,e,r){"use strict";var n=r("KHwQ"),i=r.n(n),o=r("NeU8"),s=r.n(o),a=r("MWP8"),u=r.n(a),l=(r("ewG8"),i.a.module("player",[u.a.name,"cfp.hotkeys",s.a]));l.constant("playerColors",["#ff8f16","#ff1d5c","#22a1e4","#de6ddf","#9975e2","#ff0000","#6ac371","#3ac5ca"]),e.a=l},g3g5:function(t,e){var r=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=r)},g4EE:function(t,e,r){"use strict";var n=r("y3w9"),i=r("apmT");t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(n(this),"number"!=t)}},g6HL:function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},gHnn:function(t,e,r){var n=r("dyZX"),i=r("GZEu").set,o=n.MutationObserver||n.WebKitMutationObserver,s=n.process,a=n.Promise,u="process"==r("LZWt")(s);t.exports=function(){var t,e,r,l=function(){var n,i;for(u&&(n=s.domain)&&n.exit();t;){i=t.fn,t=t.next;try{i()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(u)r=function(){s.nextTick(l)};else if(!o||n.navigator&&n.navigator.standalone)if(a&&a.resolve){var h=a.resolve();r=function(){h.then(l)}}else r=function(){i.call(n,l)};else{var c=!0,f=document.createTextNode("");new o(l).observe(f,{characterData:!0}),r=function(){f.data=c=!c}}return function(n){var i={fn:n,next:void 0};e&&(e.next=i),t||(t=i,r()),e=i}}},"h/M4":function(t,e,r){var n=r("XKFU");n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},h7Nl:function(t,e,r){var n=Date.prototype,i=n.toString,o=n.getTime;new Date(NaN)+""!="Invalid Date"&&r("KroJ")(n,"toString",function(){var t=o.call(this);return t==t?i.call(this):"Invalid Date"})},hDam:function(t,e){t.exports=function(){}},hEkN:function(t,e,r){"use strict";r("OGtf")("anchor",function(t){return function(e){return t(this,"a","name",e)}})},hHhE:function(t,e,r){var n=r("XKFU");n(n.S,"Object",{create:r("Kuth")})},hLT2:function(t,e,r){var n=r("XKFU");n(n.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},hPIQ:function(t,e){t.exports={}},hhXQ:function(t,e,r){var n=r("XKFU"),i=r("UExd")(!1);n(n.S,"Object",{values:function(t){return i(t)}})},hswa:function(t,e,r){var n=r("y3w9"),i=r("xpql"),o=r("apmT"),s=Object.defineProperty;e.f=r("nh4g")?Object.defineProperty:function(t,e,r){if(n(t),e=o(e,!0),n(r),i)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},i5dc:function(t,e,r){var n=r("0/R4"),i=r("y3w9"),o=function(t,e){if(i(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=r("m0Pp")(Function.call,r("EemH").f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return o(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:o}},iMoV:function(t,e,r){var n=r("hswa"),i=r("XKFU"),o=r("y3w9"),s=r("apmT");i(i.S+i.F*r("eeVq")(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,r){o(t),e=s(e,!0),o(r);try{return n.f(t,e,r),!0}catch(t){return!1}}})},"iW+S":function(t,e,r){var n=r("N6cJ"),i=r("y3w9"),o=r("OP3Y"),s=n.has,a=n.key,u=function(t,e,r){if(s(t,e,r))return!0;var n=o(e);return null!==n&&u(t,n,r)};n.exp({hasMetadata:function(t,e){return u(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},ilze:function(t,e,r){var n=r("XKFU");n(n.S,"Math",{umulh:function(t,e){var r=+t,n=+e,i=65535&r,o=65535&n,s=r>>>16,a=n>>>16,u=(s*o>>>0)+(i*o>>>16);return s*a+(u>>>16)+((i*a>>>0)+(65535&u)>>>16)}})},io0T:function(t,e,r){t.exports={default:r("W7oM"),__esModule:!0}},ioFf:function(t,e,r){"use strict";var n=r("dyZX"),i=r("aagx"),o=r("nh4g"),s=r("XKFU"),a=r("KroJ"),u=r("Z6vF").KEY,l=r("eeVq"),h=r("VTer"),c=r("fyDq"),f=r("ylqs"),p=r("K0xU"),d=r("N8g3"),g=r("OnI7"),v=r("1MBn"),m=r("EWmC"),y=r("y3w9"),x=r("0/R4"),b=r("aCFj"),_=r("apmT"),w=r("RjD/"),T=r("Kuth"),E=r("e7yV"),S=r("EemH"),A=r("hswa"),C=r("DVgA"),M=S.f,R=A.f,O=E.f,P=n.Symbol,D=n.JSON,I=D&&D.stringify,L=p("_hidden"),F=p("toPrimitive"),k={}.propertyIsEnumerable,B=h("symbol-registry"),N=h("symbols"),U=h("op-symbols"),$=Object.prototype,j="function"==typeof P,G=n.QObject,W=!G||!G.prototype||!G.prototype.findChild,V=o&&l(function(){return 7!=T(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a})?function(t,e,r){var n=M($,e);n&&delete $[e],R(t,e,r),n&&t!==$&&R($,e,n)}:R,X=function(t){var e=N[t]=T(P.prototype);return e._k=t,e},z=j&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},Y=function(t,e,r){return t===$&&Y(U,e,r),y(t),e=_(e,!0),y(r),i(N,e)?(r.enumerable?(i(t,L)&&t[L][e]&&(t[L][e]=!1),r=T(r,{enumerable:w(0,!1)})):(i(t,L)||R(t,L,w(1,{})),t[L][e]=!0),V(t,e,r)):R(t,e,r)},H=function(t,e){y(t);for(var r,n=v(e=b(e)),i=0,o=n.length;o>i;)Y(t,r=n[i++],e[r]);return t},q=function(t){var e=k.call(this,t=_(t,!0));return!(this===$&&i(N,t)&&!i(U,t))&&(!(e||!i(this,t)||!i(N,t)||i(this,L)&&this[L][t])||e)},Z=function(t,e){if(t=b(t),e=_(e,!0),t!==$||!i(N,e)||i(U,e)){var r=M(t,e);return!r||!i(N,e)||i(t,L)&&t[L][e]||(r.enumerable=!0),r}},K=function(t){for(var e,r=O(b(t)),n=[],o=0;r.length>o;)i(N,e=r[o++])||e==L||e==u||n.push(e);return n},Q=function(t){for(var e,r=t===$,n=O(r?U:b(t)),o=[],s=0;n.length>s;)!i(N,e=n[s++])||r&&!i($,e)||o.push(N[e]);return o};j||(a((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(r){this===$&&e.call(U,r),i(this,L)&&i(this[L],t)&&(this[L][t]=!1),V(this,t,w(1,r))};return o&&W&&V($,t,{configurable:!0,set:e}),X(t)}).prototype,"toString",function(){return this._k}),S.f=Z,A.f=Y,r("kJMx").f=E.f=K,r("UqcF").f=q,r("JiEa").f=Q,o&&!r("LQAc")&&a($,"propertyIsEnumerable",q,!0),d.f=function(t){return X(p(t))}),s(s.G+s.W+s.F*!j,{Symbol:P});for(var J="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;J.length>tt;)p(J[tt++]);for(var et=C(p.store),rt=0;et.length>rt;)g(et[rt++]);s(s.S+s.F*!j,"Symbol",{for:function(t){return i(B,t+="")?B[t]:B[t]=P(t)},keyFor:function(t){if(!z(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),s(s.S+s.F*!j,"Object",{create:function(t,e){return void 0===e?T(t):H(T(t),e)},defineProperty:Y,defineProperties:H,getOwnPropertyDescriptor:Z,getOwnPropertyNames:K,getOwnPropertySymbols:Q}),D&&s(s.S+s.F*(!j||l(function(){var t=P();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){for(var e,r,n=[t],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=e=n[1],(x(e)||void 0!==t)&&!z(t))return m(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!z(e))return e}),n[1]=e,I.apply(D,n)}}),P.prototype[F]||r("Mukb")(P.prototype,F,P.prototype.valueOf),c(P,"Symbol"),c(Math,"Math",!0),c(n.JSON,"JSON",!0)},iq4v:function(t,e,r){r("Mqbl"),t.exports=r("WEpk").Object.keys},j2DC:function(t,e,r){"use strict";var n=r("oVml"),i=r("rr1i"),o=r("RfKB"),s={};r("NegM")(s,r("UWiX")("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=n(s,{next:i(1,r)}),o(t,e+" Iterator")}},jm62:function(t,e,r){var n=r("XKFU"),i=r("mQtv"),o=r("aCFj"),s=r("EemH"),a=r("8a7r");n(n.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,r,n=o(t),u=s.f,l=i(n),h={},c=0;l.length>c;)void 0!==(r=u(n,e=l[c++]))&&a(h,e,r);return h}})},jmDH:function(t,e,r){t.exports=!r("KUxP")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},jqX0:function(t,e,r){var n=r("XKFU"),i=r("jtBr");n(n.P+n.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},jtBr:function(t,e,r){"use strict";var n=r("eeVq"),i=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(t){return t>9?t:"0"+t};t.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!n(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),r=t.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+("00000"+Math.abs(e)).slice(n?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(r>99?r:"0"+s(r))+"Z"}:o},kJMx:function(t,e,r){var n=r("zhAb"),i=r("4R4u").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},kTiW:function(t,e,r){t.exports=r("NegM")},kcoS:function(t,e,r){var n=r("lvtm"),i=Math.pow,o=i(2,-52),s=i(2,-23),a=i(2,127)*(2-s),u=i(2,-126);t.exports=Math.fround||function(t){var e,r,i=Math.abs(t),l=n(t);return i<u?l*(i/u/s+1/o-1/o)*u*s:(r=(e=(1+s/o)*i)-(e-i))>a||r!=r?l*(1/0):l*r}},klPD:function(t,e,r){var n=r("hswa"),i=r("EemH"),o=r("OP3Y"),s=r("aagx"),a=r("XKFU"),u=r("RjD/"),l=r("y3w9"),h=r("0/R4");a(a.S,"Reflect",{set:function t(e,r,a){var c,f,p=arguments.length<4?e:arguments[3],d=i.f(l(e),r);if(!d){if(h(f=o(e)))return t(f,r,a,p);d=u(0)}return s(d,"value")?!(!1===d.writable||!h(p)||((c=i.f(p,r)||u(0)).value=a,n.f(p,r,c),0)):void 0!==d.set&&(d.set.call(p,a),!0)}})},knU9:function(t,e,r){var n=r("XKFU"),i=r("i5dc");i&&n(n.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},knhD:function(t,e,r){var n=r("XKFU");n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},kwZ1:function(t,e,r){"use strict";var n=r("w6GO"),i=r("mqlF"),o=r("NV0k"),s=r("JB68"),a=r("M1xp"),u=Object.assign;t.exports=!u||r("KUxP")(function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(t){e[t]=t}),7!=u({},t)[r]||Object.keys(u({},e)).join("")!=n})?function(t,e){for(var r=s(t),u=arguments.length,l=1,h=i.f,c=o.f;u>l;)for(var f,p=a(arguments[l++]),d=h?n(p).concat(h(p)):n(p),g=d.length,v=0;g>v;)c.call(p,f=d[v++])&&(r[f]=p[f]);return r}:u},l0Rn:function(t,e,r){"use strict";var n=r("RYi7"),i=r("vhPU");t.exports=function(t){var e=String(i(this)),r="",o=n(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(r+=e);return r}},lCc8:function(t,e,r){var n=r("Y7ZC");n(n.S,"Object",{create:r("oVml")})},ls82:function(t,e){!function(e){"use strict";var r,n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",l="object"==typeof t,h=e.regeneratorRuntime;if(h)l&&(t.exports=h);else{(h=e.regeneratorRuntime=l?t.exports:{}).wrap=b;var c="suspendedStart",f="suspendedYield",p="executing",d="completed",g={},v={};v[s]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(P([])));y&&y!==n&&i.call(y,s)&&(v=y);var x=E.prototype=w.prototype=Object.create(v);T.prototype=x.constructor=E,E.constructor=T,E[u]=T.displayName="GeneratorFunction",h.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===T||"GeneratorFunction"===(e.displayName||e.name))},h.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(x),t},h.awrap=function(t){return{__await:t}},S(A.prototype),A.prototype[a]=function(){return this},h.AsyncIterator=A,h.async=function(t,e,r,n){var i=new A(b(t,e,r,n));return h.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},S(x),x[u]="Generator",x[s]=function(){return this},x.toString=function(){return"[object Generator]"},h.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},h.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(R),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=r),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var u=i.call(s,"catchLoc"),l=i.call(s,"finallyLoc");if(u&&l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;R(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),g}}}function b(t,e,r,n){var i=e&&e.prototype instanceof w?e:w,o=Object.create(i.prototype),s=new O(n||[]);return o._invoke=function(t,e,r){var n=c;return function(i,o){if(n===p)throw new Error("Generator is already running");if(n===d){if("throw"===i)throw o;return D()}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var a=C(s,r);if(a){if(a===g)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===c)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=_(t,e,r);if("normal"===u.type){if(n=r.done?d:f,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}(t,r,s),o}function _(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function w(){}function T(){}function E(){}function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function A(t){var e;this._invoke=function(r,n){function o(){return new Promise(function(e,o){!function e(r,n,o,s){var a=_(t[r],t,n);if("throw"!==a.type){var u=a.arg,l=u.value;return l&&"object"==typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,o,s)},function(t){e("throw",t,o,s)}):Promise.resolve(l).then(function(t){u.value=t,o(u)},s)}s(a.arg)}(r,n,e,o)})}return e=e?e.then(o,o):o()}}function C(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,C(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=_(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,g):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function P(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return o.next=o}}return{next:D}}function D(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},lvtm:function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},m0Pp:function(t,e,r){var n=r("2OiF");t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},mGWK:function(t,e,r){"use strict";var n=r("XKFU"),i=r("aCFj"),o=r("RYi7"),s=r("ne8i"),a=[].lastIndexOf,u=!!a&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(u||!r("LyE8")(a)),"Array",{lastIndexOf:function(t){if(u)return a.apply(this,arguments)||0;var e=i(this),r=s(e.length),n=r-1;for(arguments.length>1&&(n=Math.min(n,o(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}})},mI1R:function(t,e,r){"use strict";var n=r("XKFU"),i=r("vhPU"),o=r("ne8i"),s=r("quPj"),a=r("C/va"),u=RegExp.prototype,l=function(t,e){this._r=t,this._s=e};r("QaDb")(l,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),n(n.P,"String",{matchAll:function(t){if(i(this),!s(t))throw TypeError(t+" is not a regexp!");var e=String(this),r="flags"in u?String(t.flags):a.call(t),n=new RegExp(t.source,~r.indexOf("g")?r:"g"+r);return n.lastIndex=o(t.lastIndex),new l(n,e)}})},mQtv:function(t,e,r){var n=r("kJMx"),i=r("JiEa"),o=r("y3w9"),s=r("dyZX").Reflect;t.exports=s&&s.ownKeys||function(t){var e=n.f(o(t)),r=i.f;return r?e.concat(r(t)):e}},mYba:function(t,e,r){var n=r("aCFj"),i=r("EemH").f;r("Xtr8")("getOwnPropertyDescriptor",function(){return function(t,e){return i(n(t),e)}})},mcXe:function(t,e,r){r("xqFc")("Set")},mqlF:function(t,e){e.f=Object.getOwnPropertySymbols},mura:function(t,e,r){var n=r("0/R4"),i=r("Z6vF").onFreeze;r("Xtr8")("preventExtensions",function(t){return function(e){return t&&n(e)?t(i(e)):e}})},nABe:function(t,e,r){var n=r("XKFU");n(n.S,"Math",{iaddh:function(t,e,r,n){var i=t>>>0,o=r>>>0;return(e>>>0)+(n>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},nBIS:function(t,e,r){var n=r("0/R4"),i=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&i(t)===t}},nCnK:function(t,e,r){r("7DDg")("Uint32",4,function(t){return function(e,r,n){return t(this,e,r,n)}})},nGyu:function(t,e,r){var n=r("K0xU")("unscopables"),i=Array.prototype;void 0==i[n]&&r("Mukb")(i,n,{}),t.exports=function(t){i[n][t]=!0}},nICZ:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},nIY7:function(t,e,r){"use strict";r("OGtf")("big",function(t){return function(){return t(this,"big","","")}})},nZgG:function(t,e,r){var n=r("Y7ZC");n(n.S+n.F*!r("jmDH"),"Object",{defineProperties:r("fpC5")})},ne8i:function(t,e,r){var n=r("RYi7"),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},nh4g:function(t,e,r){t.exports=!r("eeVq")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},nsiH:function(t,e,r){"use strict";r("OGtf")("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},nzyx:function(t,e,r){var n=r("XKFU"),i=r("LVwc");n(n.S+n.F*(i!=Math.expm1),"Math",{expm1:i})},o8NH:function(t,e,r){var n=r("Y7ZC");n(n.S+n.F,"Object",{assign:r("kwZ1")})},oDIu:function(t,e,r){"use strict";var n=r("XKFU"),i=r("AvRE")(!1);n(n.P,"String",{codePointAt:function(t){return i(this,t)}})},oMvK:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAASCAYAAACuLnWgAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY0MzUyN0NBNUQxNTExRTVBNkQwODQ1OUU4N0QwRjU0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY0MzUyN0NCNUQxNTExRTVBNkQwODQ1OUU4N0QwRjU0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjQzNTI3Qzg1RDE1MTFFNUE2RDA4NDU5RTg3RDBGNTQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjQzNTI3Qzk1RDE1MTFFNUE2RDA4NDU5RTg3RDBGNTQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4gG0iyAAAAqElEQVR42mL4jwqWATEzEDNQgJmh5sABAxJ7ERUsQLZoEbolc6loAbJF82CWzARiRipbAMMgc2eBCEYGBob/DBAwC4hDGCgHa4A4DcpmZEGyAAS4gVgQiPdQYIEL1BwY+M+CQ6ErBZb8RxdgYqADGLVk8FmCK3XtprYlyJnxKxC/B2JjCsx8DzUHBhjpUqzQrYCEgYVULuoXYqtPQGAplSqtpciGAgQYAGYyiAiJzGpZAAAAAElFTkSuQmCC"},oVml:function(t,e,r){var n=r("5K7Z"),i=r("fpC5"),o=r("FpHa"),s=r("VVlx")("IE_PROTO"),a=function(){},u=function(){var t,e=r("Hsns")("iframe"),n=o.length;for(e.style.display="none",r("MvwC").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;n--;)delete u.prototype[o[n]];return u()};t.exports=Object.create||function(t,e){var r;return null!==t?(a.prototype=n(t),r=new a,a.prototype=null,r[s]=t):r=u(),void 0===e?r:i(r,e)}},"oZ/O":function(t,e,r){var n=r("XKFU"),i=r("y3w9"),o=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},oioR:function(t,e,r){var n=r("2GTP"),i=r("sNwI"),o=r("NwJ3"),s=r("5K7Z"),a=r("tEej"),u=r("fNZA"),l={},h={};(e=t.exports=function(t,e,r,c,f){var p,d,g,v,m=f?function(){return t}:u(t),y=n(r,c,e?2:1),x=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(p=a(t.length);p>x;x++)if((v=e?y(s(d=t[x])[0],d[1]):y(t[x]))===l||v===h)return v}else for(g=m.call(t);!(d=g.next()).done;)if((v=i(g,y,d.value,e))===l||v===h)return v}).BREAK=l,e.RETURN=h},"ojR+":function(t,e,r){var n=r("XKFU");n(n.S,"System",{global:r("dyZX")})},ol8x:function(t,e,r){var n=r("dyZX").navigator;t.exports=n&&n.userAgent||""},pIFo:function(t,e,r){r("IU+Z")("replace",2,function(t,e,r){return[function(n,i){"use strict";var o=t(this),s=void 0==n?void 0:n[e];return void 0!==s?s.call(n,o,i):r.call(String(o),n,i)},r]})},pbhE:function(t,e,r){"use strict";var n=r("2OiF");t.exports.f=function(t){return new function(t){var e,r;this.promise=new t(function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n}),this.resolve=n(e),this.reject=n(r)}(t)}},"pp/T":function(t,e,r){var n=r("XKFU");n(n.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},pxsY:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAWCAYAAAAinad/AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3woeDwIGBcO83QAAACtJREFUOMtjZICC/////2fAAhgZGRmJVcPEQEUwatioYaOGjRo2atjINQwApn4ILBOOJfoAAAAASUVORK5CYII="},q0QK:function(t,e,r){"use strict";var n=r("QbLZ"),i=r.n(n),o=r("KHwQ"),s=r.n(o);s.a.module("player").service("gameManagerFactory",["$window","playerColors",function(t,e){"ngInject";if(void 0===window.performance&&(window.performance={}),!window.performance.now){var r=Date.now();window.performance.timing&&window.performance.timing.navigationStart&&(r=window.performance.timing.navigationStart),window.performance.now=function(){return Date.now()-r}}var n=function(t,e,r,n,i,o){this.drawer=t,this.gameId=e,this.agents=r,this.tooltips=i,this.frames=n,this.refereeInput=o,this.speed=0,this.playing=!1,this.progress=100,this.listeners=[],this.eventListeners={pause:[],play:[]},this.currentFrame=0,this.views=n.map(function(t){return(t.keyframe?"KEY_FRAME":"INTERMEDIATE_FRAME")+t.view}),this.enableInteractions(!0)};n.prototype.getFrameCount=function(){return this.frames.length},n.prototype.updateListeners=function(t){var e=this;this.listeners.forEach(function(r){r(e.currentFrame,e.progress/100,e.playing,t,e.isTurnBasedGame(),e.atEnd())})},n.prototype.startAnimation=function(){this.lastTime=null,this.loop()};var o=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame,a=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.msCancelAnimationFrame;n.prototype.loop=function(){var t=this;this.timer=o(function(e){t.animate(e),t.playing&&t.loop()})},n.prototype.animate=function(t){if(this.playing){null===this.lastTime&&(this.lastTime=t);var e=t-this.lastTime;this.lastTime=t;var r=100===this.progress?this.getNextKeyFrameIndex():this.currentFrame,n=this.drawer.getFrameSpeed(r,this.speed),i=100*this.speed*e/500*n,o=!0;(this.progress+i)%(10*this.speed)<i&&(o=!1),this.progress<100&&this.progress+i>100?(this.progress=100,o=!1):this.progress+=i,(i>100||this.progress>100)&&(this.nextKeyFrame(),this.progress=i>100?100:this.progress-100),this.currentFrame<=this.getFrameCount()+1&&!this.atEnd()?this.updateListeners(o):(this.playing=!1,this.updateListeners())}},n.prototype.getGameId=function(){return this.gameId||null},n.prototype.interrupt=function(){this.timer&&(a(this.timer),this.timer=null),this.playing=!1},n.prototype.destroy=function(){this.interrupt()},n.prototype.getNextKeyFrameIndex=function(){var t=this.currentFrame;do{t++}while(t<this.getFrameCount()&&!this.isKeyFrame(t));return t>=this.getFrameCount()&&(t=this.getFrameCount()-1),t},n.prototype.nextKeyFrame=function(){this.currentFrame>=this.getFrameCount()-1?this.progress=100:this.currentFrame=this.getNextKeyFrameIndex()},n.prototype.getPreviousKeyFrameIndex=function(){var t=this.currentFrame;do{t--}while(t>=0&&!this.isKeyFrame(t));return t<0&&(t=0),t},n.prototype.previousKeyFrame=function(){this.currentFrame=this.getPreviousKeyFrameIndex(),0===this.currentFrame&&(this.progress=100)},n.prototype.enableInteractions=function(t){this.interactionsEnabled=t},n.prototype.areInteractionsEnabled=function(){return this.interactionsEnabled},n.prototype.atEnd=function(){return this.currentFrame>=this.getFrameCount()-1&&this.progress>=100},n.prototype.subscribe=function(t){this.listeners.push(t)},n.prototype.on=function(t,e){this.eventListeners[t].push(e)},n.prototype.off=function(t,e){var r=this.eventListeners[t].indexOf(e);r>=0&&this.eventListeners[t].splice(r,1)},n.prototype.triggerEvent=function(t,e){this.eventListeners[t].forEach(function(t){t(e)})},n.prototype.unsubscribe=function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)},n.prototype.clear=function(){this.listeners=[]},n.prototype.togglePlay=function(t){this.interactionsEnabled&&(this.playing?this.pause(t):this.play(t))},n.prototype.play=function(t){this.interactionsEnabled&&(this.playing||(this.atEnd()?this.currentFrame>0&&(this.currentFrame=0,this.play()):(0===this.currentFrame&&(this.progress=100),this.playing=!0,this.updateListeners(),this.startAnimation()),this.triggerEvent("play",{userInteraction:t||!1,frame:this.currentFrame})))},n.prototype.isPlaying=function(){return this.playing},n.prototype.pause=function(t){this.interactionsEnabled&&this.playing&&(this.interrupt(),this.updateListeners(),this.triggerEvent("pause",{userInteraction:t||!1,frame:this.currentFrame}))},n.prototype.isTurnBasedGame=function(){return this.drawer&&this.drawer.isTurnBasedGame()},n.prototype.next=function(){this.interactionsEnabled&&(this.isTurnBasedGame()?this.progress<100?this.setFrame(this.currentFrame):this.setFrame(this.currentFrame+1):(this.interrupt(),this.progress<100?this.progress=100:this.nextKeyFrame(),this.updateListeners()))},n.prototype.isKeyFrame=function(t){return!this.frames[t]||this.frames[t].keyframe},n.prototype.prior=function(){this.interactionsEnabled&&(this.isTurnBasedGame()?this.setFrame(this.currentFrame-1):(this.interrupt(),this.previousKeyFrame(),this.progress=100,this.updateListeners()))},n.prototype.first=function(){this.interactionsEnabled&&this.setFrame(0)},n.prototype.last=function(){this.interactionsEnabled&&this.setFrame(this.getFrameCount()-1)},n.prototype.setSpeed=function(t){t>0&&t<=100&&(this.speed=t)},n.prototype.getSpeed=function(){return this.speed},n.prototype.setFrame=function(t,e){this.interactionsEnabled&&(this.pause(),t>=0&&t<this.getFrameCount()&&(this.currentFrame=t),s.a.isDefined(e)&&this.isKeyFrame(t)||(e=100),this.progress=e,this.updateListeners())},this.createGameManagerFromGameInfo=function(t,r,o){function a(){return o?{pseudo:"ME",avatar:null,userId:null}:{pseudo:"IDE CODE",avatar:null,userId:null}}s.a.isDefined(o)||(o=!0);var u=null;if(r.agents)u=r.agents.map(function(n){var i=n.codingamer,o=n.arenaboss;if(!o&&!i)switch(n.agentId){case-2:i={pseudo:"DEFAULT",avatar:-2,userId:null};break;case-1:i=a()}return{arenaboss:o||null,index:n.index,position:n.position||(r.ranks?r.ranks.indexOf(n.index):n.index),userId:i&&i.userId||null,name:i&&i.pseudo||o&&o.nickname||n.name||null,score:n.score,agentId:n.agentId,gameScore:r.scores?r.scores[n.index]:null,avatar:i&&i.avatar||null,color:(t.playerColors||e)[n.index],rank:n.rank,avatarUrl:n.avatarUrl,type:n.type,typeData:n.typeData}});else{var l=i()({},a(),r.codingamer);u=[{index:0,agentId:-1,score:r.scores[0],name:l&&l.pseudo||null,userId:l&&l.userId||null,avatar:l&&l.avatar||null,avatarUrl:r.avatarUrl}]}var h=r.frames.map(function(t){return s.a.copy(t)}),c=[];for(t&&(c=t.constructViews(h.map(function(t){return t.view})));h.length<c.length;)h.push({agent:null,gameInformation:null,keyframe:!0,view:null});return h.forEach(function(e,r){e.agent=u[e.agentId]||null,t&&(e.gameInformation=t.getGameInformations(e.view,e.gameInformation)),e.view=c[r]}),new n(t,r.gameId,u,h,r.tooltips||[],r.refereeInput)}}])},q6LJ:function(t,e,r){var n=r("5T2Y"),i=r("QXhf").set,o=n.MutationObserver||n.WebKitMutationObserver,s=n.process,a=n.Promise,u="process"==r("a0xu")(s);t.exports=function(){var t,e,r,l=function(){var n,i;for(u&&(n=s.domain)&&n.exit();t;){i=t.fn,t=t.next;try{i()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(u)r=function(){s.nextTick(l)};else if(!o||n.navigator&&n.navigator.standalone)if(a&&a.resolve){var h=a.resolve();r=function(){h.then(l)}}else r=function(){i.call(n,l)};else{var c=!0,f=document.createTextNode("");new o(l).observe(f,{characterData:!0}),r=function(){f.data=c=!c}}return function(n){var i={fn:n,next:void 0};e&&(e.next=i),t||(t=i,r()),e=i}}},q9eg:function(t,e){t.exports=function(t,e){var r=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,r)}}},qcxO:function(t,e,r){"use strict";var n=r("XKFU"),i=r("pbhE"),o=r("nICZ");n(n.S,"Promise",{try:function(t){var e=i.f(this),r=o(t);return(r.e?e.reject:e.resolve)(r.v),e.promise}})},qncB:function(t,e,r){var n=r("XKFU"),i=r("vhPU"),o=r("eeVq"),s=r("/e88"),a="["+s+"]",u=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$"),h=function(t,e,r){var i={},a=o(function(){return!!s[t]()||"​"!="​"[t]()}),u=i[t]=a?e(c):s[t];r&&(i[r]=u),n(n.P+n.F*a,"String",i)},c=h.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=h},quPj:function(t,e,r){var n=r("0/R4"),i=r("LZWt"),o=r("K0xU")("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},r1bV:function(t,e,r){r("7DDg")("Uint16",2,function(t){return function(e,r,n){return t(this,e,r,n)}})},rE2o:function(t,e,r){r("OnI7")("asyncIterator")},rGqo:function(t,e,r){for(var n=r("yt8O"),i=r("DVgA"),o=r("KroJ"),s=r("dyZX"),a=r("Mukb"),u=r("hPIQ"),l=r("K0xU"),h=l("iterator"),c=l("toStringTag"),f=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(p),g=0;g<d.length;g++){var v,m=d[g],y=p[m],x=s[m],b=x&&x.prototype;if(b&&(b[h]||a(b,h,f),b[c]||a(b,c,m),u[m]=f,y))for(v in n)b[v]||o(b,v,n[v],!0)}},rTiS:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAFCAYAAACw/UeDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFMTFCRUU3OTBEOTExMUU0QUU3N0Q0QkUwRDUwOTMxRCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFMTFCRUU3QTBEOTExMUU0QUU3N0Q0QkUwRDUwOTMxRCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkUxMUJFRTc3MEQ5MTExRTRBRTc3RDRCRTBENTA5MzFEIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkUxMUJFRTc4MEQ5MTExRTRBRTc3RDRCRTBENTA5MzFEIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+rNk9TAAAAFlJREFUeNpi3LxzrRwDA8McILYE4uNAnALEjxgwAdnqmIDEXCB2BWIeKL2QATsgWx3IEgs0RVY4NJOtDmTJCTTBYzg0k60OZEkyEO8B4q9QOgGHZrLVAQQYAPlUH00Y8ppwAAAAAElFTkSuQmCC"},rm89:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAMCAYAAABfnvydAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkRCNDE3REQ0NUQxNTExRTVCRUQ0ODI0RjAyM0VGQzlFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkRCNDE3REQ1NUQxNTExRTVCRUQ0ODI0RjAyM0VGQzlFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6REI0MTdERDI1RDE1MTFFNUJFRDQ4MjRGMDIzRUZDOUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6REI0MTdERDM1RDE1MTFFNUJFRDQ4MjRGMDIzRUZDOUUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz783UMdAAAAYklEQVR42mL8//8/Aw7ABcRTGUAKsGBtIL78H4dkAhB//Q8FyBJcQDz/PwKAFCXAJHWA+BqS5GWoGAOGkVBTuGAmMzEQAkhWXEezQhtmBQxz43MkUd5ExjqwgGIkFNQAAQYAgXX8+VsfqWkAAAAASUVORK5CYII="},rr1i:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},rvZc:function(t,e,r){"use strict";var n=r("XKFU"),i=r("ne8i"),o=r("0sh+"),s="".endsWith;n(n.P+n.F*r("UUeW")("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),r=arguments.length>1?arguments[1]:void 0,n=i(e.length),a=void 0===r?n:Math.min(i(r),n),u=String(t);return s?s.call(e,u,a):e.slice(a-u.length,a)===u}})},s5qY:function(t,e,r){var n=r("0/R4");t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},sEG9:function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},sFw1:function(t,e,r){r("7DDg")("Int8",1,function(t){return function(e,r,n){return t(this,e,r,n)}})},sNwI:function(t,e,r){var n=r("5K7Z");t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},sbF8:function(t,e,r){var n=r("XKFU"),i=r("nBIS"),o=Math.abs;n(n.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},tEej:function(t,e,r){var n=r("Ojgd"),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},tMJk:function(t,e,r){var n=r("XKFU");n(n.S,"Math",{imulh:function(t,e){var r=+t,n=+e,i=65535&r,o=65535&n,s=r>>16,a=n>>16,u=(s*o>>>0)+(i*o>>>16);return s*a+(u>>16)+((i*a>>>0)+(65535&u)>>16)}})},tUrg:function(t,e,r){"use strict";r("OGtf")("link",function(t){return function(e){return t(this,"a","href",e)}})},tuSo:function(t,e,r){r("7DDg")("Int32",4,function(t){return function(e,r,n){return t(this,e,r,n)}})},"tyy+":function(t,e,r){var n=r("XKFU"),i=r("11IZ");n(n.G+n.F*(parseFloat!=i),{parseFloat:i})},u938:function(t,e,r){var n=function(){return this}()||Function("return this")(),i=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,o=i&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=r("ls82"),i)n.regeneratorRuntime=o;else try{delete n.regeneratorRuntime}catch(t){n.regeneratorRuntime=void 0}},uAtd:function(t,e,r){var n=r("T39b"),i=r("Q3ne"),o=r("N6cJ"),s=r("y3w9"),a=r("OP3Y"),u=o.keys,l=o.key,h=function(t,e){var r=u(t,e),o=a(t);if(null===o)return r;var s=h(o,e);return s.length?r.length?i(new n(r.concat(s))):s:r};o.exp({getMetadataKeys:function(t){return h(s(t),arguments.length<2?void 0:l(arguments[1]))}})},uOPS:function(t,e){t.exports=!0},uaHG:function(t,e,r){"use strict";var n=r("XKFU"),i=r("S/j/"),o=r("apmT"),s=r("OP3Y"),a=r("EemH").f;r("nh4g")&&n(n.P+r("xbSm"),"Object",{__lookupGetter__:function(t){var e,r=i(this),n=o(t,!0);do{if(e=a(r,n))return e.get}while(r=s(r))}})},uhZd:function(t,e,r){var n=r("XKFU"),i=r("EemH").f,o=r("y3w9");n(n.S,"Reflect",{deleteProperty:function(t,e){var r=i(o(t),e);return!(r&&!r.configurable)&&delete t[e]}})},upKx:function(t,e,r){"use strict";var n=r("S/j/"),i=r("d/Gc"),o=r("ne8i");t.exports=[].copyWithin||function(t,e){var r=n(this),s=o(r.length),a=i(t,s),u=i(e,s),l=arguments.length>2?arguments[2]:void 0,h=Math.min((void 0===l?s:i(l,s))-u,s-a),c=1;for(u<a&&a<u+h&&(c=-1,u+=h-1,a+=h-1);h-- >0;)u in r?r[a]=r[u]:delete r[a],a+=c,u+=c;return r}},"v+e/":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAASCAYAAABrXO8xAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNFMEEzODM2NUQxNTExRTVBQjgxQTFDN0U0MzFCRjI3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjNFMEEzODM3NUQxNTExRTVBQjgxQTFDN0U0MzFCRjI3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6M0UwQTM4MzQ1RDE1MTFFNUFCODFBMUM3RTQzMUJGMjciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6M0UwQTM4MzU1RDE1MTFFNUFCODFBMUM3RTQzMUJGMjciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz79Ho0BAAAA5klEQVR42ozTPQrCMBQH8NiqFMEKgkdQ71K8lIK6CM5OgohLZgfBUcQLeAAHR61foCI0/gMNhPS1SeBX2te8NnlJmBCCWVRhBGe4wBAqzCFxKrJtUpIvLe0GDSMWe8zeqD6BLTHKSVzrcwmgnN570IcT9OCgzW8HLdmpBgv4wReWsIGt7KB9uAsd9SwvM6Jq8g9+UbVlVe8Yc2jM4UnEMhXzibjvUmpOxI/WZAw1hBUkKZ5TnLZZHKWZUssx0JZjTy1HkQheRNW5y159QN2IvV32akLEPi6JczLmeJDHEMNVHeS/AAMApxu4mLVKiogAAAAASUVORK5CYII="},vKrd:function(t,e,r){var n=r("y3w9"),i=r("0/R4"),o=r("pbhE");t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},vMCt:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTMyIDc5LjE1OTI4NCwgMjAxNi8wNC8xOS0xMzoxMzo0MCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUuNSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDQ3RkU0MzNCNjE4MTFFNkFGOUZGMkI4MDFCNjQ4RjQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDQ3RkU0MzRCNjE4MTFFNkFGOUZGMkI4MDFCNjQ4RjQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpENDdGRTQzMUI2MTgxMUU2QUY5RkYyQjgwMUI2NDhGNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpENDdGRTQzMkI2MTgxMUU2QUY5RkYyQjgwMUI2NDhGNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pk18G9UAAAGCSURBVHjaYvy0W5gBC2AD4gAotgRiKSD+BcRPgPg8EK8H4o1QMRTAiMXAQCDuAmIVBvzgDhCXA/E6ZEEmJDYzEHdCFRAyjAGqZi1UDzNMkAVJQRsQlzGQDmB6ypFdGEKmYciGhsAMBEVAPwPlYALILJCXQ4FYBpuKR29YGSZvEWE4eZsLzDdX/caQ6/OGQU7kNzbl0kAcxgJNGhjg4Ss2hvhJsgyfvyPibd9lHobTd7gYFuY9ZpAX+4VNWwBItSk2mSnbhFEMgwGQGEgOBzAB6ZDAJgPzJjZw4hZOOUkmbKmdEgAy8Dk2CVAE4AIWajjlnoMMvIRNJtvrLQMv5z8McZAYSA4HOAMycAM2GQVgLIJi00n3CwMX+z8wBrFBYgpiOENpA6hwACXsu7jSIgngKRArwyKliArxUQjEP2EJbTUQd1NgWDfUDJTiqxKUnskwbCpUL0Z5+BeIc6Glxh0iDLoDLQdyoHpxltiwKiAUWnobQzM+LODPQquA1dgyBUCAAQAIH2Ro8L8nQQAAAABJRU5ErkJggg=="},vdFj:function(t,e,r){r("xqFc")("WeakSet")},vhPU:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},vvB1:function(t,e,r){"use strict";r.r(e),function(t){var n=r("4d7F"),i=r.n(n),o=r("GQeE"),s=r.n(o),a=(r("201c"),r("KHwQ")),u=r.n(a),l=r("g1HB"),h=r("bdgK"),c=(r("8kRx"),r("yh4K"),r("q0QK"),r("yqC/"),r("EVdn")),f=r.n(c);function p(t,e,r,n,o,a){"ngInject";var l=this,c=null,f=null,p=null,d=!1,g=null,v=null,m=new i.a(function(e){t.playerLoaded=function(t){l.playerApi=t,window.parent.postMessage({type:"playerLoaded"},"*"),b(),e(t)}}),y=null,x=null;function b(){(c=c&&c.length>0?c:u.a.element("#cg-player"))&&c.length>0?(new h.a(_).observe(c[0]),_()):e(b,200)}function _(){if(!(c=c&&c.length>0?c:u.a.element("#cg-player"))||f&&f.length>0||(f=c.find(".gameBoxContainer")),c&&f){var t=f.outerHeight(!0),e="calc("+(c.height()-t)+"px + "+100*t/c.width()+"%)";e!==y&&(window.parent.postMessage({type:"resize",iframeHeight:e},"*"),y=e)}}t.gameParams={},t.$watch("gameParams",function(t){s()(t).length>0&&window.parent.postMessage({type:"gameParams",gameParams:t},"*")},!0),window.addEventListener("resize",function(){var t=u.a.element(window).width();if(x===t)return;x=t,p&&e.cancel(p);p=e(function(){l.playerApi&&l.playerApi.resize()},300)}),window.addEventListener("message",function(e){if("ready"===e.data.type)window.parent.postMessage({type:"ready"},"*");else if("viewer"===e.data.type)g=o.createDrawerFromViewer(e.data.data).then(function(e){return t.drawer&&t.drawer.destroy(),t.drawer=e,e.waitReady().then(function(){return window.parent.postMessage({type:"viewerOptions",gameName:e.getGameName&&e.getGameName(),playerColors:e.playerColors,canSwapPlayers:e.canSwapPlayers()},"*"),e})});else if("frames"===e.data.type)l.gameManager&&(l.gameManager.destroy(),l.gameManager=null),e.data.gameInfo&&(g||(g=i.a.resolve(null)),v=g.then(function(t){return l.gameManager=a.createGameManagerFromGameInfo(t,e.data.gameInfo,e.data.isUserGame),l.gameManager.subscribe(function(t,e,r,n,i,o){d||window.parent.postMessage({type:"progress",frame:t,progress:e,playing:r,isSubFrame:n,isTurnBasedGame:i,atEnd:o},"*")}),l.gameManager.on("play",function(t){return window.parent.postMessage({type:"play",data:t},"*")}),l.gameManager.on("pause",function(t){return window.parent.postMessage({type:"pause",data:t},"*")}),window.parent.postMessage({type:"parsedGameInfo",frames:l.gameManager.frames,agents:l.gameManager.agents},"*"),m.then(function(t){return t.initReplay(l.gameManager),l.gameManager})}));else if("gameParams"===e.data.type)t.$apply(function(){t.gameParams=e.data.gameParams});else if("play"===e.data.type)v&&v.then(function(t){return t.play()});else if("pause"===e.data.type)v&&v.then(function(t){return t.pause()});else if("speed"===e.data.type)v&&v.then(function(t){return t.setSpeed(e.data.speed)});else if("options"===e.data.type){var r=["showConsole","showRankings","showSmallRankings","collapsableConsole","tvMode","ratio","ultraSmall","asyncRendering","shareable","analyticsType","showReplayPrompt","analyticsGameId","location"];t.$apply(function(){return r.forEach(function(r){t[r]=e.data.options[r]})})}else"language"===e.data.type?n.use(e.data.lang):"baseUrl"===e.data.type?t.baseUrl=e.data.baseUrl:"loggedUserId"===e.data.type?t.loggedUserId=e.data.loggedUserId:"frame"===e.data.type&&v&&v.then(function(t){d=!0,t.setFrame(e.data.frame,e.data.progress),d=!1})}),window.parent.postMessage({type:"ready"},"*"),t.analyticsOpenReplay=function(t,e,r){window.parent.postMessage({type:"analyticsOpenReplay",from:t,analyticsGameId:e,analyticsType:r},"*")}}p.$inject=["$scope","$timeout","$interval","$translate","drawerFactory","gameManagerFactory"],t.$=t.jQuery=f.a,l.a.config(["$compileProvider","$translateProvider",function(t,e){"ngInject";t.debugInfoEnabled(!1),e.useSanitizeValueStrategy("escapeParameters"),e.preferredLanguage("en")}]).controller("AppCtrl",p),e.default=l.a}.call(this,r("yLpj"))},vvmO:function(t,e,r){var n=r("LZWt");t.exports=function(t,e){if("number"!=typeof t&&"Number"!=n(t))throw TypeError(e);return+t}},w2a5:function(t,e,r){var n=r("aCFj"),i=r("ne8i"),o=r("d/Gc");t.exports=function(t){return function(e,r,s){var a,u=n(e),l=i(u.length),h=o(s,l);if(t&&r!=r){for(;l>h;)if((a=u[h++])!=a)return!0}else for(;l>h;h++)if((t||h in u)&&u[h]===r)return t||h||0;return!t&&-1}}},"w2d+":function(t,e,r){"use strict";var n=r("hDam"),i=r("UO39"),o=r("SBuE"),s=r("NsO/");t.exports=r("MPFp")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},w6GO:function(t,e,r){var n=r("5vMV"),i=r("FpHa");t.exports=Object.keys||function(t){return n(t,i)}},wCsR:function(t,e,r){"use strict";var n=r("ZD67"),i=r("s5qY");r("4LiD")("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(i(this,"WeakSet"),t,!0)}},n,!1,!0)},wgeU:function(t,e){},wmvG:function(t,e,r){"use strict";var n=r("hswa").f,i=r("Kuth"),o=r("3Lyj"),s=r("m0Pp"),a=r("9gX7"),u=r("SlkY"),l=r("Afnz"),h=r("1TsA"),c=r("elZq"),f=r("nh4g"),p=r("Z6vF").fastKey,d=r("s5qY"),g=f?"_s":"size",v=function(t,e){var r,n=p(e);if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,r,l){var h=t(function(t,n){a(t,h,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=n&&u(n,r,t[l],t)});return o(h.prototype,{clear:function(){for(var t=d(this,e),r=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var r=d(this,e),n=v(r,t);if(n){var i=n.n,o=n.p;delete r._i[n.i],n.r=!0,o&&(o.n=i),i&&(i.p=o),r._f==n&&(r._f=i),r._l==n&&(r._l=o),r[g]--}return!!n},forEach:function(t){d(this,e);for(var r,n=s(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!v(d(this,e),t)}}),f&&n(h.prototype,"size",{get:function(){return d(this,e)[g]}}),h},def:function(t,e,r){var n,i,o=v(t,e);return o?o.v=r:(t._l=o={i:i=p(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=o),n&&(n.n=o),t[g]++,"F"!==i&&(t._i[i]=o)),t},getEntry:v,setStrong:function(t,e,r){l(t,e,function(t,r){this._t=d(t,e),this._k=r,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?h(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,h(1))},r?"entries":"values",!r,!0),c(e)}}},wveC:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjMwREJDOTVBNUQxNTExRTVCQzY5QjFCMThCMjE0REJBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjMwREJDOTVCNUQxNTExRTVCQzY5QjFCMThCMjE0REJBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzBEQkM5NTg1RDE1MTFFNUJDNjlCMUIxOEIyMTREQkEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzBEQkM5NTk1RDE1MTFFNUJDNjlCMUIxOEIyMTREQkEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4/7/ziAAABWklEQVR42pzTQStEURTA8TdDU1KiSImSqBmric1kJFIsbaXEwjdAWVkqG8XCl5GNMqxMLGZmYUUpMlEazaTp+l/uy5nrvJec+tV759173rn3vRsYY4IYRfMTTQxEjU0GrZEQ1+PIins7djmICFloAQ84xizWlPEr7mV5HLpx3+FaG8KT+VtUxfUjBm2NsFDB/D/OkQqXdqMso44DzGMOe6gp48bQGXbU49oM4x155etk8ep1tCqX1osT8XA/5pfYEeNKSIaFNvHivWU6plDGG3uBnH1wr2zgZEyhEe1L2s2uKBs4FURHTsmVbaGy8mAbfUq+C7tKvmRbncARzvAm2q1gEW1IYAZX3pJquMSSv/4NZf0N1JX8unvJ19x2r8Vhpe1UxF41nV+H1saoMqGBDyWfiTr9Nk5RFfe3SLvT/izydyi0zFT+k273Z9uD3C/yaVxjCx3+vE8BBgDgV46f6BdvbAAAAABJRU5ErkJggg=="},x3Uh:function(t,e,r){var n=r("XKFU");n(n.S,"Math",{scale:r("6dIT")})},x8Yj:function(t,e,r){var n=r("XKFU"),i=r("LVwc"),o=Math.exp;n(n.S,"Math",{tanh:function(t){var e=i(t=+t),r=i(-t);return e==1/0?1:r==1/0?-1:(e-r)/(o(t)+o(-t))}})},x8ZO:function(t,e,r){var n=r("XKFU"),i=Math.abs;n(n.S,"Math",{hypot:function(t,e){for(var r,n,o=0,s=0,a=arguments.length,u=0;s<a;)u<(r=i(arguments[s++]))?(o=o*(n=u/r)*n+1,u=r):o+=r>0?(n=r/u)*n:r;return u===1/0?1/0:u*Math.sqrt(o)}})},x8qZ:function(t,e,r){r("OnI7")("observable")},"xF/b":function(t,e,r){"use strict";var n=r("EWmC"),i=r("0/R4"),o=r("ne8i"),s=r("m0Pp"),a=r("K0xU")("isConcatSpreadable");t.exports=function t(e,r,u,l,h,c,f,p){for(var d,g,v=h,m=0,y=!!f&&s(f,p,3);m<l;){if(m in u){if(d=y?y(u[m],m,r):u[m],g=!1,i(d)&&(g=void 0!==(g=d[a])?!!g:n(d)),g&&c>0)v=t(e,r,d,o(d.length),v,c-1)-1;else{if(v>=9007199254740991)throw TypeError();e[v]=d}v++}m++}return v}},xbSm:function(t,e,r){"use strict";t.exports=r("LQAc")||!r("eeVq")(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete r("dyZX")[t]})},xfY5:function(t,e,r){"use strict";var n=r("dyZX"),i=r("aagx"),o=r("LZWt"),s=r("Xbzi"),a=r("apmT"),u=r("eeVq"),l=r("kJMx").f,h=r("EemH").f,c=r("hswa").f,f=r("qncB").trim,p=n.Number,d=p,g=p.prototype,v="Number"==o(r("Kuth")(g)),m="trim"in String.prototype,y=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){var r,n,i,o=(e=m?e.trim():f(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+e}for(var s,u=e.slice(2),l=0,h=u.length;l<h;l++)if((s=u.charCodeAt(l))<48||s>i)return NaN;return parseInt(u,n)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof p&&(v?u(function(){g.valueOf.call(r)}):"Number"!=o(r))?s(new d(y(e)),r,p):y(e)};for(var x,b=r("nh4g")?l(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;b.length>_;_++)i(d,x=b[_])&&!i(p,x)&&c(p,x,h(d,x));p.prototype=g,g.constructor=p,r("KroJ")(n,"Number",p)}},xm80:function(t,e,r){"use strict";var n=r("XKFU"),i=r("D4iV"),o=r("7Qtz"),s=r("y3w9"),a=r("d/Gc"),u=r("ne8i"),l=r("0/R4"),h=r("dyZX").ArrayBuffer,c=r("69bn"),f=o.ArrayBuffer,p=o.DataView,d=i.ABV&&h.isView,g=f.prototype.slice,v=i.VIEW;n(n.G+n.W+n.F*(h!==f),{ArrayBuffer:f}),n(n.S+n.F*!i.CONSTR,"ArrayBuffer",{isView:function(t){return d&&d(t)||l(t)&&v in t}}),n(n.P+n.U+n.F*r("eeVq")(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(s(this),t);for(var r=s(this).byteLength,n=a(t,r),i=a(void 0===e?r:e,r),o=new(c(this,f))(u(i-n)),l=new p(this),h=new p(o),d=0;n<i;)h.setUint8(d++,l.getUint8(n++));return o}}),r("elZq")("ArrayBuffer")},xpiv:function(t,e,r){var n=r("XKFU");n(n.S,"Reflect",{ownKeys:r("mQtv")})},xpql:function(t,e,r){t.exports=!r("nh4g")&&!r("eeVq")(function(){return 7!=Object.defineProperty(r("Iw71")("div"),"a",{get:function(){return 7}}).a})},xqFc:function(t,e,r){"use strict";var n=r("XKFU");t.exports=function(t){n(n.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},y3w9:function(t,e,r){var n=r("0/R4");t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},yLpj:function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},yM4b:function(t,e,r){var n=r("K0xU")("toPrimitive"),i=Date.prototype;n in i||r("Mukb")(i,n,r("g4EE"))},yh4K:function(t,e,r){"use strict";var n=r("4d7F"),i=r.n(n),o=r("AyUB"),s=r.n(o),a=r("io0T"),u=r.n(a),l=r("14Xm"),h=r.n(l),c=r("D3Ub"),f=r.n(c),p=r("KHwQ"),d=r.n(p),g=r("EVdn"),v=r.n(g),m=r("Qnnr"),y=r.n(m);window.PIXI=y.a,d.a.module("player").service("drawerFactory",["$q","$timeout",function(t,e){"ngInject";var n,o=this,a={Proton:{import:(n=f()(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(function(){var t=r("1TEc");return"object"==typeof t&&t&&t.__esModule?t:Object.assign({},"object"==typeof t&&t,{default:t})});case 2:return t.abrupt("return",window.Proton);case 3:case"end":return t.stop()}},t,o)})),function(){return n.apply(this,arguments)})},PIXI3:{import:function(){return Promise.resolve().then(function(){var t=r("NK5I");return"object"==typeof t&&t&&t.__esModule?t:Object.assign({},"object"==typeof t&&t,{default:t})})}},PIXI4:{import:function(){return Promise.resolve().then(function(){var t=r("6FAO");return"object"==typeof t&&t&&t.__esModule?t:Object.assign({},"object"==typeof t&&t,{default:t})})}}},l=function(e,r){this.customDemo=r,this.drawerClass=e,this.destroyed=!1,this.initSentDeferred=t.defer()};l.prototype=u()({waitReady:function(){return this.waitPromise||(this.waitPromise=(r=this.isReady.bind(this),n=8e3,i=t.defer(),o=null,function t(){r()?i.resolve():o=e(t,200,!1)}(),d.a.isDefined(n)&&e(function(){i.resolve()},n),i.promise.finally(function(){null!==o&&e.cancel(o)}),i.promise.cancel=function(){i.reject()},i.promise));var r,n,i,o},getGameRatio:function(){return this.drawerClass.getGameRatio&&this.drawerClass.getGameRatio()||this.getDefaultGameRatio()},getTVSpeed:function(){return this.drawerClass.getTVSpeed&&this.drawerClass.getTVSpeed()||1},getGameName:function(){return this.drawer.getGameName&&this.drawer.getGameName()||null},isTurnBasedGame:function(){return!this.drawer.isTurnBasedGame||this.drawer.isTurnBasedGame()},isReady:function(){return this.drawer&&(!this.drawer.isReady||this.drawer.isReady())},getMaxCanvasSize:function(){return this.drawer&&this.drawer.getMaxCanvasSize&&this.drawer.getMaxCanvasSize()||{width:1920,height:1080}},getFrameSpeed:function(t,e){return this.drawer&&this.drawer.getFrameSpeed&&this.drawer.getFrameSpeed(t,e)||1},destroy:function(){this._destroy(),this.destroyed=!0,this.waitPromise&&this.waitPromise.cancel()},_destroy:function(){this.drawer&&this.drawer.destroy&&!this.destroyed&&this.drawer.destroy()},getOptions:function(){return this.drawer&&this.drawer.getOptions?this.drawer.getOptions():null},enableAsyncRendering:function(t){this.drawer&&this.drawer.enableAsyncRendering&&this.drawer.enableAsyncRendering(t)},constructViews:function(t){if(this.drawerClass.constructViews)return this.drawerClass.constructViews(t.map(function(t){return t.split("\n")})).map(function(t){return t&&t.join("\n")});if(this.drawerClass.getFrameTotal){var e=this.drawerClass.getFrameTotal(t.map(function(t){return t.split("\n")}));if(e>t.length){for(var r=d.a.copy(t);r.length<e;)r.push(null);return r}}return t},getGameInformations:function(t,e){return this.drawerClass&&this.drawerClass.getGameInformations&&this.drawerClass.getGameInformations(t,e)||e},canSwapPlayers:function(){return!!this.drawer.canSwapPlayers&&this.drawer.canSwapPlayers()}},{playerColors:{get:function(){return this.drawerClass.playerColors?this.drawerClass.playerColors:null},configurable:!0,enumerable:!0}});var c=function(){l.apply(this,arguments)};c.prototype=s()(l.prototype),d.a.extend(c.prototype,{getDefaultGameRatio:function(){return 2},getVersion:function(){return 0},setRenderListener:function(t,e){this.renderListener={begin:t,end:e}},draw:function(t,e,r,n,i,o,s,a){this.destroyed||(this.lastDraw={frame:t,width:e,height:r,progress:i,views:o,speed:s,colors:this.mappedColors,names:a},this.renderListener&&this.renderListener.begin(),this.drawer.draw(t,0,e,r,this.mappedColors,i,o,s,a),this.renderListener&&this.renderListener.end())},refresh:function(){this.lastDraw&&!this.destroyed&&this.drawer.draw(this.lastDraw.frame,0,this.lastDraw.width,this.lastDraw.height,this.lastDraw.colors,this.lastDraw.progress,this.lastDraw.views,this.lastDraw.speed,this.lastDraw.names)},update:function(){},initCanvas:function(t){if(!this.destroyed&&t.width>0&&t.height>0){this._destroy();var e=this.drawerClass;this.drawer=new e(t.getContext("2d"),t.width,t.height)}},init:function(t,e,r){!this.destroyed&&t.width>0&&t.height>0&&(this.drawer||this.initCanvas(t),this.colors=e,this.drawer.init(t.getContext("2d"),t.width,t.height,r),this.initSentDeferred.resolve())},initFrames:function(t,e,r){if(!this.destroyed){this.playerMapper=r.map(function(t){return t.index}),this.mappedColors=[];var n=this;this.playerMapper.forEach(function(t){n.mappedColors.push(n.colors[t])})}}});var p=function(){l.apply(this,arguments);var t=this.drawerClass;this.drawer=new t,this.framesInitialized=!1};p.prototype=s()(l.prototype),d.a.extend(p.prototype,{getDefaultGameRatio:function(){return 1920/1080},getVersion:function(){return 1},getFrameSpeed:function(){return this.framesInitialized?l.prototype.getFrameSpeed.apply(this,arguments):1},setRenderListener:function(t,e){this.drawer.onBeforeRender=t,this.drawer.onAfterRender=e},draw:function(){},refresh:function(){},update:function(t,e,r){this.destroyed||this.drawer.update(t,e,r)},initCanvas:function(){},init:function(t,e,r,n,i){!this.destroyed&&t.width>0&&t.height>0&&(this.drawer.init(t,t.width,t.height,e,r,n,i),this.initSentDeferred.resolve())},initFrames:function(){var t=f()(h.a.mark(function t(e,r,n){var i,o,s,a,u;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.framesInitialized=!0,this.destroyed){t.next=10;break}return i=r.map(function(t){return t.split("\n")}),o=n.map(function(t,e){return t.name||"Player "+(e+1)}),s=n.map(function(t){return t.avatar}),a=n.map(function(t){return t.index}),u=n.map(function(t){return t.userId?"CODINGAMER"===t.type&&t.typeData.me?"ME":"OTHER":"DEFAULT"}),t.next=9,this.initSentDeferred.promise;case 9:this.drawer.initFrames(e,i,a,o,s,u);case 10:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}()});var g=function(){l.apply(this,arguments);var t=this.drawerClass;this.drawer=new t(this.customDemo)};function m(t){return new Function("$",t+"\n return "+"Drawer"+";")(v.a)}g.prototype=s()(p.prototype),d.a.extend(g.prototype,{getVersion:function(){return 2},getDefaultOverSampling:function(){return this.drawer.getDefaultOverSampling&&this.drawer.getDefaultOverSampling()},initFrames:function(){var t=f()(h.a.mark(function t(e,r,n){var o;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.framesInitialized=!0,this.destroyed){t.next=11;break}return o=r.map(function(t){return t.split("\n")}),t.next=5,this.initSentDeferred.promise;case 5:return t.t0=this.drawer,t.t1=o,t.next=9,i.a.all(n.slice(0,e).map(function(){var t=f()(h.a.mark(function t(e,r){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{index:e.index,color:e.color,name:e.name||"Player "+(r+1),avatar:e.avatarUrl,type:e.type,typeData:e.typeData});case 1:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()));case 9:t.t2=t.sent,t.t0.initFrames.call(t.t0,t.t1,t.t2);case 11:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}()});var x={};this.createDrawerFromViewer=function(t){return this.createDrawer(m(t))},this.createDrawer=function(e,r){window.PIXI=y.a;var n=function(t){if(a[t])return x[t]?x[t]:(x[t]=a[t].import().then(function(t){return t}),x[t])},i=e.requirements,o=[];if(i){var s=function(t){return function(r){window[t]=r,e[t]=r}};for(var u in i)o.push(n(i[u]).then(s(u)))}return t.all(o).then(function(){return function(t,e){var r=t.VERSION||0,n=null;switch(r){case 0:n=c;break;case 1:n=p;break;case 2:n=g;break;default:throw new Error("Drawer version "+r+" not supported")}return new n(t,e)}(e,r)})}}])},ylqs:function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+n).toString(36))}},"yqC/":function(t,e,r){"use strict";(function(t){var e=r("KHwQ"),n=r.n(e),i=(r("W0GV"),r("Bzw/")),o=r("/XPn"),s=r("/457"),a=r.n(s),u=r("XFRQ"),l=r.n(u),h=["#ff8f16","#ff1d5c","#22a1e4","#de6ddf","#9975e2","#ff0000","#6ac371","#3ac5ca"];n.a.module("player").config(["$translateProvider",function(t){"ngInject";t.translations("en",i),t.translations("fr",o)}]).directive("cgPlayer",["$rootScope","hotkeys","$compile","$timeout",function(e,r,i,o){"ngInject";return{replace:!0,restrict:"E",scope:{showConsole:"=",showRankings:"=",showSmallRankings:"=",collapsableConsole:"=",tvMode:"=",ratio:"=",ultraSmall:"=",drawer:"=",asyncRendering:"=?",shareable:"=?",analyticsType:"=",showReplayPrompt:"=",analyticsGameId:"=",location:"=",gameParams:"=",baseUrl:"=",loggedUserId:"=",onPlayerReady:"&",analyticsOpenReplay:"&"},controllerAs:"cgPLayer",controller:["$scope",function(t){var e=this;e.gameManager=null,t.$watch("gameManager",function(t){e.gameManager=t})}],template:a.a,link:function(s,a,u){s.expandConsole=!1,s.player=n.a.element(a).find(".player"),s.bar=s.player.find(".progress_bar"),s.hitbox=s.player.find(".progress_hitbox"),s.scroller=s.bar.find(".scroller"),s.cursor=s.scroller.find(".scroller_cursor"),s.handle=s.bar.find(".scroller_handle"),s.tooltip=s.scroller.find(".tooltipFrameTimer"),s.tooltipContent=s.tooltip.find(".tooltip_content"),s.frameTimerText=s.player.find(".frame_timer_text"),s.tooltipWidth=s.tooltip.width(),s.stats=new l.a,s.stats.setMode(0),s.player.find(".stats_panel").append(s.stats.domElement),s.getPlayerColor=function(t){return(s.drawer.playerColors||h)[t]};var c=8,f=[];function p(t,e){var r=s.player,n=r.data("gameManager");if(n){var i=n.getFrameCount()-1,o=e.left/r.width()*i+1,a=100*(o-parseInt(o,10));s.aiBattle?(a=100,o=Math.round(o-1)):o=Math.floor(o),o>i?(o=i,a=100):o<=0&&(o=0,a=100),n.setFrame(o,a)}}s.setScrollerX=function(){var t=s.bar,e=s.player.width(),r=void 0;t.width(100*s.progress+"%");var n=10*(1-s.progress)-10*s.progress,i=Math.round(s.progress*e)+n;s.cursor.css({left:n}),s.tooltip.css({left:n}),s.handle.css({top:0,left:100*s.progress+"%"});var o=s.tooltipWidth/2;r=i-o<0?i:i+o>e?o+(o+i)-e:o,s.tooltipContent.css({"margin-left":-r,"margin-right":r})},s.displayTooltip=!1,s.hideTooltip=function(){s.tooltipsMessage=null,s.displayTooltip=!1},n.a.element(".cg-player_container").mousemove(function(t){var e,r,i,o=parseInt(n.a.element(".tooltipIcons").css("width")),s=o/2,a=window.innerWidth-o/2,u=(e=t.clientX,r=s,i=a,Math.min(Math.max(e,r),i)-o/2+"px"),l=t.clientY-50+"px";n.a.element(".tooltipIcons").css("left",u),n.a.element(".tooltipIcons").css("top",l)}),s.updateTooltipMessage=function(t){s.tooltipsMessage=null,s.displayTooltip=!0,s.tooltipsMessage=t},s.range=function(t){return new Array(t)},s.getShowRankings=function(){return!1!==s.showRankings},s.getShowConsole=function(){return!1!==s.showConsole&&!0!==s.tvMode},s.endEvent=function(){},t.playerUniqueId||(t.playerUniqueId=0),s.uniqueId=t.playerUniqueId++,s.toggleConsole=function(){s.expandConsole=!s.expandConsole,e.$emit("consoleToggled",{player:s.player,collapsed:s.expandConsole})},s.toggleFullScreen=function(){var t=s.player[0];s.isFullScreen()?(document.cancelFullScreen=document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msCancelFullScreen,document.cancelFullScreen&&document.cancelFullScreen()):(t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullscreen||t.msRequestFullscreen,t.requestFullscreen&&t.requestFullscreen())},s.settingsVisible=!1,s.toggleOptions=function(){s.setOptionsVisible(!s.settingsVisible),e.$emit("playerSettingsToggled",s.settingsVisible)},s.closePlayerSettingsCallback=e.$on("closePlayerSettings",function(){s.setOptionsVisible(!1)}),s.setOptionsVisible=function(t){s.settingsVisible=t},s.resetSpeed=function(){};var d,g=null,v=function(t,e){this.frames=e.frames,this.player=t,this.agents=e.agents,this.drawer=s.drawer,this.lastFrame=-1,this.gameManager=e,this.views=e.views,this.frameCount=e.getFrameCount()};v.prototype.update=function(t,e,r,i){var a;(this.progress=e,this.isSubFrame=i,i)||(a=s.aiBattle?g[Math.floor(t+e)-1]:t,(this.lastFrame!==a||!this.playing||this.frameCount<50)&&(this.updateProgressBar(a,e),this.updateFrameCounter(a),!1!==s.showConsole&&this.updateOutput(a),this.lastFrame=a));var u=t<=0,l=t+e>=this.frameCount;this.playing===r&&this.first===u&&this.last===l||(this.playing=r,this.last=l,this.first=u,o(n.a.noop)),this.updateCanvas(t,e,r,i)},v.prototype.updateCanvas=function(t,e,r,n){var i=s.canvas,o=i.width,a=i.height,u=this.drawer,l=this.gameManager,c=0;l&&r&&(c=l.speed),u.update(t,e,c),n||u.draw(this.views[t],o,a,u.playerColors||h,e,this.views,c,s.names)},v.prototype.updateFrameCounter=function(t){s.frameTimerText.html(t+1+"/"+this.frameCount)},v.prototype.updateProgressBar=function(t,e){var r=this.frameCount-1,n=0;s.aiBattle||(n=e-1);var i=(t+n)/r;s.progress=i,s.setScrollerX()},v.prototype.updateOutput=function(t){var e=this.frames[t].gameInformation,r=this.frames[t].stdout,n=this.frames[t].stderr;if(e){var o=function(t){for(var e="",r=0;r<t.length;r++){var n=t[r];n.match(/[a-zA-Z0-9#¤§$\n]/)?e+=n:e+=" "===n?"&nbsp;":"&#"+n.charCodeAt(0)+";"}return e}(e);o=(o=o.replace(/\xa4(\w+)\xa4(.+)\xa7(\w+)\xa7/gim,'<span style="color:$1">$2</span>')).replace(/\n/g,"<br/>");var a=this.agents;o=o.replace(/\$([0-9]+)/gi,function(t,e){return'<span class="nickname" style="background-color:'+a[e].color+';">'+a[e].name+"</span>"}),o=i('<div style = "white-space:nowrap;">'+o+"</div>")(s),s.player.find(".info_game").show().html(o)}else s.player.find(".info_game").hide();if(r?(r=r.replace(/\n/g,"<br/>"),s.player.find(".info_stdout").html(r),s.player.find(".info_stdout_container").show()):s.player.find(".info_stdout_container").hide(),n){var u=n.replace(/\n/g,"<br/>");s.player.find(".info_stderr").html(u),s.player.find(".info_stderr_container").show()}else s.player.find(".info_stderr_container").hide()},s.realOverSampling=s.overSampling=1,s.availableSpeeds=[.1,.5,1,2,5,10],s.startScreen=!0,s.player.data("gameManager",s.gameManager=null),s.atEnd=function(){if(s.gameManager&&s.gameManager.frames.length>10)return s.gameManager.atEnd()},s.initReplay=function(t){if(s.drawer===t.drawer){var e=s.drawer;if(e){var r=s.gameManager,n=s.gameParams.playSpeed||null;r&&1!==r.speed&&(n=r.speed),s.player.data("gameManager",s.gameManager=t),s.currentGameId=t.gameId;var i=t.agents,o=t.tooltips;s.uinput=t.refereeInput||null,s.aiBattle=i.length>1,s.agents=i,s.names=i.map(function(t,e){return t.name||"Player "+e}),f=o.map(function(t){var e=JSON.parse(t);return i.forEach(function(t,r){e.text=e.text.replace(new RegExp("\\$"+r,"g"),t.name||"Unnamed")}),e}),e.initFrames(i.length,t.views,s.agents),s.updater=new v(s.player,t),t.subscribe(function(t,e,r,n){s.updater.update(t,e,r,n)}),s.frameTimerText.html("0/"+t.getFrameCount()),s.bar.width("0%"),s.resetSpeed();var a=n||1;if(s.gameManager.getSpeed()||t.setSpeed(a),!1!==s.showRankings||!1!==s.showSmallRankings){var u,l,h=i.map(function(t,e){return{index:t.index,position:t.position,color:s.getPlayerColor(e)||null,name:t.name||null,rank:t.rank||null,nation:t.nation||null,score:t.score,gameScore:t.gameScore}});for(h.sort(function(t,e){return t.position-e.position}),u=0,l=h.length;u<l&&h[u].gameScore===h[0].gameScore;u++)h[u].winner=!0;s.rankingData=h}var c=-1,p=!1;(g=t.frames.map(function(t,e){return t.agent&&t.agent.userId===s.loggedUserId&&!p&&(c=e,p=!0),t.keyframe&&(p||(c=e),p=!1),c}))[g.length-1]=g.length-1,s.startScreen=!1,y(s.canvas.width)}else console.error("Trying to start a game before Drawer initialisation !")}else console.error("Trying to start a game with the wrong Drawer!")};var m=function(t,e){return t>=e&&t<e+c?t-e-c:e>=t&&e<t+c?c-(e-t):0};function y(t){var e=s.player.find(".marker_container");if(e.is(":visible")){var r,i,o;e.empty(),f.forEach(function(t,n){var i=t.event,o='\n          <div class="ai_player tooltipFrame'+n+'">\n          <div class="tooltipFrame">\n          <div class="tooltip_content"><div class="tooltip_text"></div><div class="tooltipFrameTriangle"></div></div>\n          </div>\n          </div>';e.append(o);var a=(r=e.find(".tooltipFrame"+n)).find(".tooltip_content")[0],u=r.find(".tooltipFrameTriangle")[0],l=r.find(".tooltip_text")[0],h=t.turn-1;l.innerHTML=t.text||"N/A",r[0].style.display="block";var f=100*h/s.gameManager.getFrameCount();r.width(c),r[0].style.left=f+"%",r[0].style["background-color"]=a.style["background-color"]=u.style["border-top-color"]=s.gameManager.agents[i].color}),d=e.children();for(var a=[1,-1],u=0,l=a.length;u<l;u++){var h=a[u];for(i=0,o=d.length;i<o;i++){var p=(r=d[i]).style.left.split("%")[0]/100*t;if(p+c>t){var g=(p-(p+c-t))/t*100+"%";r.style.left=g}for(var v=d.toArray();v.length>0;){var y=v.pop();if(y!==r){var x=m(n.a.element(y).offset().left,n.a.element(r).offset().left)*h,b=null,_=x;if(x>0?b=r:x<0&&(b=y,_*=-1),_*=h,null!==b&&Math.abs(_)>=1){var w=(b.style.left.split("%")[0]/100*t+_)/t*100+"%";b.style.left=w,v=d.toArray()}}}}}for(i=0;i<o;i++){r=d[i];var T=50,E=n.a.element(r).find(".tooltipFrame").width()/2,S=r.style.left.split("%")[0]/100*t+c/2;S-E<0?T=.5*(1-(E-S)/E)*100:S+E>t&&(T=100*(1-.5*(1-(E+S-t)/E))),n.a.element(r).find(".tooltip_content").css({"margin-left":"-"+T+"%","margin-right":T+"%"})}}}s.createCanvas=function(t){var e=n.a.element("<canvas></canvas>");e.appendTo(t);var r=e[0];return r.setAttribute("tabIndex","0"),r.addEventListener("mousedown",function(){r.focus()}),r.addEventListener("click",function(){s.$apply(function(){s.setOptionsVisible(!1),s.applyAsyncRendering()})}),r},s.getNextIndex=function(t,e){return t===s.versionCanvases[e]?t=0:t+=1,t===s.versionCanvases[e]&&(t+=1),t>=s.canvases.length?-1:t},s.versionCanvases={},s.drawerOptionChanged=function(t){s.gameParams&&(s.gameParams[t.title.toLowerCase().replace(/ /g,"")]=t.value)},s.drawerQualityChanged=function(t){s.gameParams&&(s.gameParams.overSampling=t)},s.drawerSpeedChanged=function(t){s.gameParams&&(s.gameParams.playSpeed=t)},s.applyAsyncRendering=function(){s.drawer&&(n.a.isDefined(s.asyncRendering)?s.drawer.enableAsyncRendering(s.asyncRendering):s.drawer.enableAsyncRendering(!0))},s.$watch("drawer",function(t){t&&(s.initDrawer(t),s.applyAsyncRendering())}),s.$watch("asyncRendering",s.applyAsyncRendering),s.initDrawer=function(t){s.drawer=t,s.canvases=[],s.player.find(".canvas-container").empty(),s.player.data("drawer",t),s._initDrawer(t)},s._initDrawer=function(t,e,r){var i,o=s.player.width();if(t){var a=s.player.find(".canvas-container"),u=t.getVersion();if(void 0===e&&s.versionCanvases[u])s.canvas=s.canvases[s.versionCanvases[u]],e=s.versionCanvases[u];else if(r||0===s.canvases.length){var l=s.createCanvas(a);s.canvases.push(l),s.canvas=l,e=s.canvases.length-1}else e||(e=0),s.canvas=s.canvases[e];for(var h=0;h<s.canvases.length;++h)h===e?n.a.element(s.canvases[h]).css({display:"block"}):n.a.element(s.canvases[h]).css({display:"none"});s.ratio?i=s.ratio:t.getGameRatio?i=t.getGameRatio():(i=2,console.log("Game ratio unknown.")),s.gameRatio=i,t.getTVSpeed?s.tvSpeed=t.getTVSpeed():s.tvSpeed=0;var c=o/i;s.canvas.width=o*s.realOverSampling,s.canvas.height=c*s.realOverSampling;try{t.initCanvas(s.canvas),t.setRenderListener(s.stats.begin,s.stats.end),s.player.data("gameRatio",i),n.a.element(".playerDummy").css("padding-top",100/i+"%"),s.resize()}catch(n){if(console.warn(n),r)throw n;console.log("Trying another canvas");var f=s.getNextIndex(e,u);return s._initDrawer(t,f,-1===f)}s.versionCanvases[u]=e,s.$watch("gameParams",function(){var e=s.overSampling;if(s.options=t.getOptions(),s.gameManager&&s.gameParams&&s.gameParams.playSpeed&&s.gameManager.setSpeed(s.gameParams.playSpeed),t.getDefaultOverSampling){var r=t.getDefaultOverSampling();r&&(s.overSampling=r)}s.gameParams&&s.gameParams.overSampling&&(s.overSampling=s.gameParams.overSampling),s.options&&s.options.forEach(function(t){Object.defineProperty(t,"value",t);var e=t.title.toLowerCase().replace(/ /g,"");e in s.gameParams&&(t.value=s.gameParams[e])}),s.overSampling!==e&&s.resize(),s.refresh()})}},s.subscribe=function(t){var e=s.gameManager;e&&e.subscribe(t)},s.destroy=function(){s.destroyed=!0,s.closePlayerSettingsCallback(),s.player.data("gameManager",null),s.gameManager=null,s.lastHotkeys.left&&s.newHotkeys.left===r.get("left")?r.add(s.lastHotkeys.left):r.del("left"),s.lastHotkeys.right&&s.newHotkeys.right===r.get("right")?r.add(s.lastHotkeys.right):r.del("right"),s.lastHotkeys.space&&s.newHotkeys.space===r.get("space")?r.add(s.lastHotkeys.space):r.del("space")},s.lastHotkeys={left:r.get("left"),right:r.get("right"),space:r.get("space")},r.add({combo:"left",description:"Prior frame",callback:function(){s.gameManager&&s.gameManager.prior()}}),r.add({combo:"right",description:"Next frame",callback:function(){s.gameManager&&s.gameManager.next()}}),r.add({combo:"space",description:"Play/Pause",callback:function(t){t.preventDefault(),t.stopPropagation(),s.gameManager&&s.gameManager.togglePlay(!0)}}),s.newHotkeys={left:r.get("left"),right:r.get("right"),space:r.get("space")},s.refresh=function(){s.drawer.refresh()},s.isFullScreen=function(){return(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)===s.player[0]},s.resizeCanvas=function(t,e,r){var i,o,a=n.a.element(t);if(s.isFullScreen()){var u=e.data("gameRatio"),l=n.a.element(window).width(),h=n.a.element(window).height(),c=u/(l/h);if(c>=1){var f=h-h/c;a.css("top",f/2+"px"),a.css("width","100%"),a.css("height",1/c*100+"%"),a.css("left",0),i=l,o=l/u}else a.css("top",0),a.css("width",100*c+"%"),a.css("left",(1-c)/2*100+"%"),a.css("height","100%"),i=h*u,o=h}else a.css("top",0),a.css("width","100%"),a.css("height","100%"),a.css("left",0),i=a.width(),o=a.height();if(t&&a.is(":visible")){var p=Math.max(i*s.overSampling/r.width,o*s.overSampling/r.height);p>1&&(s.realOverSampling/=p),t.width=i*s.realOverSampling,t.height=o*s.realOverSampling}return i},s.resize=function(){var t=s.player,e=s.drawer;s.realOverSampling=s.overSampling;var r=0;if(s.canvases)for(var n=0;n<s.canvases.length;++n)r=s.resizeCanvas(s.canvases[n],t,e.getMaxCanvasSize());e&&(e.init(s.canvas,e.playerColors||h,s.realOverSampling,function(){s.endEvent()},s.location),e.refresh()),y(r),s.applyAsyncRendering()};var x={toggleFullScreen:s.toggleFullScreen,isFullScreen:s.isFullScreen,initReplay:s.initReplay,toggleConsole:s.toggleConsole,resize:s.resize};s.onPlayerReady({$playerApi:x}),s.hitbox.mousedown(function(t){var e,r,i,o;1===t.which&&"scroller_handle"!==t.target.classList[0]&&(e={left:t.pageX-n.a.element(this).offset().left},r=t,i=s.player,o=s.handle,i.data("gameManager")&&(r.target=o[0],o.trigger(r),p(0,e)))}),s.isDragging=!1;var b=function(t){s.isDragging||(s.scroller.addClass("active"),s.hitbox.addClass("active"),s.isDragging=!0,s.offsetX=s.player.offset().left),p(0,{left:t.pageX-s.offsetX});var e=t;e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()};s.handle.mousedown(function(){n.a.element(window).mousemove(b)}),n.a.element(window).mouseup(function(){var t=s.isDragging;s.isDragging=!1,n.a.element(window).unbind("mousemove",b),t&&(s.scroller.removeClass("active"),s.hitbox.removeClass("active"))}),s.$on("$destroy",s.destroy)}}}])}).call(this,r("yLpj"))},yt8O:function(t,e,r){"use strict";var n=r("nGyu"),i=r("1TsA"),o=r("hPIQ"),s=r("aCFj");t.exports=r("Afnz")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},z2o2:function(t,e,r){var n=r("0/R4"),i=r("Z6vF").onFreeze;r("Xtr8")("seal",function(t){return function(e){return t&&n(e)?t(i(e)):e}})},zRwo:function(t,e,r){var n=r("6FMO");t.exports=function(t,e){return new(n(t))(e)}},zXhZ:function(t,e,r){var n=r("5K7Z"),i=r("93I4"),o=r("ZW5q");t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},zhAb:function(t,e,r){var n=r("aagx"),i=r("aCFj"),o=r("w2a5")(!1),s=r("YTvA")("IE_PROTO");t.exports=function(t,e){var r,a=i(t),u=0,l=[];for(r in a)r!=s&&n(a,r)&&l.push(r);for(;e.length>u;)n(a,r=e[u++])&&(~o(l,r)||l.push(r));return l}},zn7N:function(t,e,r){var n=r("Y7ZC"),i=r("WEpk"),o=r("KUxP");t.exports=function(t,e){var r=(i.Object||{})[t]||Object[t],s={};s[t]=e(r),n(n.S+n.F*o(function(){r(1)}),"Object",s)}},"zq+C":function(t,e,r){var n=r("N6cJ"),i=r("y3w9"),o=n.key,s=n.map,a=n.store;n.exp({deleteMetadata:function(t,e){var r=arguments.length<3?void 0:o(arguments[2]),n=s(i(e),r,!1);if(void 0===n||!n.delete(t))return!1;if(n.size)return!0;var u=a.get(e);return u.delete(r),!!u.size||a.delete(e)}})}});